"use strict";(self.webpackChunklaunch_countdown_timer_app=self.webpackChunklaunch_countdown_timer_app||[]).push([[179],{247:(zi,Mn,$e)=>{$e.d(Mn,{$:()=>Qd,A:()=>fe,G:()=>Xe,K:()=>Xy,L:()=>na,N:()=>_r,P:()=>yg,R:()=>ic,U:()=>Ue,V:()=>De,W:()=>go,X:()=>cr,Y:()=>sa,Z:()=>vr,_:()=>ut,a:()=>ch,a0:()=>mu,a1:()=>xr,a2:()=>la,a3:()=>yi,a4:()=>av,a5:()=>_D,a6:()=>yD,a7:()=>vD,a8:()=>th,a9:()=>ED,aA:()=>kl,aB:()=>ze,aC:()=>oe,aD:()=>xu,aE:()=>Z,aF:()=>vt,aG:()=>Io,aH:()=>bg,aI:()=>MD,aJ:()=>He,aN:()=>fa,aQ:()=>gs,aa:()=>yo,ab:()=>Qi,ac:()=>Jp,ad:()=>uv,ae:()=>Xp,af:()=>cv,ag:()=>eg,ah:()=>tr,ak:()=>dv,al:()=>da,am:()=>Jr,ap:()=>qt,aq:()=>fv,as:()=>_v,at:()=>yv,au:()=>te,av:()=>cu,aw:()=>xl,ax:()=>Pt,ay:()=>Rh,az:()=>Pg,b:()=>lh,c:()=>wg,d:()=>wh,e:()=>Sv,f:()=>ND,g:()=>Mu,h:()=>OD,i:()=>bv,j:()=>On,k:()=>Fu,l:()=>Yi,m:()=>jg,p:()=>zt,r:()=>oc,s:()=>_g,u:()=>Eh});var R=$e(861),ge=$e(212),M=$e(578),Me=$e(357),ln=$e(655);$e(617);const zt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xe=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Nn=lt,St=new M.LL("auth","Firebase",lt()),Ke=new Me.Yd("@firebase/auth");function bn(p,...l){Ke.logLevel<=Me.in.ERROR&&Ke.error(`Auth (${ge.SDK_VERSION}): ${p}`,...l)}function Pt(p,...l){throw yn(p,...l)}function ze(p,...l){return yn(p,...l)}function Pr(p,l,d){const g=Object.assign(Object.assign({},Nn()),{[l]:d});return new M.LL("auth","Firebase",g).create(l,{appName:p.name})}function Gt(p){return Pr(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function it(p,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&Pt(p,"argument-error"),Pr(p,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yn(p,...l){if("string"!=typeof p){const d=l[0],g=[...l.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(d,...g)}return St.create(p,...l)}function oe(p,l,...d){if(!p)throw yn(l,...d)}function X(p){const l="INTERNAL ASSERTION FAILED: "+p;throw bn(l),new Error(l)}function te(p,l){p||X(l)}function ae(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function de(){return"http:"===Ee()||"https:"===Ee()}function Ee(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class At{constructor(l,d){this.shortDelay=l,this.longDelay=d,te(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function pe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(de()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $n(p,l){te(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class Ge{static initialize(l,d,g){this.fetchImpl=l,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void X("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void X("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void X("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rr=new At(3e4,6e4);function Qe(p,l){return p.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:p.tenantId}):l}function ft(p,l,d,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,R.Z)(function*(p,l,d,g,I={}){return di(p,I,(0,R.Z)(function*(){let T={},V={};g&&("GET"===l?V=g:T={body:JSON.stringify(g)});const K=(0,M.xO)(Object.assign({key:p.config.apiKey},V)).slice(1),se=yield p._getAdditionalHeaders();se["Content-Type"]="application/json",p.languageCode&&(se["X-Firebase-Locale"]=p.languageCode);const Te=Object.assign({method:l,headers:se},T);return(0,M.L_)()||(Te.referrerPolicy="no-referrer"),Ge.fetch()(lo(p,p.config.apiHost,d,K),Te)}))})).apply(this,arguments)}function di(p,l,d){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,R.Z)(function*(p,l,d){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},Tn),l);try{const I=new co(p),T=yield Promise.race([d(),I.promise]);I.clearNetworkTimeout();const V=yield T.json();if("needConfirmation"in V)throw fi(p,"account-exists-with-different-credential",V);if(T.ok&&!("errorMessage"in V))return V;{const K=T.ok?V.errorMessage:V.error.message,[se,Te]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===se)throw fi(p,"credential-already-in-use",V);if("EMAIL_EXISTS"===se)throw fi(p,"email-already-in-use",V);if("USER_DISABLED"===se)throw fi(p,"user-disabled",V);const Fe=g[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(Te)throw Pr(p,Fe,Te);Pt(p,Fe)}}catch(I){if(I instanceof M.ZR)throw I;Pt(p,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function gr(p,l,d,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,R.Z)(function*(p,l,d,g,I={}){const T=yield ft(p,l,d,g,I);return"mfaPendingCredential"in T&&Pt(p,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function lo(p,l,d,g){const I=`${l}${d}?${g}`;return p.config.emulator?$n(p.config,I):`${p.config.apiScheme}://${I}`}function qi(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class co{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(ze(this.auth,"network-request-failed")),Rr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fi(p,l,d){const g={appName:p.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const I=ze(p,l,g);return I.customData._tokenResponse=d,I}function pi(p){return void 0!==p&&void 0!==p.getResponse}function us(p){return void 0!==p&&void 0!==p.enterprise}class ho{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===l)return qi(d.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function Rs(){return(Rs=(0,R.Z)(function*(p){return(yield ft(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dn(p,l){return ar.apply(this,arguments)}function ar(){return(ar=(0,R.Z)(function*(p,l){return ft(p,"GET","/v2/recaptchaConfig",Qe(p,l))})).apply(this,arguments)}function Ms(){return(Ms=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Ns(p,l){return mr.apply(this,arguments)}function mr(){return(mr=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ds(p,l){return ur.apply(this,arguments)}function ur(){return(ur=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Zn(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function fs(){return(fs=(0,R.Z)(function*(p,l=!1){const d=(0,M.m9)(p),g=yield d.getIdToken(l),I=Wi(g);oe(I&&I.exp&&I.auth_time&&I.iat,d.auth,"internal-error");const T="object"==typeof I.firebase?I.firebase:void 0,V=T?.sign_in_provider;return{claims:I,token:g,authTime:Zn(Mr(I.auth_time)),issuedAtTime:Zn(Mr(I.iat)),expirationTime:Zn(Mr(I.exp)),signInProvider:V||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function Mr(p){return 1e3*Number(p)}function Wi(p){const[l,d,g]=p.split(".");if(void 0===l||void 0===d||void 0===g)return bn("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,M.tV)(d);return I?JSON.parse(I):(bn("Failed to decode base64 JWT payload"),null)}catch(I){return bn("Caught error parsing JWT payload as JSON",I?.toString()),null}}function Ki(p){const l=Wi(p);return oe(l,"internal-error"),oe(typeof l.exp<"u","internal-error"),oe(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}function Vt(p,l){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,R.Z)(function*(p,l,d=!1){if(d)return l;try{return yield l}catch(g){throw g instanceof M.ZR&&xs(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}function xs({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}class Xo{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const I=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(l);this.timerId=setTimeout((0,R.Z)(function*(){yield d.iteration()}),g)}iteration(){var l=this;return(0,R.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class Bt{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dt(p){return gi.apply(this,arguments)}function gi(){return(gi=(0,R.Z)(function*(p){var l;const d=p.auth,g=yield p.getIdToken(),I=yield Vt(p,ds(d,{idToken:g}));oe(I?.users.length,d,"internal-error");const T=I.users[0];p._notifyReloadListener(T);const V=null!==(l=T.providerUserInfo)&&void 0!==l&&l.length?Rt(T.providerUserInfo):[],K=ps(p.providerData,V),Fe=!!p.isAnonymous&&!(p.email&&T.passwordHash||K?.length),yt={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:K,metadata:new Bt(T.createdAt,T.lastLoginAt),isAnonymous:Fe};Object.assign(p,yt)})).apply(this,arguments)}function mi(){return(mi=(0,R.Z)(function*(p){const l=(0,M.m9)(p);yield dt(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function ps(p,l){return[...p.filter(g=>!l.some(I=>I.providerId===g.providerId)),...l]}function Rt(p){return p.map(l=>{var{providerId:d}=l,g=(0,ln._T)(l,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function _i(){return(_i=(0,R.Z)(function*(p,l){const d=yield di(p,{},(0,R.Z)(function*(){const g=(0,M.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:I,apiKey:T}=p.config,V=lo(p,I,"/v1/token",`key=${T}`),K=yield p._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(V,{method:"POST",headers:K,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class w{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){oe(l.idToken,"internal-error"),oe(typeof l.idToken<"u","internal-error"),oe(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):Ki(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}updateFromIdToken(l){oe(0!==l.length,"internal-error");const d=Ki(l);this.updateTokensAndExpiration(l,null,d)}getToken(l,d=!1){var g=this;return(0,R.Z)(function*(){return d||!g.accessToken||g.isExpired?(oe(g.refreshToken,l,"user-token-expired"),g.refreshToken?(yield g.refresh(l,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var g=this;return(0,R.Z)(function*(){const{accessToken:I,refreshToken:T,expiresIn:V}=yield function Be(p,l){return _i.apply(this,arguments)}(l,d);g.updateTokensAndExpiration(I,T,Number(V))})()}updateTokensAndExpiration(l,d,g){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(l,d){const{refreshToken:g,accessToken:I,expirationTime:T}=d,V=new w;return g&&(oe("string"==typeof g,"internal-error",{appName:l}),V.refreshToken=g),I&&(oe("string"==typeof I,"internal-error",{appName:l}),V.accessToken=I),T&&(oe("number"==typeof T,"internal-error",{appName:l}),V.expirationTime=T),V}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new w,this.toJSON())}_performRefresh(){return X("not implemented")}}function v(p,l){oe("string"==typeof p||typeof p>"u","internal-error",{appName:l})}class x{constructor(l){var{uid:d,auth:g,stsTokenManager:I}=l,T=(0,ln._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new Bt(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,R.Z)(function*(){const g=yield Vt(d,d.stsTokenManager.getToken(d.auth,l));return oe(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(l){return function hs(p){return fs.apply(this,arguments)}(this,l)}reload(){return function bt(p){return mi.apply(this,arguments)}(this)}_assign(l){this!==l&&(oe(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const d=new x(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(l){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var g=this;return(0,R.Z)(function*(){let I=!1;l.idToken&&l.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(l),I=!0),d&&(yield dt(g)),yield g.auth._persistUserIfCurrent(g),I&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var l=this;return(0,R.Z)(function*(){if((0,ge._isFirebaseServerApp)(l.auth.app))return Promise.reject(Gt(l.auth));const d=yield l.getIdToken();return yield Vt(l,function cs(p,l){return Ms.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var g,I,T,V,K,se,Te,Fe;const yt=null!==(g=d.displayName)&&void 0!==g?g:void 0,Fr=null!==(I=d.email)&&void 0!==I?I:void 0,Hs=null!==(T=d.phoneNumber)&&void 0!==T?T:void 0,Vu=null!==(V=d.photoURL)&&void 0!==V?V:void 0,Hg=null!==(K=d.tenantId)&&void 0!==K?K:void 0,Oh=null!==(se=d._redirectEventId)&&void 0!==se?se:void 0,br=null!==(Te=d.createdAt)&&void 0!==Te?Te:void 0,yc=null!==(Fe=d.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:vc,emailVerified:Ec,isAnonymous:nr,providerData:wo,stsTokenManager:kh}=d;oe(vc&&kh,l,"internal-error");const zg=w.fromJSON(this.name,kh);oe("string"==typeof vc,l,"internal-error"),v(yt,l.name),v(Fr,l.name),oe("boolean"==typeof Ec,l,"internal-error"),oe("boolean"==typeof nr,l,"internal-error"),v(Hs,l.name),v(Vu,l.name),v(Hg,l.name),v(Oh,l.name),v(br,l.name),v(yc,l.name);const Fh=new x({uid:vc,auth:l,email:Fr,emailVerified:Ec,displayName:yt,isAnonymous:nr,photoURL:Vu,phoneNumber:Hs,tenantId:Hg,stsTokenManager:zg,createdAt:br,lastLoginAt:yc});return wo&&Array.isArray(wo)&&(Fh.providerData=wo.map(Gg=>Object.assign({},Gg))),Oh&&(Fh._redirectEventId=Oh),Fh}static _fromIdTokenResponse(l,d,g=!1){return(0,R.Z)(function*(){const I=new w;I.updateFromServerResponse(d);const T=new x({uid:d.localId,auth:l,stsTokenManager:I,isAnonymous:g});return yield dt(T),T})()}static _fromGetAccountInfoResponse(l,d,g){return(0,R.Z)(function*(){const I=d.users[0];oe(void 0!==I.localId,"internal-error");const T=void 0!==I.providerUserInfo?Rt(I.providerUserInfo):[],V=!(I.email&&I.passwordHash||T?.length),K=new w;K.updateFromIdToken(g);const se=new x({uid:I.localId,auth:l,stsTokenManager:K,isAnonymous:V}),Te={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:T,metadata:new Bt(I.createdAt,I.lastLoginAt),isAnonymous:!(I.email&&I.passwordHash||T?.length)};return Object.assign(se,Te),se})()}}const P=new Map;function Z(p){te(p instanceof Function,"Expected a class definition");let l=P.get(p);return l?(te(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,P.set(p,l),l)}const Ue=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,R.Z)(function*(){return!0})()}_set(d,g){var I=this;return(0,R.Z)(function*(){I.storage[d]=g})()}_get(d){var g=this;return(0,R.Z)(function*(){const I=g.storage[d];return void 0===I?null:I})()}_remove(d){var g=this;return(0,R.Z)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return p.type="NONE",p})();function vt(p,l,d){return`firebase:${p}:${l}:${d}`}function xl(p=(0,M.z$)()){return/android/i.test(p)}function cu(p=(0,M.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function kl(p=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}function H(p=(0,M.z$)()){return cu(p)||xl(p)||function Hd(p=(0,M.z$)()){return/webos/i.test(p)}(p)||function Ol(p=(0,M.z$)()){return/blackberry/i.test(p)}(p)||/windows phone/i.test(p)||function Zr(p=(0,M.z$)()){return/iemobile/i.test(p)}(p)}function He(p){return(0,M.m9)(p)}let ea_loadJS=()=>(0,R.Z)(function*(){throw new Error("Unable to load external scripts")})(),ea_recaptchaV2Script="",ea_recaptchaEnterpriseScript="",ea_gapiScript="";function zd(p){return ea_loadJS(p)}function Vl(p){return`__${p}${Math.floor(1e6*Math.random())}`}class Ye{constructor(l){this.type="recaptcha-enterprise",this.auth=He(l)}verify(l="verify",d=!1){var g=this;return(0,R.Z)(function*(){function T(){return T=(0,R.Z)(function*(K){if(!d){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var se=(0,R.Z)(function*(Te,Fe){Dn(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yt=>{if(void 0!==yt.recaptchaKey){const Fr=new ho(yt);return null==K.tenantId?K._agentRecaptchaConfig=Fr:K._tenantRecaptchaConfigs[K.tenantId]=Fr,Te(Fr.siteKey)}Fe(new Error("recaptcha Enterprise site key undefined"))}).catch(yt=>{Fe(yt)})});return function(Te,Fe){return se.apply(this,arguments)}}())}),T.apply(this,arguments)}function V(K,se,Te){const Fe=window.grecaptcha;us(Fe)?Fe.enterprise.ready(()=>{Fe.enterprise.execute(K,{action:l}).then(yt=>{se(yt)}).catch(()=>{se("NO_RECAPTCHA")})}):Te(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,se)=>{(function I(K){return T.apply(this,arguments)})(g.auth).then(Te=>{if(!d&&us(window.grecaptcha))V(Te,K,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));let Fe=function Fp(){return ea_recaptchaEnterpriseScript}();0!==Fe.length&&(Fe+=Te),zd(Fe).then(()=>{V(Te,K,se)}).catch(yt=>{se(yt)})}}).catch(Te=>{se(Te)})})})()}}function Ll(p,l,d){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,R.Z)(function*(p,l,d,g=!1){const I=new Ye(p);let T;try{T=yield I.verify(d)}catch{T=yield I.verify(d,!0)}const V=Object.assign({},l);return Object.assign(V,g?{captchaResp:T}:{captchaResponse:T}),Object.assign(V,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(V,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),V})).apply(this,arguments)}function lr(p,l,d,g){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,R.Z)(function*(p,l,d,g){var I;if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const T=yield Ll(p,l,d,"getOobCode"===d);return g(p,T)}return g(p,l).catch(function(){var T=(0,R.Z)(function*(V){if("auth/missing-recaptcha-token"===V.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const K=yield Ll(p,l,d,"getOobCode"===d);return g(p,K)}return Promise.reject(V)});return function(V){return T.apply(this,arguments)}}())}),Bl.apply(this,arguments)}function Xy(p,l,d){const g=He(p);oe(g._canInitEmulator,g,"emulator-config-failed"),oe(/^https?:\/\//.test(l),g,"invalid-emulator-scheme");const I=!!d?.disableWarnings,T=ta(l),{host:V,port:K}=function qd(p){const l=ta(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(l.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(g);if(I){const T=I[1];return{host:T,port:du(g.substr(T.length+1))}}{const[T,V]=g.split(":");return{host:T,port:du(V)}}}(l);g.config.emulator={url:`${T}//${V}${null===K?"":`:${K}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:V,port:K,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function ev(){function p(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}function ta(p){const l=p.indexOf(":");return l<0?"":p.substr(0,l+1)}function du(p){if(!p)return null;const l=Number(p);return isNaN(l)?null:l}class na{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return X("not implemented")}_getIdTokenResponse(l){return X("not implemented")}_linkToIdToken(l,d){return X("not implemented")}_getReauthenticationResolver(l){return X("not implemented")}}function Lp(p,l){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:resetPassword",Qe(p,l))})).apply(this,arguments)}function hu(p,l){return Os.apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function tv(p,l){return _e.apply(this,arguments)}function _e(){return(_e=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function Bp(p,l){return fo.apply(this,arguments)}function fo(){return(fo=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:update",Qe(p,l))})).apply(this,arguments)}function jl(p,l){return fu.apply(this,arguments)}function fu(){return(fu=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signInWithPassword",Qe(p,l))})).apply(this,arguments)}function ks(p,l){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:sendOobCode",Qe(p,l))})).apply(this,arguments)}function nv(p,l){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,R.Z)(function*(p,l){return ks(p,l)})).apply(this,arguments)}function Fs(p,l){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,R.Z)(function*(p,l){return ks(p,l)})).apply(this,arguments)}function gD(p,l){return Up.apply(this,arguments)}function Up(){return(Up=(0,R.Z)(function*(p,l){return ks(p,l)})).apply(this,arguments)}function Ri(p,l){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,R.Z)(function*(p,l){return ks(p,l)})).apply(this,arguments)}function ra(){return(ra=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signInWithEmailLink",Qe(p,l))})).apply(this,arguments)}function pu(){return(pu=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signInWithEmailLink",Qe(p,l))})).apply(this,arguments)}class ia extends na{constructor(l,d,g,I=null){super("password",g),this._email=l,this._password=d,this._tenantId=I}static _fromEmailAndPassword(l,d){return new ia(l,d,"password")}static _fromEmailAndCode(l,d,g=null){return new ia(l,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,R.Z)(function*(){switch(d.signInMethod){case"password":return lr(l,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",jl);case"emailLink":return function Ot(p,l){return ra.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:Pt(l,"internal-error")}})()}_linkToIdToken(l,d){var g=this;return(0,R.Z)(function*(){switch(g.signInMethod){case"password":return lr(l,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tv);case"emailLink":return function Zd(p,l){return pu.apply(this,arguments)}(l,{idToken:d,email:g._email,oobCode:g._password});default:Pt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Qn(p,l){return po.apply(this,arguments)}function po(){return(po=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signInWithIdp",Qe(p,l))})).apply(this,arguments)}class _r extends na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new _r(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):Pt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:g,signInMethod:I}=d,T=(0,ln._T)(d,["providerId","signInMethod"]);if(!g||!I)return null;const V=new _r(g,I);return V.idToken=T.idToken||void 0,V.accessToken=T.accessToken||void 0,V.secret=T.secret,V.nonce=T.nonce,V.pendingToken=T.pendingToken||null,V}_getIdTokenResponse(l){return Qn(l,this.buildRequest())}_linkToIdToken(l,d){const g=this.buildRequest();return g.idToken=d,Qn(l,g)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Qn(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,M.xO)(d)}return l}}function iv(p,l){return $l.apply(this,arguments)}function $l(){return($l=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:sendVerificationCode",Qe(p,l))})).apply(this,arguments)}function xn(){return(xn=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signInWithPhoneNumber",Qe(p,l))})).apply(this,arguments)}function Hl(){return(Hl=(0,R.Z)(function*(p,l){const d=yield gr(p,"POST","/v1/accounts:signInWithPhoneNumber",Qe(p,l));if(d.temporaryProof)throw fi(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const st={USER_NOT_FOUND:"user-not-found"};function Mt(){return(Mt=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signInWithPhoneNumber",Qe(p,Object.assign(Object.assign({},l),{operation:"REAUTH"})),st)})).apply(this,arguments)}class dn extends na{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new dn({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new dn({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function jp(p,l){return xn.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function sv(p,l){return Hl.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Nr(p,l){return Mt.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:g,verificationCode:I}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:g,code:I}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:g,phoneNumber:I,temporaryProof:T}=l;return g||d||I||T?new dn({verificationId:d,verificationCode:g,phoneNumber:I,temporaryProof:T}):null}}class Yn{constructor(l){var d,g,I,T,V,K;const se=(0,M.zd)((0,M.pd)(l)),Te=null!==(d=se.apiKey)&&void 0!==d?d:null,Fe=null!==(g=se.oobCode)&&void 0!==g?g:null,yt=function yr(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=se.mode)&&void 0!==I?I:null);oe(Te&&Fe&&yt,"argument-error"),this.apiKey=Te,this.operation=yt,this.code=Fe,this.continueUrl=null!==(T=se.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(V=se.languageCode)&&void 0!==V?V:null,this.tenantId=null!==(K=se.tenantId)&&void 0!==K?K:null}static parseLink(l){const d=function gu(p){const l=(0,M.zd)((0,M.pd)(p)).link,d=l?(0,M.zd)((0,M.pd)(l)).deep_link_id:null,g=(0,M.zd)((0,M.pd)(p)).deep_link_id;return(g?(0,M.zd)((0,M.pd)(g)).link:null)||g||d||l||p}(l);try{return new Yn(d)}catch{return null}}}let De=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,g){return ia._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const I=Yn.parseLink(g);return oe(I,"argument-error"),ia._fromEmailAndCode(d,I.code,I.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class qe{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Ut extends qe{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class vr extends Ut{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),_r._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return oe(l.idToken||l.accessToken,"argument-error"),_r._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return vr.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return vr.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:I,pendingToken:T,nonce:V,providerId:K}=l;if(!g&&!I&&!d&&!T||!K)return null;try{return new vr(K)._credential({idToken:d,accessToken:g,nonce:V,pendingToken:T})}catch{return null}}}let go=(()=>{class p extends Ut{constructor(){super("facebook.com")}static credential(d){return _r._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),cr=(()=>{class p extends Ut{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return _r._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:I}=d;if(!g&&!I)return null;try{return p.credential(g,I)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),sa=(()=>{class p extends Ut{constructor(){super("github.com")}static credential(d){return _r._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class gs extends na{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return Qn(l,this.buildRequest())}_linkToIdToken(l,d){const g=this.buildRequest();return g.idToken=d,Qn(l,g)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Qn(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:g,signInMethod:I,pendingToken:T}=d;return g&&I&&T&&g===I?new gs(g,T):null}static _create(l,d){return new gs(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ut extends qe{constructor(l){oe(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return ut.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return ut.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=gs.fromJSON(l);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:g}=l;if(!d||!g)return null;try{return gs._create(g,d)}catch{return null}}}let Qd=(()=>{class p extends Ut{constructor(){super("twitter.com")}static credential(d,g){return _r._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:I}=d;if(!g||!I)return null;try{return p.credential(g,I)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function oa(p,l){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signUp",Qe(p,l))})).apply(this,arguments)}class Jn{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,g,I=!1){return(0,R.Z)(function*(){const T=yield x._fromIdTokenResponse(l,g,I),V=Xn(g);return new Jn({user:T,providerId:V,_tokenResponse:g,operationType:d})})()}static _forOperation(l,d,g){return(0,R.Z)(function*(){yield l._updateTokensIfNecessary(g,!0);const I=Xn(g);return new Jn({user:l,providerId:I,_tokenResponse:g,operationType:d})})()}}function Xn(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function mu(p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,R.Z)(function*(p){var l;if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const d=He(p);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new Jn({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield oa(d,{returnSecureToken:!0}),I=yield Jn._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(I.user),I})).apply(this,arguments)}class Yr extends M.ZR{constructor(l,d,g,I){var T;super(d.code,d.message),this.operationType=g,this.user=I,Object.setPrototypeOf(this,Yr.prototype),this.customData={appName:l.name,tenantId:null!==(T=l.tenantId)&&void 0!==T?T:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(l,d,g,I){return new Yr(l,d,g,I)}}function aa(p,l,d,g){return("reauthenticate"===l?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Yr._fromErrorAndOperation(p,T,l,g):T})}function Yd(p){return new Set(p.map(({providerId:l})=>l).filter(l=>!!l))}function qt(p,l){return $p.apply(this,arguments)}function $p(){return($p=(0,R.Z)(function*(p,l){const d=(0,M.m9)(p);yield mo(!0,d,l);const{providerUserInfo:g}=yield Ns(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),I=Yd(g||[]);return d.providerData=d.providerData.filter(T=>I.has(T.providerId)),I.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function _u(p,l){return ql.apply(this,arguments)}function ql(){return(ql=(0,R.Z)(function*(p,l,d=!1){const g=yield Vt(p,l._linkToIdToken(p.auth,yield p.getIdToken()),d);return Jn._forOperation(p,"link",g)})).apply(this,arguments)}function mo(p,l,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,R.Z)(function*(p,l,d){yield dt(l);const I=!1===p?"provider-already-linked":"no-such-provider";oe(Yd(l.providerData).has(d)===p,l.auth,I)})).apply(this,arguments)}function _o(p,l){return er.apply(this,arguments)}function er(){return(er=(0,R.Z)(function*(p,l,d=!1){const{auth:g}=p;if((0,ge._isFirebaseServerApp)(g.app))return Promise.reject(Gt(g));const I="reauthenticate";try{const T=yield Vt(p,aa(g,I,l,p),d);oe(T.idToken,g,"internal-error");const V=Wi(T.idToken);oe(V,g,"internal-error");const{sub:K}=V;return oe(p.uid===K,g,"user-mismatch"),Jn._forOperation(p,I,T)}catch(T){throw"auth/user-not-found"===T?.code&&Pt(g,"user-mismatch"),T}})).apply(this,arguments)}function ov(p,l){return Er.apply(this,arguments)}function Er(){return(Er=(0,R.Z)(function*(p,l,d=!1){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const g="signIn",I=yield aa(p,g,l),T=yield Jn._fromIdTokenResponse(p,g,I);return d||(yield p._updateCurrentUser(T.user)),T})).apply(this,arguments)}function xr(p,l){return yu.apply(this,arguments)}function yu(){return(yu=(0,R.Z)(function*(p,l){return ov(He(p),l)})).apply(this,arguments)}function la(p,l){return ca.apply(this,arguments)}function ca(){return(ca=(0,R.Z)(function*(p,l){const d=(0,M.m9)(p);return yield mo(!1,d,l.providerId),_u(d,l)})).apply(this,arguments)}function yi(p,l){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,R.Z)(function*(p,l){return _o((0,M.m9)(p),l)})).apply(this,arguments)}function mD(p,l){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,R.Z)(function*(p,l){return gr(p,"POST","/v1/accounts:signInWithCustomToken",Qe(p,l))})).apply(this,arguments)}function av(p,l){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,R.Z)(function*(p,l){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const d=He(p),g=yield mD(d,{token:l,returnSecureToken:!0}),I=yield Jn._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(I.user),I})).apply(this,arguments)}class Wl{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?zp._fromServerResponse(l,d):"totpInfo"in d?Gp._fromServerResponse(l,d):Pt(l,"internal-error")}}class zp extends Wl{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new zp(d)}}class Gp extends Wl{constructor(l){super("totp",l)}static _fromServerResponse(l,d){return new Gp(d)}}function eh(p,l,d){var g;oe((null===(g=d.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,p,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function qp(p){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,R.Z)(function*(p){const l=He(p);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function _D(p,l,d){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,R.Z)(function*(p,l,d){const g=He(p),I={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};d&&eh(g,I,d),yield lr(g,I,"getOobCode",Fs)})).apply(this,arguments)}function yD(p,l,d){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,R.Z)(function*(p,l,d){yield Lp((0,M.m9)(p),{oobCode:l,newPassword:d}).catch(function(){var g=(0,R.Z)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&qp(p),I});return function(I){return g.apply(this,arguments)}}())}),Zp.apply(this,arguments)}function vD(p,l){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,R.Z)(function*(p,l){yield Bp((0,M.m9)(p),{oobCode:l})})).apply(this,arguments)}function th(p,l){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,R.Z)(function*(p,l){const d=(0,M.m9)(p),g=yield Lp(d,{oobCode:l}),I=g.requestType;switch(oe(I,d,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(g.mfaInfo,d,"internal-error");default:oe(g.email,d,"internal-error")}let T=null;return g.mfaInfo&&(T=Wl._fromServerResponse(He(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:T},operation:I}})).apply(this,arguments)}function ED(p,l){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,R.Z)(function*(p,l){const{data:d}=yield th((0,M.m9)(p),l);return d.email})).apply(this,arguments)}function yo(p,l,d){return nh.apply(this,arguments)}function nh(){return(nh=(0,R.Z)(function*(p,l,d){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const g=He(p),V=yield lr(g,{returnSecureToken:!0,email:l,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oa).catch(se=>{throw"auth/password-does-not-meet-requirements"===se.code&&qp(p),se}),K=yield Jn._fromIdTokenResponse(g,"signIn",V);return yield g._updateCurrentUser(K.user),K})).apply(this,arguments)}function Qi(p,l,d){return(0,ge._isFirebaseServerApp)(p.app)?Promise.reject(Gt(p)):xr((0,M.m9)(p),De.credential(l,d)).catch(function(){var g=(0,R.Z)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&qp(p),I});return function(I){return g.apply(this,arguments)}}())}function Jp(p,l,d){return rh.apply(this,arguments)}function rh(){return(rh=(0,R.Z)(function*(p,l,d){const g=He(p),I={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function T(V,K){oe(K.handleCodeInApp,g,"argument-error"),K&&eh(g,V,K)})(I,d),yield lr(g,I,"getOobCode",gD)})).apply(this,arguments)}function uv(p,l){return"EMAIL_SIGNIN"===Yn.parseLink(l)?.operation}function Xp(p,l,d){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,R.Z)(function*(p,l,d){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const g=(0,M.m9)(p),I=De.credentialWithLink(l,d||ae());return oe(I._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),xr(g,I)})).apply(this,arguments)}function lv(p,l){return vu.apply(this,arguments)}function vu(){return(vu=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:createAuthUri",Qe(p,l))})).apply(this,arguments)}function cv(p,l){return Or.apply(this,arguments)}function Or(){return(Or=(0,R.Z)(function*(p,l){const g={identifier:l,continueUri:de()?ae():"http://localhost"},{signinMethods:I}=yield lv((0,M.m9)(p),g);return I||[]})).apply(this,arguments)}function eg(p,l){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,R.Z)(function*(p,l){const d=(0,M.m9)(p),I={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};l&&eh(d.auth,I,l);const{email:T}=yield nv(d.auth,I);T!==p.email&&(yield p.reload())})).apply(this,arguments)}function tr(p,l,d){return ih.apply(this,arguments)}function ih(){return(ih=(0,R.Z)(function*(p,l,d){const g=(0,M.m9)(p),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:l};d&&eh(g.auth,T,d);const{email:V}=yield Ri(g.auth,T);V!==p.email&&(yield p.reload())})).apply(this,arguments)}function Yl(p,l){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,R.Z)(function*(p,l){return ft(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function dv(p,l){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,R.Z)(function*(p,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const g=(0,M.m9)(p),T={idToken:yield g.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},V=yield Vt(g,Yl(g.auth,T));g.displayName=V.displayName||null,g.photoURL=V.photoUrl||null;const K=g.providerData.find(({providerId:se})=>"password"===se);K&&(K.displayName=g.displayName,K.photoURL=g.photoURL),yield g._updateTokensIfNecessary(V)})).apply(this,arguments)}function da(p,l){const d=(0,M.m9)(p);return(0,ge._isFirebaseServerApp)(d.auth.app)?Promise.reject(Gt(d.auth)):tg(d,l,null)}function Jr(p,l){return tg((0,M.m9)(p),null,l)}function tg(p,l,d){return ha.apply(this,arguments)}function ha(){return(ha=(0,R.Z)(function*(p,l,d){const{auth:g}=p,T={idToken:yield p.getIdToken(),returnSecureToken:!0};l&&(T.email=l),d&&(T.password=d);const V=yield Vt(p,hu(g,T));yield p._updateTokensIfNecessary(V,!0)})).apply(this,arguments)}class Xr{constructor(l,d,g={}){this.isNewUser=l,this.providerId=d,this.profile=g}}class sh extends Xr{constructor(l,d,g,I){super(l,d,g),this.username=I}}class oh extends Xr{constructor(l,d){super(l,"facebook.com",d)}}class ot extends sh{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class ng extends Xr{constructor(l,d){super(l,"google.com",d)}}class ID extends sh{constructor(l,d,g){super(l,"twitter.com",d,g)}}function fv(p){const{user:l,_tokenResponse:d}=p;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function hv(p){var l,d;if(!p)return null;const{providerId:g}=p,I=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},T=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const V=null===(d=null===(l=Wi(p.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(V)return new Xr(T,"anonymous"!==V&&"custom"!==V?V:null)}if(!g)return null;switch(g){case"facebook.com":return new oh(T,I);case"github.com":return new ot(T,I);case"google.com":return new ng(T,I);case"twitter.com":return new ID(T,I,p.screenName||null);case"custom":case"anonymous":return new Xr(T,null);default:return new Xr(T,g,I)}}(d)}class ms{constructor(l,d,g){this.type=l,this.credential=d,this.user=g}static _fromIdtoken(l,d){return new ms("enroll",l,d)}static _fromMfaPendingCredential(l){return new ms("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,g;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return ms._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(g=l.multiFactorSession)&&void 0!==g&&g.idToken)return ms._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Eu{constructor(l,d,g){this.session=l,this.hints=d,this.signInResolver=g}static _fromError(l,d){const g=He(l),I=d.customData._serverResponse,T=(I.mfaInfo||[]).map(K=>Wl._fromServerResponse(g,K));oe(I.mfaPendingCredential,g,"internal-error");const V=ms._fromMfaPendingCredential(I.mfaPendingCredential);return new Eu(V,T,function(){var K=(0,R.Z)(function*(se){const Te=yield se._process(g,V);delete I.mfaInfo,delete I.mfaPendingCredential;const Fe=Object.assign(Object.assign({},I),{idToken:Te.idToken,refreshToken:Te.refreshToken});switch(d.operationType){case"signIn":const yt=yield Jn._fromIdTokenResponse(g,d.operationType,Fe);return yield g._updateCurrentUser(yt.user),yt;case"reauthenticate":return oe(d.user,g,"internal-error"),Jn._forOperation(d.user,d.operationType,Fe);default:Pt(g,"internal-error")}});return function(se){return K.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,R.Z)(function*(){return d.signInResolver(l)})()}}function _v(p,l){var d;const g=(0,M.m9)(p),I=l;return oe(l.customData.operationType,g,"argument-error"),oe(null===(d=I.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),Eu._fromError(g,I)}function AD(p,l){return ft(p,"POST","/v2/accounts/mfaEnrollment:start",Qe(p,l))}class Bs{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>Wl._fromServerResponse(l.auth,g)))})}static _fromUser(l){return new Bs(l)}getSession(){var l=this;return(0,R.Z)(function*(){return ms._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,d){var g=this;return(0,R.Z)(function*(){const I=l,T=yield g.getSession(),V=yield Vt(g.user,I._process(g.user.auth,T,d));return yield g.user._updateTokensIfNecessary(V),g.user.reload()})()}unenroll(l){var d=this;return(0,R.Z)(function*(){const g="string"==typeof l?l:l.uid,I=yield d.user.getIdToken();try{const T=yield Vt(d.user,function ig(p,l){return ft(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(p,l))}(d.user.auth,{idToken:I,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:V})=>V!==g),yield d.user._updateTokensIfNecessary(T),yield d.user.reload()}catch(T){throw T}})()}}const Ni=new WeakMap;function yv(p){const l=(0,M.m9)(p);return Ni.has(l)||Ni.set(l,Bs._fromUser(l)),Ni.get(l)}const Iu="__sak";class sg{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const lh=(()=>{class p extends sg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const I=this.storage.getItem(g),T=this.localCache[g];I!==T&&d(g,T,I)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((K,se,Te)=>{this.notifyListeners(K,Te)});const I=d.key;g?this.detachListener():this.stopPolling();const T=()=>{const K=this.storage.getItem(I);!g&&this.localCache[I]===K||this.notifyListeners(I,K)},V=this.storage.getItem(I);!function Q(){return(0,M.w1)()&&10===document.documentMode}()||V===d.newValue||d.newValue===d.oldValue?T():setTimeout(T,10)}notifyListeners(d,g){this.localCache[d]=g;const I=this.listeners[d];if(I)for(const T of Array.from(I))T(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var I=()=>super._set,T=this;return(0,R.Z)(function*(){yield I().call(T,d,g),T.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,I=this;return(0,R.Z)(function*(){const T=yield g().call(I,d);return I.localCache[d]=JSON.stringify(T),T})()}_remove(d){var g=()=>super._remove,I=this;return(0,R.Z)(function*(){yield g().call(I,d),delete I.localCache[d]})()}}return p.type="LOCAL",p})(),ch=(()=>{class p extends sg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return p.type="SESSION",p})();let dh=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(T=>T.isListeningto(d));if(g)return g;const I=new p(d);return this.receivers.push(I),I}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,R.Z)(function*(){const I=d,{eventId:T,eventType:V,data:K}=I.data,se=g.handlersMap[V];if(!se?.size)return;I.ports[0].postMessage({status:"ack",eventId:T,eventType:V});const Te=Array.from(se).map(function(){var yt=(0,R.Z)(function*(Fr){return Fr(I.origin,K)});return function(Fr){return yt.apply(this,arguments)}}()),Fe=yield function ug(p){return Promise.all(p.map(function(){var l=(0,R.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return l.apply(this,arguments)}}()))}(Te);I.ports[0].postMessage({status:"done",eventId:T,eventType:V,response:Fe})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function fa(p="",l=10){let d="";for(let g=0;g<l;g++)d+=Math.floor(10*Math.random());return p+d}class lg{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,g=50){var I=this;return(0,R.Z)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let V,K;return new Promise((se,Te)=>{const Fe=fa("",20);T.port1.start();const yt=setTimeout(()=>{Te(new Error("unsupported_event"))},g);K={messageChannel:T,onMessage(Fr){const Hs=Fr;if(Hs.data.eventId===Fe)switch(Hs.data.status){case"ack":clearTimeout(yt),V=setTimeout(()=>{Te(new Error("timeout"))},3e3);break;case"done":clearTimeout(V),se(Hs.data.response);break;default:clearTimeout(yt),clearTimeout(V),Te(new Error("invalid_response"))}}},I.handlers.add(K),T.port1.addEventListener("message",K.onMessage),I.target.postMessage({eventType:l,eventId:Fe,data:d},[T.port2])}).finally(()=>{K&&I.removeMessageHandler(K)})})()}}function In(){return window}function wu(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function hh(){return(hh=(0,R.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yt="firebaseLocalStorageDb",ec="firebaseLocalStorage",dg="fbase_key";class bu{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function tc(p,l){return p.transaction([ec],l?"readwrite":"readonly").objectStore(ec)}function pa(){const p=indexedDB.open(Yt,1);return new Promise((l,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(ec,{keyPath:dg})}catch(I){d(I)}}),p.addEventListener("success",(0,R.Z)(function*(){const g=p.result;g.objectStoreNames.contains(ec)?l(g):(g.close(),yield function wv(){const p=indexedDB.deleteDatabase(Yt);return new bu(p).toPromise()}(),l(yield pa()))}))})}function Tu(p,l,d){return ga.apply(this,arguments)}function ga(){return(ga=(0,R.Z)(function*(p,l,d){const g=tc(p,!0).put({[dg]:l,value:d});return new bu(g).toPromise()})).apply(this,arguments)}function nc(){return(nc=(0,R.Z)(function*(p,l){const d=tc(p,!1).get(l),g=yield new bu(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function hg(p,l){const d=tc(p,!0).delete(l);return new bu(d).toPromise()}const bv=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,R.Z)(function*(){return d.db||(d.db=yield pa()),d.db})()}_withRetries(d){var g=this;return(0,R.Z)(function*(){let I=0;for(;;)try{const T=yield g._openDb();return yield d(T)}catch(T){if(I++>3)throw T;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,R.Z)(function*(){return wu()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,R.Z)(function*(){d.receiver=dh._getInstance(function vo(){return wu()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,R.Z)(function*(I,T){return{keyProcessed:(yield d._poll()).includes(T.key)}});return function(I,T){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,R.Z)(function*(I,T){return["keyChanged"]});return function(I,T){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,R.Z)(function*(){var g,I;if(d.activeServiceWorker=yield function Ev(){return hh.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new lg(d.activeServiceWorker);const T=yield d.sender._send("ping",{},800);!T||(null===(g=T[0])||void 0===g?void 0:g.fulfilled)&&(null===(I=T[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,R.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function wr(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,R.Z)(function*(){try{if(!indexedDB)return!1;const d=yield pa();return yield Tu(d,Iu,"1"),yield hg(d,Iu),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,R.Z)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var I=this;return(0,R.Z)(function*(){return I._withPendingWrite((0,R.Z)(function*(){return yield I._withRetries(T=>Tu(T,d,g)),I.localCache[d]=g,I.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,R.Z)(function*(){const I=yield g._withRetries(T=>function fh(p,l){return nc.apply(this,arguments)}(T,d));return g.localCache[d]=I,I})()}_remove(d){var g=this;return(0,R.Z)(function*(){return g._withPendingWrite((0,R.Z)(function*(){return yield g._withRetries(I=>hg(I,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,R.Z)(function*(){const g=yield d._withRetries(V=>{const K=tc(V,!1).getAll();return new bu(K).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const I=[],T=new Set;if(0!==g.length)for(const{fbase_key:V,value:K}of g)T.add(V),JSON.stringify(d.localCache[V])!==JSON.stringify(K)&&(d.notifyListeners(V,K),I.push(V));for(const V of Object.keys(d.localCache))d.localCache[V]&&!T.has(V)&&(d.notifyListeners(V,null),I.push(V));return I})()}notifyListeners(d,g){this.localCache[d]=g;const I=this.listeners[d];if(I)for(const T of Array.from(I))T(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,R.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})();function ph(p,l){return ft(p,"POST","/v2/accounts/mfaSignIn:start",Qe(p,l))}const gh=1e12;class mh{constructor(l){this.auth=l,this.counter=gh,this._widgets=new Map}render(l,d){const g=this.counter;return this._widgets.set(g,new fg(l,this.auth.name,d||{})),this.counter++,g}reset(l){var d;const g=l||gh;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(l){var d;return(null===(d=this._widgets.get(l||gh))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,R.Z)(function*(){var g;return null===(g=d._widgets.get(l||gh))||void 0===g||g.execute(),""})()}}class fg{constructor(l,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof l?document.getElementById(l):l;oe(I,"argument-error",{appName:d}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pg(p){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Eo=Vl("rcb"),gg=new At(3e4,6e4);class mg{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=In().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return oe(function rc(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),l,"argument-error"),this.shouldResolveImmediately(d)&&pi(In().grecaptcha)?Promise.resolve(In().grecaptcha):new Promise((g,I)=>{const T=In().setTimeout(()=>{I(ze(l,"network-request-failed"))},gg.get());In()[Eo]=()=>{In().clearTimeout(T),delete In()[Eo];const K=In().grecaptcha;if(!K||!pi(K))return void I(ze(l,"internal-error"));const se=K.render;K.render=(Te,Fe)=>{const yt=se(Te,Fe);return this.counter++,yt},this.hostLanguage=d,g(K)},zd(`${function Yy(){return ea_recaptchaV2Script}()}?${(0,M.xO)({onload:Eo,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(T),I(ze(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=In().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Av{load(l){return(0,R.Z)(function*(){return new mh(l)})()}clearedOneInstance(){}}const Au="recaptcha",_h={theme:"light",type:"image"};class ic{constructor(l,d,g=Object.assign({},_h)){this.parameters=g,this.type=Au,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=He(l),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof d?document.getElementById(d):d;oe(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Av:new mg,this.validateStartingState()}verify(){var l=this;return(0,R.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),g=l.getAssertedRecaptcha();return g.getResponse(d)||new Promise(T=>{const V=K=>{!K||(l.tokenChangeListeners.delete(V),T(K))};l.tokenChangeListeners.add(V),l.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof l)l(d);else if("string"==typeof l){const g=In()[l];"function"==typeof g&&g(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,R.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,R.Z)(function*(){oe(de()&&!wu(),l.auth,"internal-error"),yield function RD(){let p=null;return new Promise(l=>{"complete"!==document.readyState?(p=()=>l(),window.addEventListener("load",p)):l()}).catch(l=>{throw p&&window.removeEventListener("load",p),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function ls(p){return Rs.apply(this,arguments)}(l.auth);oe(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sc{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=dn._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function _g(p,l,d){return yh.apply(this,arguments)}function yh(){return(yh=(0,R.Z)(function*(p,l,d){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const g=He(p),I=yield Su(g,l,(0,M.m9)(d));return new sc(I,T=>xr(g,T))})).apply(this,arguments)}function Yi(p,l,d){return vh.apply(this,arguments)}function vh(){return(vh=(0,R.Z)(function*(p,l,d){const g=(0,M.m9)(p);yield mo(!1,g,"phone");const I=yield Su(g.auth,l,(0,M.m9)(d));return new sc(I,T=>la(g,T))})).apply(this,arguments)}function oc(p,l,d){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,R.Z)(function*(p,l,d){const g=(0,M.m9)(p);if((0,ge._isFirebaseServerApp)(g.auth.app))return Promise.reject(Gt(g.auth));const I=yield Su(g.auth,l,(0,M.m9)(d));return new sc(I,T=>yi(g,T))})).apply(this,arguments)}function Su(p,l,d){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,R.Z)(function*(p,l,d){var g;const I=yield d.verify();try{let T;if(oe("string"==typeof I,p,"argument-error"),oe(d.type===Au,p,"argument-error"),T="string"==typeof l?{phoneNumber:l}:l,"session"in T){const V=T.session;if("phoneNumber"in T)return oe("enroll"===V.type,p,"internal-error"),(yield AD(p,{idToken:V.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{oe("signin"===V.type,p,"internal-error");const K=(null===(g=T.multiFactorHint)||void 0===g?void 0:g.uid)||T.multiFactorUid;return oe(K,p,"missing-multi-factor-info"),(yield ph(p,{mfaPendingCredential:V.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:V}=yield iv(p,{phoneNumber:T.phoneNumber,recaptchaToken:I});return V}}finally{d._reset()}})).apply(this,arguments)}function Eh(p,l){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,R.Z)(function*(p,l){const d=(0,M.m9)(p);if((0,ge._isFirebaseServerApp)(d.auth.app))return Promise.reject(Gt(d.auth));yield _u(d,l)})).apply(this,arguments)}let yg=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=He(d)}verifyPhoneNumber(d,g){return Su(this.auth,d,(0,M.m9)(g))}static credential(d,g){return dn._fromVerification(d,g)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:I}=d;return g&&I?dn._fromTokenResponse(g,I):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Us(p,l){return l?Z(l):(oe(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class ac extends na{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Qn(l,this._buildIdpRequest())}_linkToIdToken(l,d){return Qn(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return Qn(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function vg(p){return ov(p.auth,new ac(p),p.bypassAuthState)}function Cv(p){const{auth:l,user:d}=p;return oe(d,l,"internal-error"),_o(d,new ac(p),p.bypassAuthState)}function uc(p){return ys.apply(this,arguments)}function ys(){return(ys=(0,R.Z)(function*(p){const{auth:l,user:d}=p;return oe(d,l,"internal-error"),_u(d,new ac(p),p.bypassAuthState)})).apply(this,arguments)}class Eg{constructor(l,d,g,I,T=!1){this.auth=l,this.resolver=g,this.user=I,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,R.Z)(function*(g,I){l.pendingPromise={resolve:g,reject:I};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(T){l.reject(T)}});return function(g,I){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,R.Z)(function*(){const{urlResponse:g,sessionId:I,postBody:T,tenantId:V,error:K,type:se}=l;if(K)return void d.reject(K);const Te={auth:d.auth,requestUri:g,sessionId:I,tenantId:V||void 0,postBody:T||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(se)(Te))}catch(Fe){d.reject(Fe)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return vg;case"linkViaPopup":case"linkViaRedirect":return uc;case"reauthViaPopup":case"reauthViaRedirect":return Cv;default:Pt(this.auth,"internal-error")}}resolve(l){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ig=new At(2e3,1e4);function wg(p,l,d){return js.apply(this,arguments)}function js(){return(js=(0,R.Z)(function*(p,l,d){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(ze(p,"operation-not-supported-in-this-environment"));const g=He(p);it(p,l,qe);const I=Us(g,d);return new lc(g,"signInViaPopup",l,I).executeNotNull()})).apply(this,arguments)}function Sv(p,l,d){return zn.apply(this,arguments)}function zn(){return(zn=(0,R.Z)(function*(p,l,d){const g=(0,M.m9)(p);if((0,ge._isFirebaseServerApp)(g.auth.app))return Promise.reject(ze(g.auth,"operation-not-supported-in-this-environment"));it(g.auth,l,qe);const I=Us(g.auth,d);return new lc(g.auth,"reauthViaPopup",l,I,g).executeNotNull()})).apply(this,arguments)}function wh(p,l,d){return bh.apply(this,arguments)}function bh(){return(bh=(0,R.Z)(function*(p,l,d){const g=(0,M.m9)(p);it(g.auth,l,qe);const I=Us(g.auth,d);return new lc(g.auth,"linkViaPopup",l,I,g).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class p extends Eg{constructor(d,g,I,T,V){super(d,g,T,V),this.provider=I,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,R.Z)(function*(){const g=yield d.execute();return oe(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,R.Z)(function*(){te(1===d.filter.length,"Popup operations only handle one event");const g=fa();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(I=>{d.reject(I)}),d.resolver._isIframeWebStorageSupported(d.auth,I=>{I||d.reject(ze(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,I;this.pollId=null!==(I=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Ig.get())};d()}}return p.currentPopupAction=null,p})();const Ji=new Map;class _a extends Eg{constructor(l,d,g=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,R.Z)(function*(){let g=Ji.get(d.auth._key());if(!g){try{const T=(yield function ya(p,l){return cc.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;g=()=>Promise.resolve(T)}catch(I){g=()=>Promise.reject(I)}Ji.set(d.auth._key(),g)}return d.bypassAuthState||Ji.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,g=this;return(0,R.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(g,l);if("unknown"!==l.type){if(l.eventId){const I=yield g.auth._redirectUserForId(l.eventId);if(I)return g.user=I,d().call(g,l);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,R.Z)(function*(){})()}cleanUp(){}}function cc(){return(cc=(0,R.Z)(function*(p,l){const d=Pv(l),g=Ce(p);if(!(yield g._isAvailable()))return!1;const I="true"===(yield g._get(d));return yield g._remove(d),I})).apply(this,arguments)}function Ru(p,l){return $s.apply(this,arguments)}function $s(){return($s=(0,R.Z)(function*(p,l){return Ce(p)._set(Pv(l),"true")})).apply(this,arguments)}function MD(){Ji.clear()}function bg(p,l){Ji.set(p._key(),l)}function Ce(p){return Z(p._redirectPersistence)}function Pv(p){return vt("pendingRedirect",p.config.apiKey,p.name)}function ND(p,l,d){return function xD(p,l,d){return Tg.apply(this,arguments)}(p,l,d)}function Tg(){return(Tg=(0,R.Z)(function*(p,l,d){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const g=He(p);it(p,l,qe),yield g._initializationPromise;const I=Us(g,d);return yield Ru(I,g),I._openRedirect(g,l,"signInViaRedirect")})).apply(this,arguments)}function OD(p,l,d){return function kD(p,l,d){return Dg.apply(this,arguments)}(p,l,d)}function Dg(){return(Dg=(0,R.Z)(function*(p,l,d){const g=(0,M.m9)(p);if(it(g.auth,l,qe),(0,ge._isFirebaseServerApp)(g.auth.app))return Promise.reject(Gt(g.auth));yield g.auth._initializationPromise;const I=Us(g.auth,d);yield Ru(I,g.auth);const T=yield ei(g);return I._openRedirect(g.auth,l,"reauthViaRedirect",T)})).apply(this,arguments)}function Mu(p,l,d){return function FD(p,l,d){return Ag.apply(this,arguments)}(p,l,d)}function Ag(){return(Ag=(0,R.Z)(function*(p,l,d){const g=(0,M.m9)(p);it(g.auth,l,qe),yield g.auth._initializationPromise;const I=Us(g.auth,d);yield mo(!1,g,l.providerId),yield Ru(I,g.auth);const T=yield ei(g);return I._openRedirect(g.auth,l,"linkViaRedirect",T)})).apply(this,arguments)}function On(p,l){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,R.Z)(function*(p,l){return yield He(p)._initializationPromise,Io(p,l,!1)})).apply(this,arguments)}function Io(p,l){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,R.Z)(function*(p,l,d=!1){if((0,ge._isFirebaseServerApp)(p.app))return Promise.reject(Gt(p));const g=He(p),I=Us(g,l),V=yield new _a(g,I,d).execute();return V&&!d&&(delete V.user._redirectEventId,yield g._persistUserIfCurrent(V.user),yield g._setRedirectUser(null,l)),V})).apply(this,arguments)}function ei(p){return vs.apply(this,arguments)}function vs(){return(vs=(0,R.Z)(function*(p){const l=fa(`${p.uid}:::`);return p._redirectEventId=l,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),l})).apply(this,arguments)}class xu{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(l,g)&&(d=!0,this.sendToConsumer(l,g),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function VD(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sg(p);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var g;if(l.error&&!Sg(l)){const I=(null===(g=l.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(ze(this.auth,I))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const g=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&g}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(va(l))}saveEventToCache(l){this.cachedEventUids.add(va(l)),this.lastProcessedEventTime=Date.now()}}function va(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(l=>l).join("-")}function Sg({type:p,error:l}){return"unknown"===p&&"auth/no-auth-event"===l?.code}function Pg(p){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,R.Z)(function*(p,l={}){return ft(p,"GET","/v1/projects",l)})).apply(this,arguments)}const ti=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ah=/^https?/;function Mg(){return(Mg=(0,R.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:l}=yield Pg(p);for(const d of l)try{if(Ng(d))return}catch{}Pt(p,"unauthorized-domain")})).apply(this,arguments)}function Ng(p){const l=ae(),{protocol:d,hostname:g}=new URL(l);if(p.startsWith("chrome-extension://")){const V=new URL(p);return""===V.hostname&&""===g?"chrome-extension:"===d&&p.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&V.hostname===g}if(!Ah.test(d))return!1;if(ti.test(p))return g===p;const I=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(g)}const Rv=new At(3e4,6e4);function xg(){const p=In().___jsl;if(p?.H)for(const l of Object.keys(p.H))if(p.H[l].r=p.H[l].r||[],p.H[l].L=p.H[l].L||[],p.H[l].r=[...p.H[l].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let dc=null;function Nv(p){return dc=dc||function Mv(p){return new Promise((l,d)=>{var g,I,T;function V(){xg(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{xg(),d(ze(p,"network-request-failed"))},timeout:Rv.get()})}if(null!==(I=null===(g=In().gapi)||void 0===g?void 0:g.iframes)&&void 0!==I&&I.Iframe)l(gapi.iframes.getContext());else{if(null===(T=In().gapi)||void 0===T||!T.load){const K=Vl("iframefcb");return In()[K]=()=>{gapi.load?V():d(ze(p,"network-request-failed"))},zd(`${function Fl(){return ea_gapiScript}()}?onload=${K}`).catch(se=>d(se))}V()}}).catch(l=>{throw dc=null,l})}(p),dc}const xv=new At(5e3,15e3),Sh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Og(p){const l=p.config;oe(l.authDomain,p,"auth-domain-config-required");const d=l.emulator?$n(l,"emulator/auth/iframe"):`https://${p.config.authDomain}/__/auth/iframe`,g={apiKey:l.apiKey,appName:p.name,v:ge.SDK_VERSION},I=ni.get(p.config.apiHost);I&&(g.eid=I);const T=p._getFrameworks();return T.length&&(g.fw=T.join(",")),`${d}?${(0,M.xO)(g).slice(1)}`}function Ph(){return Ph=(0,R.Z)(function*(p){const l=yield Nv(p),d=In().gapi;return oe(d,p,"internal-error"),l.open({where:document.body,url:Og(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sh,dontclear:!0},g=>new Promise(function(){var I=(0,R.Z)(function*(T,V){yield g.restyle({setHideOnLeave:!1});const K=ze(p,"network-request-failed"),se=In().setTimeout(()=>{V(K)},xv.get());function Te(){In().clearTimeout(se),T(g)}g.ping(Te).then(Te,()=>{V(K)})});return function(T,V){return I.apply(this,arguments)}}()))}),Ph.apply(this,arguments)}const kg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vg{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ia(p,l,d,g=500,I=600){const T=Math.max((window.screen.availHeight-I)/2,0).toString(),V=Math.max((window.screen.availWidth-g)/2,0).toString();let K="";const se=Object.assign(Object.assign({},kg),{width:g.toString(),height:I.toString(),top:T,left:V}),Te=(0,M.z$)().toLowerCase();d&&(K=function Si(p=(0,M.z$)()){return/crios\//i.test(p)}(Te)?"_blank":d),function Re(p=(0,M.z$)()){return/firefox\//i.test(p)}(Te)&&(l=l||"http://localhost",se.scrollbars="yes");const Fe=Object.entries(se).reduce((Fr,[Hs,Vu])=>`${Fr}${Hs}=${Vu},`,"");if(function Op(p=(0,M.z$)()){var l;return cu(p)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Te)&&"_self"!==K)return function ku(p,l){const d=document.createElement("a");d.href=p,d.target=l;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(l||"",K),new Vg(null);const yt=window.open(l||"",K,Fe);oe(yt,p,"popup-blocked");try{yt.focus()}catch{}return new Vg(yt)}const Lg=encodeURIComponent("fac");function Rh(p,l,d,g,I,T){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,R.Z)(function*(p,l,d,g,I,T){oe(p.config.authDomain,p,"auth-domain-config-required"),oe(p.config.apiKey,p,"invalid-api-key");const V={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:g,v:ge.SDK_VERSION,eventId:I};if(l instanceof qe){l.setDefaultLanguage(p.languageCode),V.providerId=l.providerId||"",(0,M.xb)(l.getCustomParameters())||(V.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Fe,yt]of Object.entries(T||{}))V[Fe]=yt}if(l instanceof Ut){const Fe=l.getScopes().filter(yt=>""!==yt);Fe.length>0&&(V.scopes=Fe.join(","))}p.tenantId&&(V.tid=p.tenantId);const K=V;for(const Fe of Object.keys(K))void 0===K[Fe]&&delete K[Fe];const se=yield p._getAppCheckToken(),Te=se?`#${Lg}=${encodeURIComponent(se)}`:"";return`${Fv(p)}?${(0,M.xO)(K).slice(1)}${Te}`})).apply(this,arguments)}function Fv({config:p}){return p.emulator?$n(p,"emulator/auth/handler"):`https://${p.authDomain}/__/auth/handler`}const Mh="webStorageSupport",Fu=class Vv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ch,this._completeRedirectFn=Io,this._overrideRedirectResult=bg}_openPopup(l,d,g,I){var T=this;return(0,R.Z)(function*(){var V;te(null===(V=T.eventManagers[l._key()])||void 0===V?void 0:V.manager,"_initialize() not called before _openPopup()");const K=yield Rh(l,d,g,ae(),I);return Ia(l,K,fa())})()}_openRedirect(l,d,g,I){var T=this;return(0,R.Z)(function*(){return yield T._originValidation(l),function cg(p){In().location.href=p}(yield Rh(l,d,g,ae(),I)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:I,promise:T}=this.eventManagers[d];return I?Promise.resolve(I):(te(T,"If manager is not set, promise should be"),T)}const g=this.initAndGetManager(l);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(l){var d=this;return(0,R.Z)(function*(){const g=yield function fc(p){return Ph.apply(this,arguments)}(l),I=new xu(l);return g.register("authEvent",T=>(oe(T?.authEvent,l,"invalid-auth-event"),{status:I.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:I},d.iframes[l._key()]=g,I})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Mh,{type:Mh},I=>{var T;const V=null===(T=I?.[0])||void 0===T?void 0:T[Mh];void 0!==V&&d(!!V),Pt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ea(p){return Mg.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return H()||function Qt(p=(0,M.z$)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}()||cu()}};class Ug{constructor(l){this.factorId=l}_process(l,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,g);case"signin":return this._finalizeSignIn(l,d.credential);default:return X("unexpected MultiFactorSessionType")}}}class Nh extends Ug{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Nh(l)}_finalizeEnroll(l,d,g){return function rg(p,l){return ft(p,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(p,l))}(l,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function SD(p,l){return ft(p,"POST","/v2/accounts/mfaSignIn:finalize",Qe(p,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jg=(()=>{class p{constructor(){}static assertion(d){return Nh._fromCredential(d)}}return p.FACTOR_ID="phone",p})()},578:(zi,Mn,$e)=>{$e.d(Mn,{BH:()=>Pr,G6:()=>Ge,L:()=>xt,LL:()=>di,L_:()=>ae,P0:()=>bn,Pz:()=>ze,Rd:()=>Xe,Sg:()=>Gt,UG:()=>oe,ZB:()=>Ne,ZR:()=>vn,aH:()=>Pt,b$:()=>Ee,eu:()=>Rr,hl:()=>Tn,jU:()=>X,m9:()=>Ci,n2:()=>te,ne:()=>Zn,pd:()=>ds,r3:()=>ho,ru:()=>de,tV:()=>ie,uI:()=>yn,vZ:()=>ar,w1:()=>Ze,xO:()=>Ns,xb:()=>Rs,z$:()=>it,zd:()=>mr});const Me=function(D){const w=[];let v=0;for(let x=0;x<D.length;x++){let P=D.charCodeAt(x);P<128?w[v++]=P:P<2048?(w[v++]=P>>6|192,w[v++]=63&P|128):55296==(64512&P)&&x+1<D.length&&56320==(64512&D.charCodeAt(x+1))?(P=65536+((1023&P)<<10)+(1023&D.charCodeAt(++x)),w[v++]=P>>18|240,w[v++]=P>>12&63|128,w[v++]=P>>6&63|128,w[v++]=63&P|128):(w[v++]=P>>12|224,w[v++]=P>>6&63|128,w[v++]=63&P|128)}return w},Zt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,w){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const v=w?this.byteToCharMapWebSafe_:this.byteToCharMap_,x=[];for(let P=0;P<D.length;P+=3){const Z=D[P],we=P+1<D.length,Ue=we?D[P+1]:0,vt=P+2<D.length,pt=vt?D[P+2]:0;let Qt=(15&Ue)<<2|pt>>6,Si=63&pt;vt||(Si=64,we||(Qt=64)),x.push(v[Z>>2],v[(3&Z)<<4|Ue>>4],v[Qt],v[Si])}return x.join("")},encodeString(D,w){return this.HAS_NATIVE_SUPPORT&&!w?btoa(D):this.encodeByteArray(Me(D),w)},decodeString(D,w){return this.HAS_NATIVE_SUPPORT&&!w?atob(D):function(D){const w=[];let v=0,x=0;for(;v<D.length;){const P=D[v++];if(P<128)w[x++]=String.fromCharCode(P);else if(P>191&&P<224){const Z=D[v++];w[x++]=String.fromCharCode((31&P)<<6|63&Z)}else if(P>239&&P<365){const vt=((7&P)<<18|(63&D[v++])<<12|(63&D[v++])<<6|63&D[v++])-65536;w[x++]=String.fromCharCode(55296+(vt>>10)),w[x++]=String.fromCharCode(56320+(1023&vt))}else{const Z=D[v++],we=D[v++];w[x++]=String.fromCharCode((15&P)<<12|(63&Z)<<6|63&we)}}return w.join("")}(this.decodeStringToByteArray(D,w))},decodeStringToByteArray(D,w){this.init_();const v=w?this.charToByteMapWebSafe_:this.charToByteMap_,x=[];for(let P=0;P<D.length;){const Z=v[D.charAt(P++)],Ue=P<D.length?v[D.charAt(P)]:0;++P;const pt=P<D.length?v[D.charAt(P)]:64;++P;const Re=P<D.length?v[D.charAt(P)]:64;if(++P,null==Z||null==Ue||null==pt||null==Re)throw new cn;x.push(Z<<2|Ue>>4),64!==pt&&(x.push(Ue<<4&240|pt>>2),64!==Re&&x.push(pt<<6&192|Re))}return x},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class cn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xt=function(D){return function(D){const w=Me(D);return Zt.encodeByteArray(w,!0)}(D).replace(/\./g,"")},ie=function(D){try{return Zt.decodeString(D,!0)}catch(w){console.error("base64Decode failed: ",w)}return null};function Ne(D,w){if(!(w instanceof Object))return w;switch(w.constructor){case Date:return new Date(w.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return w}for(const v in w)!w.hasOwnProperty(v)||!lt(v)||(D[v]=Ne(D[v],w[v]));return D}function lt(D){return"__proto__"!==D}function Xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ke=()=>{try{return Xe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const w=D&&ie(D[1]);return w&&JSON.parse(w)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},bn=D=>{const w=(D=>{var w,v;return null===(v=null===(w=Ke())||void 0===w?void 0:w.emulatorHosts)||void 0===v?void 0:v[D]})(D);if(!w)return;const v=w.lastIndexOf(":");if(v<=0||v+1===w.length)throw new Error(`Invalid host ${w} with no separate hostname and port!`);const x=parseInt(w.substring(v+1),10);return"["===w[0]?[w.substring(1,v-1),x]:[w.substring(0,v),x]},Pt=()=>{var D;return null===(D=Ke())||void 0===D?void 0:D.config},ze=D=>{var w;return null===(w=Ke())||void 0===w?void 0:w[`_${D}`]};class Pr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((w,v)=>{this.resolve=w,this.reject=v})}wrapCallback(w){return(v,x)=>{v?this.reject(v):this.resolve(x),"function"==typeof w&&(this.promise.catch(()=>{}),1===w.length?w(v):w(v,x))}}}function Gt(D,w){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const x=w||"demo-project",P=D.iat||0,Z=D.sub||D.user_id;if(!Z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${x}`,aud:x,iat:P,exp:P+3600,auth_time:P,sub:Z,user_id:Z,firebase:{sign_in_provider:"custom",identities:{}}},D);return[xt(JSON.stringify({alg:"none",type:"JWT"})),xt(JSON.stringify(we)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function oe(){var D;const w=null===(D=Ke())||void 0===D?void 0:D.forceEnvironment;if("node"===w)return!0;if("browser"===w)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function X(){return typeof window<"u"||te()}function te(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ae(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function de(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){const D=it();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Ge(){return!oe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tn(){try{return"object"==typeof indexedDB}catch{return!1}}function Rr(){return new Promise((D,w)=>{try{let v=!0;const x="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(x);P.onsuccess=()=>{P.result.close(),v||self.indexedDB.deleteDatabase(x),D(!0)},P.onupgradeneeded=()=>{v=!1},P.onerror=()=>{var Z;w((null===(Z=P.error)||void 0===Z?void 0:Z.message)||"")}}catch(v){w(v)}})}class vn extends Error{constructor(w,v,x){super(v),this.code=w,this.customData=x,this.name="FirebaseError",Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,di.prototype.create)}}class di{constructor(w,v,x){this.service=w,this.serviceName=v,this.errors=x}create(w,...v){const x=v[0]||{},P=`${this.service}/${w}`,Z=this.errors[w],we=Z?function Gi(D,w){return D.replace(gr,(v,x)=>{const P=w[x];return null!=P?String(P):`<${x}?>`})}(Z,x):"Error";return new vn(P,`${this.serviceName}: ${we} (${P}).`,x)}}const gr=/\{\$([^}]+)}/g;function ho(D,w){return Object.prototype.hasOwnProperty.call(D,w)}function Rs(D){for(const w in D)if(Object.prototype.hasOwnProperty.call(D,w))return!1;return!0}function ar(D,w){if(D===w)return!0;const v=Object.keys(D),x=Object.keys(w);for(const P of v){if(!x.includes(P))return!1;const Z=D[P],we=w[P];if(cs(Z)&&cs(we)){if(!ar(Z,we))return!1}else if(Z!==we)return!1}for(const P of x)if(!v.includes(P))return!1;return!0}function cs(D){return null!==D&&"object"==typeof D}function Ns(D){const w=[];for(const[v,x]of Object.entries(D))Array.isArray(x)?x.forEach(P=>{w.push(encodeURIComponent(v)+"="+encodeURIComponent(P))}):w.push(encodeURIComponent(v)+"="+encodeURIComponent(x));return w.length?"&"+w.join("&"):""}function mr(D){const w={};return D.replace(/^\?/,"").split("&").forEach(x=>{if(x){const[P,Z]=x.split("=");w[decodeURIComponent(P)]=decodeURIComponent(Z)}}),w}function ds(D){const w=D.indexOf("?");if(!w)return"";const v=D.indexOf("#",w);return D.substring(w,v>0?v:void 0)}function Zn(D,w){const v=new Hn(D,w);return v.subscribe.bind(v)}class Hn{constructor(w,v){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=v,this.task.then(()=>{w(this)}).catch(x=>{this.error(x)})}next(w){this.forEachObserver(v=>{v.next(w)})}error(w){this.forEachObserver(v=>{v.error(w)}),this.close(w)}complete(){this.forEachObserver(w=>{w.complete()}),this.close()}subscribe(w,v,x){let P;if(void 0===w&&void 0===v&&void 0===x)throw new Error("Missing Observer.");P=function fs(D,w){if("object"!=typeof D||null===D)return!1;for(const v of w)if(v in D&&"function"==typeof D[v])return!0;return!1}(w,["next","error","complete"])?w:{next:w,error:v,complete:x},void 0===P.next&&(P.next=Mr),void 0===P.error&&(P.error=Mr),void 0===P.complete&&(P.complete=Mr);const Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),Z}unsubscribeOne(w){void 0===this.observers||void 0===this.observers[w]||(delete this.observers[w],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(w){if(!this.finalized)for(let v=0;v<this.observers.length;v++)this.sendOne(v,w)}sendOne(w,v){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[w])try{v(this.observers[w])}catch(x){typeof console<"u"&&console.error&&console.error(x)}})}close(w){this.finalized||(this.finalized=!0,void 0!==w&&(this.finalError=w),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mr(){}function Ci(D){return D&&D._delegate?D._delegate:D}},18:(zi,Mn,$e)=>{function R(n){return"function"==typeof n}let ge=!1;const M={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ge&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ge=n},get useDeprecatedSynchronousErrorHandling(){return ge}};function Me(n){setTimeout(()=>{throw n},0)}const ln={closed:!0,next(n){},error(n){if(M.useDeprecatedSynchronousErrorHandling)throw n;Me(n)},complete(){}},Zt=Array.isArray||(n=>n&&"number"==typeof n.length);function cn(n){return null!==n&&"object"==typeof n}const xt=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,r)=>`${r+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class ie{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof ie)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(R(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof xt?fe(o.errors):[o]}}if(Zt(s)){let o=-1,a=s.length;for(;++o<a;){const u=s[o];if(cn(u))try{u.unsubscribe()}catch(c){e=e||[],c instanceof xt?e=e.concat(fe(c.errors)):e.push(c)}}}if(e)throw new xt(e)}add(e){let t=e;if(!e)return ie.EMPTY;switch(typeof e){case"function":t=new ie(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof ie)){const s=t;t=new ie,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=t;if(null===r)t._parentOrParents=this;else if(r instanceof ie){if(r===this)return t;t._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return t;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[t]:i.push(t),t}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}var n;function fe(n){return n.reduce((e,t)=>e.concat(t instanceof xt?t.errors:t),[])}ie.EMPTY=((n=new ie).closed=!0,n);const Ne="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Xe extends ie{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ln;break;case 1:if(!e){this.destination=ln;break}if("object"==typeof e){e instanceof Xe?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Nn(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Nn(this,e,t,r)}}[Ne](){return this}static create(e,t,r){const i=new Xe(e,t,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Nn extends Xe{constructor(e,t,r,i){super(),this._parentSubscriber=e;let s,o=this;R(t)?s=t:t&&(s=t.next,r=t.error,i=t.complete,t!==ln&&(o=Object.create(t),R(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;M.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=M;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Me(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Me(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);M.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),M.useDeprecatedSynchronousErrorHandling)throw r;Me(r)}}__tryOrSetError(e,t,r){if(!M.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(i){return M.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Me(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Ke="function"==typeof Symbol&&Symbol.observable||"@@observable";function jn(n){return n}let ze=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const{operator:s}=this,o=function et(n,e,t){if(n){if(n instanceof Xe)return n;if(n[Ne])return n[Ne]()}return n||e||t?new Xe(n,e,t):new Xe(ln)}(t,r,i);if(o.add(s?s.call(o,this.source):this.source||M.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),M.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){M.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),function St(n){for(;n;){const{closed:e,destination:t,isStopped:r}=n;if(e||r)return!1;n=t&&t instanceof Xe?t:null}return!0}(t)?t.error(r):console.warn(r)}}forEach(t,r){return new(r=Pr(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})}_subscribe(t){const{source:r}=this;return r&&r.subscribe(t)}[Ke](){return this}pipe(...t){return 0===t.length?this:function Pt(n){return 0===n.length?jn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Pr(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Pr(n){if(n||(n=M.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const it=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class yn extends ie{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class oe extends Xe{constructor(e){super(e),this.destination=e}}let X=(()=>{class n extends ze{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ne](){return new oe(this)}lift(t){const r=new te(this,this);return r.operator=t,r}next(t){if(this.closed)throw new it;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(t)}}error(t){if(this.closed)throw new it;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new it;this.isStopped=!0;const{observers:t}=this,r=t.length,i=t.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new it;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new it;return this.hasError?(t.error(this.thrownError),ie.EMPTY):this.isStopped?(t.complete(),ie.EMPTY):(this.observers.push(t),new yn(this,t))}asObservable(){const t=new ze;return t.source=this,t}}return n.create=(e,t)=>new te(e,t),n})();class te extends X{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):ie.EMPTY}}function ae(n){return n&&"function"==typeof n.schedule}function de(n,e){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Ee(n,e))}}class Ee{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new pe(e,this.project,this.thisArg))}}class pe extends Xe{constructor(e,t,r){super(e),this.project=t,this.count=0,this.thisArg=r||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Ze=n=>e=>{for(let t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()},Ge=function $n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),ft=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function vn(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const di=n=>{if(n&&"function"==typeof n[Ke])return(n=>e=>{const t=n[Ke]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(ft(n))return Ze(n);if(vn(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Me),e))(n);if(n&&"function"==typeof n[Ge])return(n=>e=>{const t=n[Ge]();for(;;){let r;try{r=t.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${cn(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function hi(n,e){return new ze(t=>{const r=new ie;let i=0;return r.add(e.schedule(function(){i!==n.length?(t.next(n[i++]),t.closed||r.add(this.schedule())):t.complete()})),r})}function pi(n,e){return e?function fi(n,e){if(null!=n){if(function qi(n){return n&&"function"==typeof n[Ke]}(n))return function Gi(n,e){return new ze(t=>{const r=new ie;return r.add(e.schedule(()=>{const i=n[Ke]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>t.next(s)))},error(s){r.add(e.schedule(()=>t.error(s)))},complete(){r.add(e.schedule(()=>t.complete()))}}))})),r})}(n,e);if(vn(n))return function gr(n,e){return new ze(t=>{const r=new ie;return r.add(e.schedule(()=>n.then(i=>{r.add(e.schedule(()=>{t.next(i),r.add(e.schedule(()=>t.complete()))}))},i=>{r.add(e.schedule(()=>t.error(i)))}))),r})}(n,e);if(ft(n))return hi(n,e);if(function co(n){return n&&"function"==typeof n[Ge]}(n)||"string"==typeof n)return function lo(n,e){if(!n)throw new Error("Iterable cannot be null");return new ze(t=>{const r=new ie;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=n[Ge](),r.add(e.schedule(function(){if(t.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void t.error(a)}o?t.complete():(t.next(s),this.schedule())}))})),r})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof ze?n:new ze(di(n))}class us extends Xe{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ls extends Xe{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Dn(n,e){if(e.closed)return;if(n instanceof ze)return n.subscribe(e);let t;try{t=di(n)(e)}catch(r){e.error(r)}return t}function ar(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(ar((i,s)=>pi(n(i,s)).pipe(de((o,a)=>e(i,o,s,a))),t)):("number"==typeof e&&(t=e),r=>r.lift(new cs(n,t)))}class cs{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Ms(e,this.project,this.concurrent))}}class Ms extends ls{constructor(e,t,r=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new us(this),r=this.destination;r.add(t);const i=Dn(e,t);i!==t&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function ds(n,e){return e?hi(n,e):new ze(Ze(n))}function Zn(){return function(e){return e.lift(new Hn(e))}}class Hn{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const i=new hs(e,r),s=t.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class hs extends Xe{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class fs extends ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new ie,e.add(this.source.subscribe(new Wi(this.getSubject(),this))),e.closed&&(this._connection=null,e=ie.EMPTY)),e}refCount(){return Zn()(this)}}const Mr=(()=>{const n=fs.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class Wi extends oe{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class xs{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:r}=this,i=this.subjectFactory(),s=r(i).subscribe(e);return s.add(t.subscribe(i)),s}}function Xo(){return new X}function dt(n){for(let e in n)if(n[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function gi(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(bt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function mi(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ps=dt({__forward_ref__:dt});function Rt(n){return n.__forward_ref__=Rt,n.toString=function(){return bt(this())},n}function Be(n){return _i(n)?n():n}function _i(n){return"function"==typeof n&&n.hasOwnProperty(ps)&&n.__forward_ref__===Rt}function Ci(n){return n&&!!n.\u0275providers}const w="https://g.co/ng/security#xss";class v extends Error{constructor(e,t){super(function x(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function P(n){return"string"==typeof n?n:null==n?"":String(n)}function pt(n,e){throw new v(-201,!1)}function ee(n,e){null==n&&function ce(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ke(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function He(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pi(n){return kp(n,Fl)||kp(n,Vp)}function kp(n,e){return n.hasOwnProperty(e)?n[e]:null}function Fp(n){return n&&(n.hasOwnProperty(Vl)||n.hasOwnProperty(Jy))?n[Vl]:null}const Fl=dt({\u0275prov:dt}),Vl=dt({\u0275inj:dt}),Vp=dt({ngInjectableDef:dt}),Jy=dt({ngInjectorDef:dt});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let Ll;function lr(n){const e=Ll;return Ll=n,e}function Bl(n,e,t){const r=Pi(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ye.Optional?null:void 0!==e?e:void pt(bt(n))}const Lt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ta={},qd="__NG_DI_FLAG__",du="ngTempTokenPath",na=/\n/gm,Ul="__source";let hu;function Os(n){const e=hu;return hu=n,e}function tv(n,e=Ye.Default){if(void 0===hu)throw new v(-203,!1);return null===hu?Bl(n,void 0,e):hu.get(n,e&Ye.Optional?null:void 0,e)}function _e(n,e=Ye.Default){return(function Gd(){return Ll}()||tv)(Be(n),e)}function fo(n,e=Ye.Default){return _e(n,jl(e))}function jl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fu(n){const e=[];for(let t=0;t<n.length;t++){const r=Be(n[t]);if(Array.isArray(r)){if(0===r.length)throw new v(900,!1);let i,s=Ye.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Wd(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(_e(i,s))}else e.push(_e(r))}return e}function ks(n,e){return n[qd]=e,n.prototype[qd]=e,n}function Wd(n){return n[qd]}function Fs(n){return{toString:n}.toString()}var Qr=(()=>((Qr=Qr||{})[Qr.OnPush=0]="OnPush",Qr[Qr.Default=1]="Default",Qr))(),Ri=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Ri||(Ri={})),Ri))();const Mi={},Ot=[],ra=dt({\u0275cmp:dt}),Zd=dt({\u0275dir:dt}),pu=dt({\u0275pipe:dt}),ia=dt({\u0275mod:dt}),Qn=dt({\u0275fac:dt}),po=dt({__NG_ELEMENT_ID__:dt});let rv=0;function _r(n){return Fs(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Qr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ri.Emulated,id:"c"+rv++,styles:n.styles||Ot,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return i.inputs=Hl(n.inputs,r),i.outputs=Hl(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map($l).filter(jp):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yr).filter(jp):null,i})}function $l(n){return Mt(n)||dn(n)}function jp(n){return null!==n}function xn(n){return Fs(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Hl(n,e){if(null==n)return Mi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const st=_r;function Mt(n){return n[ra]||null}function dn(n){return n[Zd]||null}function yr(n){return n[pu]||null}function Er(n){return Array.isArray(n)&&"object"==typeof n[1]}function xr(n){return Array.isArray(n)&&!0===n[1]}function yu(n){return 0!=(4&n.flags)}function la(n){return n.componentOffset>-1}function ca(n){return 1==(1&n.flags)}function yi(n){return null!==n.template}function Jd(n){return 0!=(256&n[2])}function yo(n,e){return n.hasOwnProperty(Qn)?n[Qn]:null}class nh{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qi(){return Jp}function Jp(n){return n.type.prototype.ngOnChanges&&(n.setInput=uv),rh}function rh(){const n=Zl(this),e=n?.current;if(e){const t=n.previous;if(t===Mi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function uv(n,e,t,r){const i=this.declaredInputs[t],s=Zl(n)||function lv(n,e){return n[Xp]=e}(n,{previous:Mi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new nh(u&&u.currentValue,e,a===Mi),n[r]=e}Qi.ngInherit=!0;const Xp="__ngSimpleChanges__";function Zl(n){return n[Xp]||null}function tr(n){for(;Array.isArray(n);)n=n[0];return n}function Yl(n,e){return tr(e[n])}function Ir(n,e){return tr(e[n.index])}function Jl(n,e){return n.data[e]}function Jr(n,e){const t=e[n];return Er(t)?t:t[0]}function ha(n){return 64==(64&n[2])}function Xr(n,e){return null==e?null:n[e]}function sh(n){n[18]=0}function oh(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ot={lFrame:lg(null),bindingsEnabled:!0};function pv(){return ot.bindingsEnabled}function le(){return ot.lFrame.lView}function Ct(){return ot.lFrame.tView}function dr(){let n=mv();for(;null!==n&&64===n.type;)n=n.parent;return n}function mv(){return ot.lFrame.currentTNode}function vi(n,e){const t=ot.lFrame;t.currentTNode=n,t.isParent=e}function ms(){return ot.lFrame.isParent}function Bs(){return ot.lFrame.bindingIndex++}function sg(n,e){const t=ot.lFrame;t.bindingIndex=t.bindingRootIndex=n,uh(e)}function uh(n){ot.lFrame.currentDirectiveIndex=n}function ag(n){ot.lFrame.currentQueryIndex=n}function ch(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ug(n,e,t){if(t&Ye.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Ye.Host||(i=ch(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ot.lFrame=fa();return r.currentTNode=e,r.lView=n,!0}function dh(n){const e=fa(),t=n[1];ot.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function fa(){const n=ot.lFrame,e=null===n?null:n.child;return null===e?lg(n):e}function lg(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function In(){const n=ot.lFrame;return ot.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const cg=In;function wu(){const n=In();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wr(){return ot.lFrame.selectedIndex}function vo(n){ot.lFrame.selectedIndex=n}function pa(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(t,f)}}function Tu(n,e,t){nc(n,e,3,t)}function ga(n,e,t,r){(3&n[2])===t&&nc(n,e,t,r)}function fh(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function nc(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(hg(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function hg(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Du{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function mh(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];pg(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function fg(n){return 3===n||4===n||6===n}function pg(n){return 64===n.charCodeAt(0)}function Eo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||gg(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function gg(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function rc(n){return 32767&n}function Au(n,e){let t=function Av(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let _h=!0;function ic(n){const e=_h;return _h=n,e}let yh=0;const Yi={};function oc(n,e){const t=Su(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Cu(r.data,n),Cu(e,null),Cu(r.blueprint,null));const i=Pu(n,e),s=n.injectorIndex;if(function mg(n){return-1!==n}(i)){const o=rc(i),a=Au(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Cu(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Su(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Pu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=lc(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Eh(n,e,t){!function vh(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(po)&&(r=t[po]),null==r&&(r=t[po]=yh++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function yg(n,e,t){if(t&Ye.Optional||void 0!==n)return n;pt()}function Us(n,e,t,r){if(t&Ye.Optional&&void 0===r&&(r=null),0==(t&(Ye.Self|Ye.Host))){const i=n[9],s=lr(void 0);try{return i?i.get(e,r,t&Ye.Optional):Bl(e,r,t&Ye.Optional)}finally{lr(s)}}return yg(r,0,t)}function ac(n,e,t,r=Ye.Default,i){if(null!==n){if(1024&e[2]){const o=function bh(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=vg(s,o,t,r|Ye.Self,Yi);if(a!==Yi)return a;let u=s.parent;if(!u){const c=o[21];if(c){const f=c.get(t,Yi,r);if(f!==Yi)return f}u=lc(o),o=o[15]}s=u}return i}(n,e,t,r,Yi);if(o!==Yi)return o}const s=vg(n,e,t,r,Yi);if(s!==Yi)return s}return Us(e,t,r,i)}function vg(n,e,t,r,i){const s=function Eg(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(po)?n[po]:void 0;return"number"==typeof e?e>=0?255&e:Sv:e}(t);if("function"==typeof s){if(!ug(e,n,r))return r&Ye.Host?yg(i,0,r):Us(e,t,r,i);try{const o=s(r);if(null!=o||r&Ye.Optional)return o;pt()}finally{cg()}}else if("number"==typeof s){let o=null,a=Su(n,e),u=-1,c=r&Ye.Host?e[16][6]:null;for((-1===a||r&Ye.SkipSelf)&&(u=-1===a?Pu(n,e):e[a+8],-1!==u&&wg(r,!1)?(o=e[1],a=rc(u),e=Au(u,e)):a=-1);-1!==a;){const f=e[1];if(Ig(s,a,f.data)){const m=Cv(a,e,t,o,r,c);if(m!==Yi)return m}u=e[a+8],-1!==u&&wg(r,e[1].data[a+8]===c)&&Ig(s,a,e)?(o=f,a=rc(u),e=Au(u,e)):a=-1}}return i}function Cv(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],f=function uc(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,f=s>>20,y=i?a+f:n.directiveEnd;for(let b=r?a:a+f;b<y;b++){const A=o[b];if(b<u&&t===A||b>=u&&A.type===t)return b}if(i){const b=o[u];if(b&&yi(b)&&b.type===t)return u}return null}(a,o,t,null==r?la(a)&&_h:r!=o&&0!=(3&a.type),i&Ye.Host&&s===a);return null!==f?ys(e,o,f,a):Yi}function ys(n,e,t,r){let i=n[t];const s=e.data;if(function CD(n){return n instanceof Du}(i)){const o=i;o.resolving&&function we(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new v(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Z(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():P(n)}(s[t]));const a=ic(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?lr(o.injectImpl):null;ug(n,r,Ye.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function wv(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Jp(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&lr(u),ic(a),o.resolving=!1,cg()}}return i}function Ig(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function wg(n,e){return!(n&Ye.Self||n&Ye.Host&&e)}class js{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ac(this._tNode,this._lView,e,jl(r),t)}}function Sv(){return new js(dr(),le())}function wh(n){return _i(n)?()=>{const e=wh(Be(n));return e&&e()}:yo(n)}function lc(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const _a="__parameters__";function $s(n,e,t){return Fs(()=>{const r=function Ru(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,f){const m=u.hasOwnProperty(_a)?u[_a]:Object.defineProperty(u,_a,{value:[]})[_a];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class Ce{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ke({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vs(n,e){n.forEach(t=>Array.isArray(t)?vs(t,e):e(t))}function xu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ti(n,e,t){let r=Ea(n,e);return r>=0?n[1|r]=t:(r=~r,function Pg(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ah(n,e){const t=Ea(n,e);if(t>=0)return n[1|t]}function Ea(n,e){return function Ng(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const ni=ks($s("Optional"),8);var T=(()=>((T=T||{})[T.Important=1]="Important",T[T.DashCase=2]="DashCase",T))();const Fe=new Map;let yt=0;const Ec="__ngContext__";function nr(n,e){Er(e)?(n[Ec]=e[20],function Hs(n){Fe.set(n[20],n)}(e)):n[Ec]=e}function $v(n,e){return undefined(n,e)}function Vh(n){const e=n[3];return xr(e)?e[3]:e}function Hv(n){return qD(n[13])}function zv(n){return qD(n[4])}function qD(n){for(;null!==n&&!xr(n);)n=n[4];return n}function Ic(n,e,t,r,i){if(null!=r){let s,o=!1;xr(r)?s=r:Er(r)&&(o=!0,r=r[0]);const a=tr(r);0===n&&null!==t?null==i?JD(e,t,a):Lu(e,t,a,i||null,!0):1===n&&null!==t?Lu(e,t,a,i||null,!0):2===n?function Yv(n,e,t){const r=function qg(n,e){return n.parentNode(e)}(n,e);r&&function PL(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function NL(n,e,t,r,i){const s=t[7];s!==tr(t)&&Ic(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Lh(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function qv(n,e,t){return n.createElement(e,t)}function KD(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,oh(i,-1)),t.splice(r,1)}function Kv(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function SL(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Du)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function CL(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&xr(e[3])){t!==e[3]&&KD(t,e);const r=e[19];null!==r&&r.detachView(n)}!function Hg(n){Fe.delete(n[20])}(e)}}function QD(n,e,t){return function YD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ri.None||s===Ri.Emulated)return null}return Ir(r,t)}}(n,e.parent,t)}function Lu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function JD(n,e,t){n.appendChild(e,t)}function XD(n,e,t,r,i){null!==r?Lu(n,e,t,r,i):JD(n,e,t)}let Zg,eE,Qg,nA=function tA(n,e,t){return 40&n.type?Ir(n,t):null};function Wg(n,e,t,r){const i=QD(n,r,e),s=e[11],a=function eA(n,e,t){return nA(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)XD(s,i,t[u],a,!1);else XD(s,i,t,a,!1)}function iA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Jv(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&nr(tr(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Jv(n,e,t.child,r,i,s,!1),Ic(e,n,i,a,s);else if(32&u){const c=$v(t,r);let f;for(;f=c();)Ic(e,n,i,f,s);Ic(e,n,i,a,s)}else 16&u?sA(n,e,r,t,i,s):Ic(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Lh(n,e,t,r,i,s){Jv(t,r,n.firstChild,e,i,s,!1)}function sA(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ic(e,n,i,u[c],s);else Jv(n,e,u,o[3],i,s,!0)}function oA(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function aA(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&mh(n,e,r),null!==i&&oA(n,e,i),null!==s&&function OL(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Bu(n){return function Xv(){if(void 0===Zg&&(Zg=null,Lt.trustedTypes))try{Zg=Lt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Zg}()?.createHTML(n)||n}function lA(n){return function tE(){if(void 0===Qg&&(Qg=null,Lt.trustedTypes))try{Qg=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Qg}()?.createHTML(n)||n}class Uu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${w})`}}class BL extends Uu{getTypeName(){return"HTML"}}class UL extends Uu{getTypeName(){return"Style"}}class jL extends Uu{getTypeName(){return"Script"}}class $L extends Uu{getTypeName(){return"URL"}}class HL extends Uu{getTypeName(){return"ResourceURL"}}function xi(n){return n instanceof Uu?n.changingThisBreaksApplicationSecurity:n}function zs(n,e){const t=function zL(n){return n instanceof Uu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${w})`)}return t===e}class QL{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Bu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class YL{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Bu(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Bu(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const o=t.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const XL=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Yg(n){return(n=String(n)).match(XL)?n:"unsafe:"+n}function bo(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Bh(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const fA=bo("area,br,col,hr,img,wbr"),pA=bo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gA=bo("rp,rt"),nE=Bh(fA,Bh(pA,bo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bh(gA,bo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bh(gA,pA)),rE=bo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mA=Bh(rE,bo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),e2=bo("script,style,template");class t2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!nE.hasOwnProperty(t))return this.sanitizedSomething=!0,!e2.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!mA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;rE[a]&&(u=Yg(u)),this.buf.push(" ",o,'="',_A(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();nE.hasOwnProperty(t)&&!fA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(_A(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const n2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r2=/([^\#-~ |!])/g;function _A(n){return n.replace(/&/g,"&amp;").replace(n2,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(r2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jg;function yA(n,e){let t=null;try{Jg=Jg||function hA(n){const e=new YL(n);return function JL(){try{return!!(new window.DOMParser).parseFromString(Bu(""),"text/html")}catch{return!1}}()?new QL(e):e}(n);let r=e?String(e):"";t=Jg.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Jg.getInertBodyElement(r)}while(r!==s);return Bu((new t2).sanitizeChildren(iE(t)||t))}finally{if(t){const r=iE(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function iE(n){return"content"in n&&function i2(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Jt=(()=>((Jt=Jt||{})[Jt.NONE=0]="NONE",Jt[Jt.HTML=1]="HTML",Jt[Jt.STYLE=2]="STYLE",Jt[Jt.SCRIPT=3]="SCRIPT",Jt[Jt.URL=4]="URL",Jt[Jt.RESOURCE_URL=5]="RESOURCE_URL",Jt))();function vA(n){const e=function Uh(){const n=le();return n&&n[12]}();return e?lA(e.sanitize(Jt.HTML,n)||""):zs(n,"HTML")?lA(xi(n)):yA(function uA(){return void 0!==eE?eE:typeof document<"u"?document:void 0}(),P(n))}const wA=new Ce("ENVIRONMENT_INITIALIZER"),bA=new Ce("INJECTOR",-1),TA=new Ce("INJECTOR_DEF_TYPES");class DA{get(e,t=ta){if(t===ta){const r=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw r.name="NullInjectorError",r}return t}}function h2(...n){return{\u0275providers:AA(0,n),\u0275fromNgModule:!0}}function AA(n,...e){const t=[],r=new Set;let i;return vs(e,s=>{const o=s;sE(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&CA(i,t),t}function CA(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];oE(i,s=>{e.push(s)})}}function sE(n,e,t,r){if(!(n=Be(n)))return!1;let i=null,s=Fp(n);const o=!s&&Mt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Fp(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)sE(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{vs(s.imports,f=>{sE(f,e,t,r)&&(c||(c=[]),c.push(f))})}finally{}void 0!==c&&CA(c,e)}if(!a){const c=yo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Ot},{provide:TA,useValue:i,multi:!0},{provide:wA,useValue:()=>_e(i),multi:!0})}const u=s.providers;null==u||a||oE(u,f=>{e.push(f)})}}return i!==n&&void 0!==n.providers}function oE(n,e){for(let t of n)Ci(t)&&(t=t.\u0275providers),Array.isArray(t)?oE(t,e):e(t)}const f2=dt({provide:String,useValue:dt});function aE(n){return null!==n&&"object"==typeof n&&f2 in n}function ju(n){return"function"==typeof n}const uE=new Ce("Set Injector scope."),Xg={},g2={};let lE;function em(){return void 0===lE&&(lE=new DA),lE}class $u{}class RA extends $u{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dE(e,o=>this.processProvider(o)),this.records.set(bA,wc(void 0,this)),i.has("environment")&&this.records.set($u,wc(void 0,this));const s=this.records.get(uE);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(TA.multi,Ot,Ye.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Os(this),r=lr(void 0);try{return e()}finally{Os(t),lr(r)}}get(e,t=ta,r=Ye.Default){this.assertNotDestroyed(),r=jl(r);const i=Os(this),s=lr(void 0);try{if(!(r&Ye.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function E2(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ce}(e)&&Pi(e);a=u&&this.injectableDefInScope(u)?wc(cE(e),Xg):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Ye.Self?em():this.parent).get(e,t=r&Ye.Optional&&t===ta?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[du]=o[du]||[]).unshift(bt(e)),i)throw o;return function nv(n,e,t,r){const i=n[du];throw e[Ul]&&i.unshift(e[Ul]),n.message=function Kd(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):bt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(na,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[du]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{lr(s),Os(i)}}resolveInjectorInitializers(){const e=Os(this),t=lr(void 0);try{const r=this.get(wA.multi,Ot,Ye.Self);for(const i of r)i()}finally{Os(e),lr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new v(205,!1)}processProvider(e){let t=ju(e=Be(e))?e:Be(e&&e.provide);const r=function _2(n){return aE(n)?wc(void 0,n.useValue):wc(MA(n),Xg)}(e);if(ju(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=wc(void 0,Xg,!0),i.factory=()=>fu(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Xg&&(t.value=g2,t.value=t.factory()),"object"==typeof t.value&&t.value&&function v2(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Be(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function cE(n){const e=Pi(n),t=null!==e?e.factory:yo(n);if(null!==t)return t;if(n instanceof Ce)throw new v(204,!1);if(n instanceof Function)return function m2(n){const e=n.length;if(e>0)throw function va(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new v(204,!1);const t=function zd(n){const e=n&&(n[Fl]||n[Vp]);if(e){const t=function Yy(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new v(204,!1)}function MA(n,e,t){let r;if(ju(n)){const i=Be(n);return yo(i)||cE(i)}if(aE(n))r=()=>Be(n.useValue);else if(function PA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...fu(n.deps||[]));else if(function SA(n){return!(!n||!n.useExisting)}(n))r=()=>_e(Be(n.useExisting));else{const i=Be(n&&(n.useClass||n.provide));if(!function y2(n){return!!n.deps}(n))return yo(i)||cE(i);r=()=>new i(...fu(n.deps))}return r}function wc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function dE(n,e){for(const t of n)Array.isArray(t)?dE(t,e):t&&Ci(t)?dE(t.\u0275providers,e):e(t)}class I2{}class NA{}class b2{resolveComponentFactory(e){throw function w2(n){const e=Error(`No component factory found for ${bt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let tm=(()=>{class n{}return n.NULL=new b2,n})();function T2(){return bc(dr(),le())}function bc(n,e){return new Es(Ir(n,e))}let Es=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=T2,n})();class jh{}let Hu=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function A2(){const n=le(),t=Jr(dr().index,n);return(Er(t)?t:n)[11]}(),n})(),C2=(()=>{class n{}return n.\u0275prov=ke({token:n,providedIn:"root",factory:()=>null}),n})();class $h{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const hE=new $h("15.0.4"),fE={};function gE(n){return n.ngOriginalError}class Tc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&gE(e);for(;t&&gE(t);)t=gE(t);return t||null}}function kA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const FA="ng-template";function L2(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==kA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function VA(n){return 4===n.type&&n.value!==FA}function B2(n,e,t){return e===(4!==n.type||t?n.value:FA)}function U2(n,e,t){let r=4;const i=n.attrs||[],s=function H2(n){for(let e=0;e<n.length;e++)if(fg(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!B2(n,u,t)||""===u&&1===e.length){if(Is(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!L2(n.attrs,c,t)){if(Is(r))return!1;o=!0}continue}const m=j2(8&r?"class":u,i,VA(n),t);if(-1===m){if(Is(r))return!1;o=!0;continue}if(""!==c){let y;y=m>s?"":i[m+1].toLowerCase();const b=8&r?y:null;if(b&&-1!==kA(b,c,0)||2&r&&c!==y){if(Is(r))return!1;o=!0}}}}else{if(!o&&!Is(r)&&!Is(u))return!1;if(o&&Is(u))continue;o=!1,r=u|1&r}}return Is(r)||o}function Is(n){return 0==(1&n)}function j2(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function z2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function LA(n,e,t=!1){for(let r=0;r<e.length;r++)if(U2(n,e[r],t))return!0;return!1}function BA(n,e){return n?":not("+e.trim()+")":e}function q2(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Is(o)&&(e+=BA(s,i),i=""),r=o,s=s||!Is(r);t++}return""!==i&&(e+=BA(s,i)),e}const ct={};function ws(n){UA(Ct(),le(),wr()+n,!1)}function UA(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Tu(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ga(e,s,0,t)}vo(t)}function zA(n,e=null,t=null,r){const i=GA(n,e,t,r);return i.resolveInjectorInitializers(),i}function GA(n,e=null,t=null,r,i=new Set){const s=[t||Ot,h2(n)];return r=r||("object"==typeof n?void 0:bt(n)),new RA(s,e||em(),r||null,i)}let bs=(()=>{class n{static create(t,r){if(Array.isArray(t))return zA({name:""},r,t,"");{const i=t.name??"";return zA({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ta,n.NULL=new DA,n.\u0275prov=ke({token:n,providedIn:"any",factory:()=>_e(bA)}),n.__NG_ELEMENT_ID__=-1,n})();function me(n,e=Ye.Default){const t=le();return null===t?_e(n,e):ac(dr(),t,Be(n),e)}function JA(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];ag(i),o.contentQueries(2,e[s],s)}}}function rm(n,e,t,r,i,s,o,a,u,c,f){const m=e.blueprint.slice();return m[0]=i,m[2]=76|r,(null!==f||n&&1024&n[2])&&(m[2]|=1024),sh(m),m[3]=m[15]=n,m[8]=t,m[10]=o||n&&n[10],m[11]=a||n&&n[11],m[12]=u||n&&n[12]||null,m[9]=c||n&&n[9]||null,m[6]=s,m[20]=function Fr(){return yt++}(),m[21]=f,m[16]=2==e.type?n[16]:m,m}function Cc(n,e,t,r,i){let s=n.data[e];if(null===s)s=function EE(n,e,t,r,i){const s=mv(),o=ms(),u=n.data[e]=function vB(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function yv(){return ot.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Xl(){const n=ot.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return vi(s,!0),s}function Hh(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function IE(n,e,t){dh(e);try{const r=n.viewQuery;null!==r&&ME(1,r,t);const i=n.template;null!==i&&XA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&JA(n,e),n.staticViewQueries&&ME(2,n.viewQuery,t);const s=n.components;null!==s&&function mB(n,e){for(let t=0;t<e.length;t++)LB(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,wu()}}function im(n,e,t,r){const i=e[2];if(128!=(128&i)){dh(e);try{sh(e),function ig(n){return ot.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&XA(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Tu(e,c,null)}else{const c=n.preOrderHooks;null!==c&&ga(e,c,0,null),fh(e,0)}if(function FB(n){for(let e=Hv(n);null!==e;e=zv(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&oh(s,1),i[2]|=512}}}(e),function kB(n){for(let e=Hv(n);null!==e;e=zv(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ha(r)&&im(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&JA(n,e),o){const c=n.contentCheckHooks;null!==c&&Tu(e,c)}else{const c=n.contentHooks;null!==c&&ga(e,c,1),fh(e,1)}!function pB(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)vo(~i);else{const s=i,o=t[++r],a=t[++r];sg(o,s),a(2,e[s])}}}finally{vo(-1)}}(n,e);const a=n.components;null!==a&&function gB(n,e){for(let t=0;t<e.length;t++)VB(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&ME(2,u,r),o){const c=n.viewCheckHooks;null!==c&&Tu(e,c)}else{const c=n.viewHooks;null!==c&&ga(e,c,2),fh(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,oh(e[3],-1))}finally{wu()}}}function XA(n,e,t,r,i){const s=wr(),o=2&r;try{vo(-1),o&&e.length>22&&UA(n,e,22,!1),t(r,i)}finally{vo(s)}}function wE(n,e,t){if(yu(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function eC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=DE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function DE(n,e,t,r,i,s,o,a,u,c){const f=22+r,m=f+i,y=function _B(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ct);return t}(f,m),b="function"==typeof c?c():c;return y[1]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1}}function nC(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?rC(t,e,i,s):r.hasOwnProperty(i)&&rC(t,e,r[i],s)}return t}function rC(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function iC(n,e){const t=Jr(e,n);16&t[2]||(t[2]|=32)}function sC(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Eh(oc(t,e),n,r[c].type);!function RB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const f=r[c];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=Hh(n,e,r.length,null);for(let c=0;c<r.length;c++){const f=r[c];t.mergedAttrs=Eo(t.mergedAttrs,f.hostAttrs),MB(n,t,e,u,f),PB(u,f,i),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const m=f.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function EB(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,c=null;for(let f=e.directiveStart;f<i;f++){const m=s[f],y=t?t.get(m):null,A=y?y.outputs:null;u=nC(m.inputs,f,u,y?y.inputs:null),c=nC(m.outputs,f,c,A);const S=null===u||null===o||VA(e)?null:OB(u,f,o);a.push(S)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,s)}function oC(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function vv(){return ot.lFrame.currentDirectiveIndex}();try{vo(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];uh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&AB(u,c)}}finally{vo(-1),uh(o)}}function AB(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function CE(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function PB(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;yi(e)&&(t[""]=n)}}function MB(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=yo(i.type)),o=new Du(s,yi(i),me);n.blueprint[r]=o,t[r]=o,function bB(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function TB(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Hh(n,t,i.hostVars,ct),i)}function xB(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],f=o[u++],m=o[u++];null!==a?r.setInput(t,m,c,f):t[f]=m}}}function OB(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function VB(n,e){const t=Jr(e,n);if(ha(t)){const r=t[1];48&t[2]?im(r,t,r.template,t[8]):t[5]>0&&PE(t)}}function PE(n){for(let r=Hv(n);null!==r;r=zv(r))for(let i=10;i<r.length;i++){const s=r[i];if(ha(s))if(512&s[2]){const o=s[1];im(o,s,o.template,s[8])}else s[5]>0&&PE(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Jr(t[r],n);ha(i)&&i[5]>0&&PE(i)}}function LB(n,e){const t=Jr(e,n),r=t[1];(function BB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),IE(r,t,t[8])}function sm(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function RE(n){for(;n;){n[2]|=32;const e=Vh(n);if(Jd(n)&&!e)return n;n=e}return null}function om(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{im(n,e,n.template,t)}catch(o){throw r&&dC(e,o),o}finally{i.end&&i.end()}}function ME(n,e,t){ag(0),e(n,t)}function uC(n){return n[7]||(n[7]=[])}function lC(n){return n.cleanup||(n.cleanup=[])}function dC(n,e){const t=n[9],r=t?t.get(Tc,null):null;r&&r.handleError(e)}function NE(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function am(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=mi(i,a):2==s&&(r=mi(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function um(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(tr(s)),xr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&um(u[1],u,c,r)}const o=t.type;if(8&o)um(n,e,t.child,r);else if(32&o){const a=$v(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=iA(e,t);if(Array.isArray(a))r.push(...a);else{const u=Vh(e[16]);um(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class zh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return um(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(xr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(function Wv(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&KD(i,r),e>0&&(n[t-1][4]=r[4]);const s=xu(n,10+e);!function IL(n,e){Lh(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}(e,r),xu(t,r))}this._attachedToViewContainer=!1}!function ZD(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Lh(n,e,t,3,null,null),function TL(n){let e=n[13];if(!e)return Kv(n[1],n);for(;e;){let t=null;if(Er(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Er(e)&&Kv(e[1],e),e=e[3];null===e&&(e=n),Er(e)&&Kv(e[1],e),t=e&&e[4]}e=t}}(e)}}(this._lView[1],this._lView)}onDestroy(e){!function tC(n,e,t,r){const i=uC(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&lC(n).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){RE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){om(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new v(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bL(n,e){Lh(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new v(902,!1);this._appRef=e}}class UB extends zh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;om(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class hC extends tm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Mt(e);return new Gh(t,this.ngModule)}}function fC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class $B{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=jl(r);const i=this.injector.get(e,fE,r);return i!==fE||t===fE?i:this.parentInjector.get(e,t,r)}}class Gh extends NA{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function W2(n){return n.map(q2).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return fC(this.componentDef.inputs)}get outputs(){return fC(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof $u?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new $B(e,s):e,a=o.get(jh,null);if(null===a)throw new v(407,!1);const u=o.get(C2,null),c=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=r?function yB(n,e,t){return n.selectRootElement(e,t===Ri.ShadowDom)}(c,r,this.componentDef.encapsulation):qv(c,f,function jB(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.onPush?288:272,b=DE(0,null,null,1,0,null,null,null,null,null),A=rm(null,b,null,y,null,null,a,c,u,o,null);let S,O;dh(A);try{const U=this.componentDef;let z,L=null;U.findHostDirectiveDefs?(z=[],L=new Map,U.findHostDirectiveDefs(U,z,L),z.push(U)):z=[U];const ne=function zB(n,e){const t=n[1];return n[22]=e,Cc(t,22,2,"#host",null)}(A,m),Pe=function GB(n,e,t,r,i,s,o,a){const u=i[1];!function qB(n,e,t,r){for(const i of n)e.mergedAttrs=Eo(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(am(e,e.mergedAttrs,!0),null!==t&&aA(r,t,e))}(r,n,e,o);const c=s.createRenderer(e,t),f=rm(i,eC(t),null,t.onPush?32:16,i[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&CE(u,n,r.length-1),sm(i,f),i[n.index]=f}(ne,m,U,z,A,a,c);O=Jl(b,22),m&&function KB(n,e,t,r){if(r)mh(n,t,["ng-version",hE.full]);else{const{attrs:i,classes:s}=function K2(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Is(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&mh(n,t,i),s&&s.length>0&&oA(n,t,s.join(" "))}}(c,U,m,r),void 0!==t&&function ZB(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(O,this.ngContentSelectors,t),S=function WB(n,e,t,r,i,s){const o=dr(),a=i[1],u=Ir(o,i);sC(a,i,o,t,null,r);for(let f=0;f<t.length;f++)nr(ys(i,a,o.directiveStart+f,o),i);oC(a,i,o),u&&nr(u,i);const c=ys(i,a,o.directiveStart+o.componentOffset,o);if(n[8]=i[8]=c,null!==s)for(const f of s)f(c,e);return wE(a,o,n),c}(Pe,U,z,L,A,[QB]),IE(b,A,null)}finally{wu()}return new HB(this.componentType,S,bc(O,A),A,O)}}class HB extends I2{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new UB(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;NE(s[1],s,i,e,t),iC(s,this._tNode.index)}}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function QB(){const n=dr();pa(le()[1],n)}function jt(n){let e=function pC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(yi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new v(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=xE(n.inputs),o.declaredInputs=xE(n.declaredInputs),o.outputs=xE(n.outputs);const a=i.hostBindings;a&&eU(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&JB(n,u),c&&XB(n,c),gi(n.inputs,i.inputs),gi(n.declaredInputs,i.declaredInputs),gi(n.outputs,i.outputs),yi(i)&&i.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===jt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function YB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Eo(i.hostAttrs,t=Eo(t,i.hostAttrs))}}(r)}function xE(n){return n===Mi?{}:n===Ot?[]:n}function JB(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function XB(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function eU(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Vr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ws(n,e,t){const r=le();return Vr(r,Bs(),e)&&function Oi(n,e,t,r,i,s,o,a){const u=Ir(e,t);let f,c=e.inputs;!a&&null!=c&&(f=c[r])?(NE(n,t,f,r,i),la(e)&&iC(t,e.index)):3&e.type&&(r=function IB(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(Ct(),function Yt(){const n=ot.lFrame;return Jl(n.tView,n.selectedIndex)}(),r,n,e,r[11],t,!1),Ws}function kE(n,e,t,r,i){const o=i?"class":"style";NE(n,t,e.inputs[o],o,r)}function Lr(n,e,t,r){const i=le(),s=Ct(),o=22+n,a=i[11],u=i[o]=qv(a,e,function tc(){return ot.lFrame.currentNamespace}()),c=s.firstCreatePass?function pU(n,e,t,r,i,s,o){const a=e.consts,c=Cc(e,n,2,i,Xr(a,s));return function AE(n,e,t,r){let i=!1;if(pv()){const s=null===r?null:{"":-1},o=function CB(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(LA(e,o.selectors,!1))if(r||(r=[]),yi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),CE(n,e,a.length)}else r.unshift(o),CE(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,sC(n,e,t,a,s,u)),s&&function SB(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new v(-301,!1);r.push(e[i],s)}}}(t,r,s)}return t.mergedAttrs=Eo(t.mergedAttrs,t.attrs),i}(e,t,c,Xr(a,o)),null!==c.attrs&&am(c,c.attrs,!1),null!==c.mergedAttrs&&am(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];return vi(c,!0),aA(a,u,c),32!=(32&c.flags)&&Wg(s,i,u,c),0===function fv(){return ot.lFrame.elementDepthCount}()&&nr(u,i),function wD(){ot.lFrame.elementDepthCount++}(),ca(c)&&(function bE(n,e,t){!pv()||(function DB(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;la(t)&&function NB(n,e,t){const r=Ir(e,n),i=eC(t),s=n[10],o=sm(n,rm(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||oc(t,e),nr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=ys(e,n,a,t);nr(c,e),null!==o&&xB(0,a-i,c,u,0,o),yi(u)&&(Jr(t.index,e)[8]=ys(e,n,a,t))}}(n,e,t,Ir(t,e)),64==(64&t.flags)&&oC(n,e,t))}(s,i,c),wE(s,c,i)),null!==r&&function TE(n,e,t=Ir){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}(i,c),Lr}function ki(){let n=dr();ms()?function Eu(){ot.lFrame.isParent=!1}():(n=n.parent,vi(n,!1));const e=n;!function bD(){ot.lFrame.elementDepthCount--}();const t=Ct();return t.firstCreatePass&&(pa(t,n),yu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Tv(n){return 0!=(8&n.flags)}(e)&&kE(t,e,le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Dv(n){return 0!=(16&n.flags)}(e)&&kE(t,e,le(),e.stylesWithoutHost,!1),ki}function Co(n,e,t,r){return Lr(n,e,t,r),ki(),Co}function dm(n){return!!n&&"function"==typeof n.then}const PC=function SC(n){return!!n&&"function"==typeof n.subscribe};function Fi(n,e,t,r){const i=le(),s=Ct(),o=dr();return function MC(n,e,t,r,i,s,o){const a=ca(r),c=n.firstCreatePass&&lC(n),f=e[8],m=uC(e);let y=!0;if(3&r.type||o){const S=Ir(r,e),O=o?o(S):S,U=m.length,z=o?ne=>o(tr(ne[r.index])):r.index;let L=null;if(!o&&a&&(L=function _U(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,y=!1;else{s=xC(r,e,f,s,!1);const ne=t.listen(O,i,s);m.push(s,ne),c&&c.push(i,z,U,U+1)}}else s=xC(r,e,f,s,!1);const b=r.outputs;let A;if(y&&null!==b&&(A=b[i])){const S=A.length;if(S)for(let O=0;O<S;O+=2){const Pe=e[A[O]][A[O+1]].subscribe(s),be=m.length;m.push(s,Pe),c&&c.push(i,r.index,be,-(be+1))}}}(s,i,i[11],o,n,e,r),Fi}function NC(n,e,t,r){try{return!1!==t(r)}catch(i){return dC(n,i),!1}}function xC(n,e,t,r,i){return function s(o){if(o===Function)return r;RE(n.componentOffset>-1?Jr(n.index,e):e);let u=NC(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=NC(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function hm(n,e){return n<<17|e<<2}function wa(n){return n>>17&32767}function BE(n){return 2|n}function qu(n){return(131068&n)>>2}function UE(n,e){return-131069&n|e<<2}function jE(n){return 1|n}function HC(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?wa(s):qu(s),u=!1;for(;0!==a&&(!1===u||o);){const f=n[a+1];CU(n[a],e)&&(u=!0,n[a+1]=r?jE(f):BE(f)),a=r?wa(f):qu(f)}u&&(n[t+1]=r?BE(s):jE(s))}function CU(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ea(n,e)>=0}function fm(n,e){return function Ts(n,e,t,r){const i=le(),s=Ct(),o=function Ni(n){const e=ot.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function JC(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[wr()],o=function YC(n,e){return e>=n.expandoStartIndex}(n,t);(function nS(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function FU(n,e,t,r){const i=function og(n){const e=ot.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Kh(t=$E(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=$E(i,n,e,t,r),null===s){let u=function VU(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==qu(r))return n[wa(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=$E(null,n,e,u[1],r),u=Kh(u,e.attrs,r),function LU(n,e,t,r){n[wa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function BU(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Kh(r,n[s].hostAttrs,t);return Kh(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function DU(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wa(o),u=qu(o);n[r]=t;let f,c=!1;if(Array.isArray(t)){const m=t;f=m[1],(null===f||Ea(m,f)>0)&&(c=!0)}else f=t;if(i)if(0!==u){const y=wa(n[a+1]);n[r+1]=hm(y,a),0!==y&&(n[y+1]=UE(n[y+1],r)),n[a+1]=function bU(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=hm(a,0),0!==a&&(n[a+1]=UE(n[a+1],r)),a=r;else n[r+1]=hm(u,0),0===a?a=r:n[u+1]=UE(n[u+1],r),u=r;c&&(n[r+1]=BE(n[r+1])),HC(n,f,r,!0),HC(n,f,r,!1),function AU(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ea(s,e)>=0&&(t[r+1]=jE(t[r+1]))}(e,f,n,r,s),o=hm(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ct&&Vr(i,o,e)&&function eS(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],f=function TU(n){return 1==(1&n)}(c)?tS(u,e,t,i,qu(c),o):void 0;pm(f)||(pm(s)||function wU(n){return 2==(2&n)}(c)&&(s=tS(u,null,t,i,a,o)),function xL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:T.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=T.Important),n.setStyle(t,r,i,s))}}(r,o,Yl(wr(),t),i,s))}(s,s.data[wr()],i,i[11],n,i[o+1]=function $U(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=bt(xi(n)))),n}(e,t),r,o)}(n,e,null,!0),fm}function $E(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Kh(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kh(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ti(n,o,!!t||e[++s]))}return void 0===n?null:n}function tS(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),f=c?u[1]:u,m=null===f;let y=t[i+1];y===ct&&(y=m?Ot:void 0);let b=m?Ah(y,r):f===r?y:void 0;if(c&&!pm(b)&&(b=Ah(u,r)),pm(b)&&(a=b,o))return a;const A=n[i+1];i=o?wa(A):qu(A)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ah(u,r))}return a}function pm(n){return void 0!==n}function Qs(n,e=""){const t=le(),r=Ct(),i=n+22,s=r.firstCreatePass?Cc(r,i,1,e,null):r.data[i],o=t[i]=function Gv(n,e){return n.createText(e)}(t[11],e);Wg(r,t,o,s),vi(s,!1)}function Lc(n){return gm("",n,""),Lc}function gm(n,e,t){const r=le(),i=function Pc(n,e,t,r){return Vr(n,Bs(),t)?e+P(t)+r:ct}(r,n,e,t);return i!==ct&&function Do(n,e,t){const r=Yl(e,n);!function WD(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,wr(),i),gm}const Uc="en-US";let TS=Uc;function GE(n,e,t,r,i){if(n=Be(n),Array.isArray(n))for(let s=0;s<n.length;s++)GE(n[s],e,t,r,i);else{const s=Ct(),o=le();let a=ju(n)?n:Be(n.provide),u=MA(n);const c=dr(),f=1048575&c.providerIndexes,m=c.directiveStart,y=c.providerIndexes>>20;if(ju(n)||!n.multi){const b=new Du(u,i,me),A=WE(a,e,i?f:f+y,m);-1===A?(Eh(oc(c,o),s,a),qE(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),o.push(b)):(t[A]=b,o[A]=b)}else{const b=WE(a,e,f+y,m),A=WE(a,e,f,f+y),S=b>=0&&t[b],O=A>=0&&t[A];if(i&&!O||!i&&!S){Eh(oc(c,o),s,a);const U=function o$(n,e,t,r,i){const s=new Du(n,t,me);return s.multi=[],s.index=e,s.componentProviders=0,ZS(s,i,r&&!t),s}(i?s$:i$,t.length,i,r,u);!i&&O&&(t[A].providerFactory=U),qE(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(U),o.push(U)}else qE(s,n,b>-1?b:A,ZS(t[i?A:b],u,!i&&r));!i&&r&&O&&t[A].componentProviders++}}}function qE(n,e,t,r){const i=ju(e),s=function p2(n){return!!n.useClass}(e);if(i||s){const u=(s?Be(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const f=c.indexOf(t);-1===f?c.push(t,[r,u]):c[f+1].push(r,u)}else c.push(t,u)}}}function ZS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function WE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function i$(n,e,t,r){return KE(this.multi,[])}function s$(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ys(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),KE(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],KE(i,s);return s}function KE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function hn(n,e=[]){return t=>{t.providersResolver=(r,i)=>function r$(n,e,t){const r=Ct();if(r.firstCreatePass){const i=yi(n);GE(t,r.data,r.blueprint,i,!0),GE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class jc{}class a${}class QS extends jc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hC(this);const r=function Yn(n,e){const t=n[ia]||null;if(!t&&!0===e)throw new Error(`Type ${bt(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function To(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=GA(e,t,[{provide:jc,useValue:this},{provide:tm,useValue:this.componentFactoryResolver}],bt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ZE extends a${constructor(e){super(),this.moduleType=e}create(e){return new QS(this.moduleType,e)}}function YE(n){return e=>{setTimeout(n,void 0,e)}}const Br=class V$ extends X{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=YE(s),i&&(i=YE(i)),o&&(o=YE(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof ie&&e.add(a),a}};function wm(...n){}const kP=new Ce("Application Initializer");let bm=(()=>{class n{constructor(t){this.appInits=t,this.resolve=wm,this.reject=wm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(dm(s))t.push(s);else if(PC(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(_e(kP,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rf=new Ce("AppId",{providedIn:"root",factory:function FP(){return`${lI()}${lI()}${lI()}`}});function lI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VP=new Ce("Platform Initializer"),Ku=new Ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),EH=new Ce("appBootstrapListener"),LP=new Ce("AnimationModuleType"),Po=new Ce("LocaleId",{providedIn:"root",factory:()=>fo(Po,Ye.Optional|Ye.SkipSelf)||function IH(){return typeof $localize<"u"&&$localize.locale||Uc}()}),AH=(()=>Promise.resolve(0))();function cI(n){typeof Zone>"u"?AH.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class fn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Br(!1),this.onMicrotaskEmpty=new Br(!1),this.onStable=new Br(!1),this.onError=new Br(!1),typeof Zone>"u")throw new v(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function CH(){let n=Lt.requestAnimationFrame,e=Lt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function RH(n){const e=()=>{!function PH(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Lt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hI(n),n.isCheckStableRunning=!0,dI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return jP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),$P(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return jP(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),$P(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,hI(n),dI(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fn.isInAngularZone())throw new v(909,!1)}static assertNotInAngularZone(){if(fn.isInAngularZone())throw new v(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,SH,wm,wm);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const SH={};function dI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function jP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function $P(n){n._nesting--,dI(n)}class MH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Br,this.onMicrotaskEmpty=new Br,this.onStable=new Br,this.onError=new Br}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const HP=new Ce(""),Tm=new Ce("");let gI,fI=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gI||(function NH(n){gI=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fn.assertNotInAngularZone(),cI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cI(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(_e(fn),_e(pI),_e(Tm))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),pI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return gI?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ba=null;const zP=new Ce("AllowMultipleToken"),mI=new Ce("PlatformDestroyListeners");function qP(n,e,t=[]){const r=`Platform: ${e}`,i=new Ce(r);return(s=[])=>{let o=_I();if(!o||o.injector.get(zP,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function kH(n){if(ba&&!ba.get(zP,!1))throw new v(400,!1);ba=n;const e=n.get(KP);(function GP(n){const e=n.get(VP,null);e&&e.forEach(t=>t())})(n)}(function WP(n=[],e){return bs.create({name:e,providers:[{provide:uE,useValue:"platform"},{provide:mI,useValue:new Set([()=>ba=null])},...n]})}(a,r))}return function VH(n){const e=_I();if(!e)throw new v(401,!1);return e}()}}function _I(){return ba?.get(KP)??null}let KP=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function QP(n,e){let t;return t="noop"===n?new MH:("zone.js"===n?void 0:n)||new fn(e),t}(r?.ngZone,function ZP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:fn,useValue:i}];return i.run(()=>{const o=bs.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Tc,null);if(!u)throw new v(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:f=>{u.handleError(f)}});a.onDestroy(()=>{Am(this._modules,a),c.unsubscribe()})}),function YP(n,e,t){try{const r=t();return dm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(bm);return c.runInitializers(),c.donePromise.then(()=>(function DS(n){ee(n,"Expected localeId to be defined"),"string"==typeof n&&(TS=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Po,Uc)||Uc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=JP({},r);return function xH(n,e,t){const r=new ZE(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Dm);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new v(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new v(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(mI,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(_e(bs))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function JP(n,e){return Array.isArray(e)?e.reduce(JP,n):{...n,...e}}let Dm=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ze(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{fn.assertNotInAngularZone(),cI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{fn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function ur(...n){let e=Number.POSITIVE_INFINITY,t=null,r=n[n.length-1];return ae(r)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof r&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof ze?n[0]:function mr(n=Number.POSITIVE_INFINITY){return ar(jn,n)}(e)(ds(n,t))}(s,o.pipe(function Bt(){return n=>Zn()(function Zi(n,e){return function(r){let i;if(i="function"==typeof n?n:function(){return n},"function"==typeof e)return r.lift(new xs(i,e));const s=Object.create(r,Mr);return s.source=r,s.subjectFactory=i,s}}(Xo)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof NA;if(!this._injector.get(bm).done)throw!i&&function gu(n){const e=Mt(n)||dn(n)||yr(n);return null!==e&&e.standalone}(t),new v(405,false);let o;o=i?t:this._injector.get(tm).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function OH(n){return n.isBoundToModule}(o)?void 0:this._injector.get(jc),c=o.create(bs.NULL,[],r||o.selector,a),f=c.location.nativeElement,m=c.injector.get(HP,null);return m?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),Am(this.components,c),m?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new v(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Am(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(EH,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Am(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new v(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(_e(fn),_e($u),_e(Tc))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Am(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const XH=qP(null,"core",[]);let ez=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(_e(Dm))},n.\u0275mod=xn({type:n}),n.\u0275inj=He({}),n})(),bI=null;function Qu(){return bI}class rz{}const Ei=new Ce("DocumentToken");function ER(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let b4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=He({}),n})();class RR{}class eG extends rz{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class BI extends eG{static makeCurrent(){!function nz(n){bI||(bI=n)}(new BI)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function tG(){return lf=lf||document.querySelector("base"),lf?lf.getAttribute("href"):null}();return null==t?null:function nG(n){Um=Um||document.createElement("a"),Um.setAttribute("href",n);const e=Um.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){lf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ER(document.cookie,e)}}let Um,lf=null;const FR=new Ce("TRANSITION_ID"),iG=[{provide:kP,useFactory:function rG(n,e,t){return()=>{t.get(bm).donePromise.then(()=>{const r=Qu(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[FR,Ei,bs],multi:!0}];let oG=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const jm=new Ce("EventManagerPlugins");let $m=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(_e(jm),_e(fn))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class VR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Qu().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let LR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),cf=(()=>{class n extends LR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(BR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(BR))}}return n.\u0275fac=function(t){return new(t||n)(_e(Ei))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function BR(n){Qu().remove(n)}const UI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jI=/%COMP%/g;function $I(n,e){return e.flat(100).map(t=>t.replace(jI,n))}function $R(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hm=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new HI(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Ri.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new hG(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Ri.ShadowDom:return new fG(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$I(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(_e($m),_e(cf),_e(rf))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class HI{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(UI[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(zR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=UI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=UI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(T.DashCase|T.Important)?e.style.setProperty(t,r,i&T.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&T.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$R(r)):this.eventManager.addEventListener(e,t,$R(r))}}function zR(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hG extends HI{constructor(e,t,r,i){super(e),this.component=r;const s=$I(i+"-"+r.id,r.styles);t.addStyles(s),this.contentAttr=function lG(n){return"_ngcontent-%COMP%".replace(jI,n)}(i+"-"+r.id),this.hostAttr=function cG(n){return"_nghost-%COMP%".replace(jI,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fG extends HI{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$I(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pG=(()=>{class n extends VR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(_e(Ei))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const GR=["alt","control","meta","shift"],gG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mG={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _G=(()=>{class n extends VR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qu().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),GR.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=gG[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GR.forEach(o=>{o!==i&&(0,mG[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(_e(Ei))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const WR=[{provide:Ku,useValue:"browser"},{provide:VP,useValue:function yG(){BI.makeCurrent()},multi:!0},{provide:Ei,useFactory:function EG(){return function LL(n){eE=n}(document),document},deps:[]}],IG=qP(XH,"browser",WR),KR=new Ce(""),ZR=[{provide:Tm,useClass:class sG{addToWindow(e){Lt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Lt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Lt.getAllAngularRootElements=()=>e.getAllRootElements(),Lt.frameworkStabilizers||(Lt.frameworkStabilizers=[]),Lt.frameworkStabilizers.push(r=>{const i=Lt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Qu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:HP,useClass:fI,deps:[fn,pI,Tm]},{provide:fI,useClass:fI,deps:[fn,pI,Tm]}],QR=[{provide:uE,useValue:"root"},{provide:Tc,useFactory:function vG(){return new Tc},deps:[]},{provide:jm,useClass:pG,multi:!0,deps:[Ei,fn,Ku]},{provide:jm,useClass:_G,multi:!0,deps:[Ei]},{provide:Hm,useClass:Hm,deps:[$m,cf,rf]},{provide:jh,useExisting:Hm},{provide:LR,useExisting:cf},{provide:cf,useClass:cf,deps:[Ei]},{provide:$m,useClass:$m,deps:[jm,fn]},{provide:RR,useClass:oG,deps:[]},[]];let YR=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:rf,useValue:t.appId},{provide:FR,useExisting:rf},iG]}}}return n.\u0275fac=function(t){return new(t||n)(_e(KR,12))},n.\u0275mod=xn({type:n}),n.\u0275inj=He({providers:[...QR,...ZR],imports:[b4,ez]}),n})();typeof window<"u"&&window;let eM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(t){let r=null;return r=t?new(t||n):_e(tM),r},providedIn:"root"}),n})(),tM=(()=>{class n extends eM{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Jt.NONE:return r;case Jt.HTML:return zs(r,"HTML")?xi(r):yA(this._doc,String(r)).toString();case Jt.STYLE:return zs(r,"Style")?xi(r):r;case Jt.SCRIPT:if(zs(r,"Script"))return xi(r);throw new Error("unsafe value used in a script context");case Jt.URL:return zs(r,"URL")?xi(r):Yg(String(r));case Jt.RESOURCE_URL:if(zs(r,"ResourceURL"))return xi(r);throw new Error(`unsafe value used in a resource URL context (see ${w})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${w})`)}}bypassSecurityTrustHtml(t){return function GL(n){return new BL(n)}(t)}bypassSecurityTrustStyle(t){return function qL(n){return new UL(n)}(t)}bypassSecurityTrustScript(t){return function WL(n){return new jL(n)}(t)}bypassSecurityTrustUrl(t){return function KL(n){return new $L(n)}(t)}bypassSecurityTrustResourceUrl(t){return function ZL(n){return new HL(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(_e(Ei))},n.\u0275prov=ke({token:n,factory:function(t){let r=null;return r=t?new t:function RG(n){return new tM(n.get(Ei))}(_e(bs)),r},providedIn:"root"}),n})();class nM{}class MG{}const No="*";function rM(n,e=null){return{type:2,steps:n,options:e}}function qI(n){return{type:6,styles:n,offset:null}}function iM(n){Promise.resolve().then(n)}class df{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){iM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?iM(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function oM(n){return new v(3e3,!1)}function mq(){return typeof window<"u"&&typeof window.document<"u"}function KI(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Da(n){switch(n.length){case 0:return new df;case 1:return n[0];default:return new sM(n)}}function aM(n,e,t,r,i=new Map,s=new Map){const o=[],a=[];let u=-1,c=null;if(r.forEach(f=>{const m=f.get("offset"),y=m==u,b=y&&c||new Map;f.forEach((A,S)=>{let O=S,U=A;if("offset"!==S)switch(O=e.normalizePropertyName(O,o),U){case"!":U=i.get(S);break;case No:U=s.get(S);break;default:U=e.normalizeStyleValue(S,O,U,o)}b.set(O,U)}),y||a.push(b),c=b,u=m}),o.length)throw function iq(n){return new v(3502,!1)}();return a}function ZI(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&QI(t,"start",n)));break;case"done":n.onDone(()=>r(t&&QI(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&QI(t,"destroy",n)))}}function QI(n,e,t){const s=YI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function YI(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Vi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function uM(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let JI=(n,e)=>!1,lM=(n,e,t)=>[],cM=null;function XI(n){const e=n.parentNode||n.host;return e===cM?null:e}(KI()||typeof Element<"u")&&(mq()?(cM=(()=>document.documentElement)(),JI=(n,e)=>{for(;e;){if(e===n)return!0;e=XI(e)}return!1}):JI=(n,e)=>n.contains(e),lM=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yu=null,dM=!1;const hM=JI,fM=lM;let pM=(()=>{class n{validateStyleProperty(t){return function yq(n){Yu||(Yu=function vq(){return typeof document<"u"?document.body:null}()||{},dM=!!Yu.style&&"WebkitAppearance"in Yu.style);let e=!0;return Yu.style&&!function _q(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yu.style,!e&&dM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Yu.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return hM(t,r)}getParentElement(t){return XI(t)}query(t,r,i){return fM(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new df(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),ew=(()=>{class n{}return n.NOOP=new pM,n})();const tw="ng-enter",zm="ng-leave",Gm="ng-trigger",qm=".ng-trigger",mM="ng-animating",nw=".ng-animating";function xo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:rw(parseFloat(e[1]),e[2])}function rw(n,e){return"s"===e?1e3*n:n}function Wm(n,e,t){return n.hasOwnProperty("duration")?n:function wq(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(oM()),{duration:0,delay:0,easing:""};i=rw(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=rw(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function FG(){return new v(3100,!1)}()),a=!0),s<0&&(e.push(function VG(){return new v(3101,!1)}()),a=!0),a&&e.splice(u,0,oM())}return{duration:i,delay:s,easing:o}}(n,e,t)}function hf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _M(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Aa(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function vM(n,e,t){return t?e+":"+t+";":""}function EM(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=vM(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=vM(0,Aq(t),n.style[t]));n.setAttribute("style",e)}function Js(n,e,t){n.style&&(e.forEach((r,i)=>{const s=sw(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),KI()&&EM(n))}function Ju(n,e){n.style&&(e.forEach((t,r)=>{const i=sw(r);n.style[i]=""}),KI()&&EM(n))}function ff(n){return Array.isArray(n)?1==n.length?n[0]:rM(n):n}const iw=new RegExp("{{\\s*(.+?)\\s*}}","g");function IM(n){let e=[];if("string"==typeof n){let t;for(;t=iw.exec(n);)e.push(t[1]);iw.lastIndex=0}return e}function pf(n,e,t){const r=n.toString(),i=r.replace(iw,(s,o)=>{let a=e[o];return null==a&&(t.push(function BG(n){return new v(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Km(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Dq=/-+([a-z0-9])/g;function sw(n){return n.replace(Dq,(...e)=>e[1].toUpperCase())}function Aq(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Li(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function UG(n){return new v(3004,!1)}()}}function wM(n,e){return window.getComputedStyle(n)[e]}function Nq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function xq(n,e,t){if(":"==n[0]){const u=function Oq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function eq(n){return new v(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function XG(n){return new v(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(bM(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(bM(o,i))}(r,t,e)):t.push(n),t}const Jm=new Set(["true","1"]),Xm=new Set(["false","0"]);function bM(n,e){const t=Jm.has(n)||Xm.has(n),r=Jm.has(e)||Xm.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Jm.has(n):Xm.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Jm.has(e):Xm.has(e)),o&&a}}const kq=new RegExp("s*:selfs*,?","g");function ow(n,e,t,r){return new Fq(n).build(e,t,r)}class Fq{constructor(e){this._driver=e}build(e,t,r){const i=new Bq(t);return this._resetContextStyleTimingState(i),Li(this,ff(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function $G(){return new v(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,s.push(this.visitState(u,t))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function HG(){return new v(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{IM(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Km(s.values()),t.errors.push(function zG(n,e){return new v(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Li(this,ff(e.animation),t);return{type:1,matchers:Nq(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Li(this,r,t)),options:Xu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Li(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Xu(e.options)}}visitAnimate(e,t){const r=function jq(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return aw(Wm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=aw(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Wm(t,e);return aw(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:qI({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=qI(c)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===No?r.push(a):t.errors.push(new v(3002,!1)):r.push(_M(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=t.collectedStyles.get(t.currentQuerySelector),f=c.get(u);let m=!0;f&&(s!=i&&s>=f.startTime&&i<=f.endTime&&(t.errors.push(function qG(n,e,t,r,i){return new v(3010,!1)}()),m=!1),s=f.startTime),m&&c.set(u,{startTime:s,endTime:i}),t.options&&function Tq(n,e,t){const r=e.params||{},i=IM(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function LG(n){return new v(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function WG(){return new v(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const f=e.steps.map(U=>{const z=this._makeStyleAst(U,t);let L=null!=z.offset?z.offset:function Uq(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(z.styles),ne=0;return null!=L&&(s++,ne=z.offset=L),u=u||ne<0||ne>1,a=a||ne<c,c=ne,o.push(ne),z});u&&t.errors.push(function KG(){return new v(3012,!1)}()),a&&t.errors.push(function ZG(){return new v(3200,!1)}());const m=e.steps.length;let y=0;s>0&&s<m?t.errors.push(function QG(){return new v(3202,!1)}()):0==s&&(y=1/(m-1));const b=m-1,A=t.currentTime,S=t.currentAnimateTimings,O=S.duration;return f.forEach((U,z)=>{const L=y>0?z==b?1:y*z:o[z],ne=L*O;t.currentTime=A+S.delay+ne,S.duration=ne,this._validateStyleAst(U,t),U.offset=L,r.styles.push(U)}),r}visitReference(e,t){return{type:8,animation:Li(this,ff(e.animation),t),options:Xu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Vq(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(kq,"")),n=n.replace(/@\*/g,qm).replace(/@\w+/g,t=>qm+"-"+t.slice(1)).replace(/:animating/g,nw),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Vi(t.collectedStyles,t.currentQuerySelector,new Map);const a=Li(this,ff(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function YG(){return new v(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wm(e.timings,t.errors,!0);return{type:12,animation:Li(this,ff(e.animation),t),timings:r,options:null}}}class Bq{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xu(n){return n?(n=hf(n)).params&&(n.params=function Lq(n){return n?hf(n):null}(n.params)):n={},n}function aw(n,e,t){return{duration:n,delay:e,easing:t}}function uw(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class e_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zq=new RegExp(":enter","g"),qq=new RegExp(":leave","g");function lw(n,e,t,r,i,s=new Map,o=new Map,a,u,c=[]){return(new Wq).buildKeyframes(n,e,t,r,i,s,o,a,u,c)}class Wq{buildKeyframes(e,t,r,i,s,o,a,u,c,f=[]){c=c||new e_;const m=new cw(e,t,c,i,s,f,[]);m.options=u;const y=u.delay?xo(u.delay):0;m.currentTimeline.delayNextStep(y),m.currentTimeline.setStyles([o],null,m.errors,u),Li(this,r,m);const b=m.timelines.filter(A=>A.containsAnimation());if(b.length&&a.size){let A;for(let S=b.length-1;S>=0;S--){const O=b[S];if(O.element===t){A=O;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([a],null,m.errors,u)}return b.length?b.map(A=>A.buildKeyframes()):[uw(t,[],[],[],0,y,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:xo(pf(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?xo(r.duration):null,a=null!=r.delay?xo(r.delay):null;return 0!==o&&e.forEach(u=>{const c=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Li(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=t_);const o=xo(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Li(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?xo(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Li(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Wm(t.params?pf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?xo(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=t_);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((c,f)=>{t.currentQueryIndex=f;const m=t.createSubContext(e.options,c);s&&m.delayNextStep(s),c===t.element&&(u=m.currentTimeline),Li(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const f=t.currentTimeline;u&&f.delayNextStep(u);const m=f.currentTime;Li(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const t_={};class cw{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=t_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new n_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=xo(r.duration)),null!=r.delay&&(i.delay=xo(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=pf(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new cw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=t_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Kq(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(zq,"."+this._enterClassName)).replace(qq,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function JG(n){return new v(3014,!1)}()),a}}class n_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||No),this._currentKeyframe.set(t,No);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Zq(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,No)}else Aa(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=pf(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??No),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=Aa(a,new Map,this._backFill);c.forEach((f,m)=>{"!"===f?e.add(m):f===No&&t.add(m)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?Km(e.values()):[],o=t.size?Km(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return uw(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class Kq extends n_{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=Aa(e[0]);u.set("offset",0),s.push(u);const c=Aa(e[0]);c.set("offset",AM(a)),s.push(c);const f=e.length-1;for(let m=1;m<=f;m++){let y=Aa(e[m]);const b=y.get("offset");y.set("offset",AM((t+b*r)/o)),s.push(y)}r=o,t=0,i="",e=s}return uw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function AM(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class dw{}const Qq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yq extends dw{normalizePropertyName(e,t){return sw(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Qq.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function jG(n,e){return new v(3005,!1)}())}return o+s}}function CM(n,e,t,r,i,s,o,a,u,c,f,m,y){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:f,totalTime:m,errors:y}}const hw={};class SM{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Jq(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,c,f){const m=[],y=this.ast.options&&this.ast.options.params||hw,A=this.buildStyles(r,a&&a.params||hw,m),S=u&&u.params||hw,O=this.buildStyles(i,S,m),U=new Set,z=new Map,L=new Map,ne="void"===i,Pe={params:Xq(S,y),delay:this.ast.options?.delay},be=f?[]:lw(e,t,this.ast.animation,s,o,A,O,Pe,c,m);let B=0;if(be.forEach(F=>{B=Math.max(F.duration+F.delay,B)}),m.length)return CM(t,this._triggerName,r,i,ne,A,O,[],[],z,L,B,m);be.forEach(F=>{const j=F.element,$=Vi(z,j,new Set);F.preStyleProps.forEach(k=>$.add(k));const W=Vi(L,j,new Set);F.postStyleProps.forEach(k=>W.add(k)),j!==t&&U.add(j)});const N=Km(U.values());return CM(t,this._triggerName,r,i,ne,A,O,be,N,z,L,B)}}function Xq(n,e){const t=hf(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class eW{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=hf(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=pf(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class nW{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new eW(i.style,i.options&&i.options.params||{},r))}),PM(this.states,"true","1"),PM(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new SM(e,i,this.states))}),this.fallbackTransition=function rW(n,e,t){return new SM(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function PM(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const iW=new e_;class sW{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=ow(this._driver,t,r,[]);if(r.length)throw function sq(n){return new v(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=aM(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=lw(this._driver,t,s,tw,zm,new Map,new Map,r,iW,i),o.forEach(f=>{const m=Vi(a,f.element,new Map);f.postStyleProps.forEach(y=>m.set(y,null))})):(i.push(function oq(){return new v(3300,!1)}()),o=[]),i.length)throw function aq(n){return new v(3504,!1)}();a.forEach((f,m)=>{f.forEach((y,b)=>{f.set(b,this._driver.computeStyle(m,b,No))})});const c=Da(o.map(f=>{const m=a.get(f.element);return this._buildPlayer(f,new Map,m)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function uq(n){return new v(3301,!1)}();return t}listen(e,t,r,i){const s=YI(t,"","","");return ZI(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const RM="ng-animate-queued",fw="ng-animate-disabled",cW=[],MM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ns="__ng_removed";class pw{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function gW(n){return n??null}(r?e.value:e),r){const s=hf(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const gf="void",gw=new pw(gf);class hW{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,rs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function lq(n,e){return new v(3302,!1)}();if(null==r||0==r.length)throw function cq(n){return new v(3303,!1)}();if(!function mW(n){return"start"==n||"done"==n}(r))throw function dq(n,e){return new v(3400,!1)}();const s=Vi(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Vi(this._engine.statesByElement,e,new Map);return a.has(t)||(rs(e,Gm),rs(e,Gm+"-"+t),a.set(t,gw)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function hq(n){return new v(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new mw(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(rs(e,Gm),rs(e,Gm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const c=new pw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(t,c),u||(u=gw),c.value!==gf&&u.value===c.value){if(!function vW(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,c.params)){const S=[],O=s.matchStyles(u.value,u.params,S),U=s.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Ju(e,O),Js(e,U)})}return}const y=Vi(this._engine.playersByElement,e,[]);y.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let b=s.matchTransition(u.value,c.value,e,c.params),A=!1;if(!b){if(!i)return;b=s.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:b,fromState:u,toState:c,player:o,isFallbackTransition:A}),A||(rs(e,RM),o.onStart(()=>{zc(e,RM)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);const O=this._engine.playersByElement.get(e);if(O){let U=O.indexOf(o);U>=0&&O.splice(U,1)}}),this.players.push(o),y.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,qm,!0);r.forEach(i=>{if(i[ns])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const f=this.trigger(e,c,gf,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Da(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||gw,f=new pw(gf),m=new mw(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ns];(!s||s===MM)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){rs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=YI(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,ZI(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class fW{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new hW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(r_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!r_(t))return;const s=t[ns];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),rs(e,fw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zc(e,fw))}removeNode(e,t,r,i){if(r_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ns]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return r_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,qm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,nw,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Da(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ns];if(t&&t.setForRemoval){if(e[ns]=MM,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(fw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)rs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Da(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function fq(n){return new v(3402,!1)}()}_flushAnimations(e,t){const r=new e_,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(Oe=>{f.add(Oe);const Le=this.driver.query(Oe,".ng-animate-queued",!0);for(let je=0;je<Le.length;je++)f.add(Le[je])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),b=OM(y,this.collectedEnterElements),A=new Map;let S=0;b.forEach((Oe,Le)=>{const je=tw+S++;A.set(Le,je),Oe.forEach(wt=>rs(wt,je))});const O=[],U=new Set,z=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const Le=this.collectedLeaveElements[Oe],je=Le[ns];je&&je.setForRemoval&&(O.push(Le),U.add(Le),je.hasAnimation?this.driver.query(Le,".ng-star-inserted",!0).forEach(wt=>U.add(wt)):z.add(Le))}const L=new Map,ne=OM(y,Array.from(U));ne.forEach((Oe,Le)=>{const je=zm+S++;L.set(Le,je),Oe.forEach(wt=>rs(wt,je))}),e.push(()=>{b.forEach((Oe,Le)=>{const je=A.get(Le);Oe.forEach(wt=>zc(wt,je))}),ne.forEach((Oe,Le)=>{const je=L.get(Le);Oe.forEach(wt=>zc(wt,je))}),O.forEach(Oe=>{this.processLeaveNode(Oe)})});const Pe=[],be=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(t).forEach(je=>{const wt=je.player,Un=je.element;if(Pe.push(wt),this.collectedEnterElements.length){const Pn=Un[ns];if(Pn&&Pn.setForMove){if(Pn.previousTriggersValues&&Pn.previousTriggersValues.has(je.triggerName)){const Zo=Pn.previousTriggersValues.get(je.triggerName),Ai=this.statesByElement.get(je.element);if(Ai&&Ai.has(je.triggerName)){const Qo=Ai.get(je.triggerName);Qo.value=Zo,Ai.set(je.triggerName,Qo)}}return void wt.destroy()}}const as=!m||!this.driver.containsElement(m,Un),Sn=L.get(Un),on=A.get(Un),an=this._buildInstruction(je,r,on,Sn,as);if(an.errors&&an.errors.length)return void be.push(an);if(as)return wt.onStart(()=>Ju(Un,an.fromStyles)),wt.onDestroy(()=>Js(Un,an.toStyles)),void i.push(wt);if(je.isFallbackTransition)return wt.onStart(()=>Ju(Un,an.fromStyles)),wt.onDestroy(()=>Js(Un,an.toStyles)),void i.push(wt);const su=[];an.timelines.forEach(Pn=>{Pn.stretchStartingKeyframe=!0,this.disabledNodes.has(Pn.element)||su.push(Pn)}),an.timelines=su,r.append(Un,an.timelines),o.push({instruction:an,player:wt,element:Un}),an.queriedElements.forEach(Pn=>Vi(a,Pn,[]).push(wt)),an.preStyleProps.forEach((Pn,Zo)=>{if(Pn.size){let Ai=u.get(Zo);Ai||u.set(Zo,Ai=new Set),Pn.forEach((Qo,ou)=>Ai.add(ou))}}),an.postStyleProps.forEach((Pn,Zo)=>{let Ai=c.get(Zo);Ai||c.set(Zo,Ai=new Set),Pn.forEach((Qo,ou)=>Ai.add(ou))})});if(be.length){const Oe=[];be.forEach(Le=>{Oe.push(function pq(n,e){return new v(3505,!1)}())}),Pe.forEach(Le=>Le.destroy()),this.reportError(Oe)}const B=new Map,N=new Map;o.forEach(Oe=>{const Le=Oe.element;r.has(Le)&&(N.set(Le,Le),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,B))}),i.forEach(Oe=>{const Le=Oe.element;this._getPreviousPlayers(Le,!1,Oe.namespaceId,Oe.triggerName,null).forEach(wt=>{Vi(B,Le,[]).push(wt),wt.destroy()})});const F=O.filter(Oe=>FM(Oe,u,c)),j=new Map;xM(j,this.driver,z,c,No).forEach(Oe=>{FM(Oe,u,c)&&F.push(Oe)});const W=new Map;b.forEach((Oe,Le)=>{xM(W,this.driver,new Set(Oe),u,"!")}),F.forEach(Oe=>{const Le=j.get(Oe),je=W.get(Oe);j.set(Oe,new Map([...Array.from(Le?.entries()??[]),...Array.from(je?.entries()??[])]))});const k=[],os=[],iu={};o.forEach(Oe=>{const{element:Le,player:je,instruction:wt}=Oe;if(r.has(Le)){if(f.has(Le))return je.onDestroy(()=>Js(Le,wt.toStyles)),je.disabled=!0,je.overrideTotalTime(wt.totalTime),void i.push(je);let Un=iu;if(N.size>1){let Sn=Le;const on=[];for(;Sn=Sn.parentNode;){const an=N.get(Sn);if(an){Un=an;break}on.push(Sn)}on.forEach(an=>N.set(an,Un))}const as=this._buildAnimation(je.namespaceId,wt,B,s,W,j);if(je.setRealPlayer(as),Un===iu)k.push(je);else{const Sn=this.playersByElement.get(Un);Sn&&Sn.length&&(je.parentPlayer=Da(Sn)),i.push(je)}}else Ju(Le,wt.fromStyles),je.onDestroy(()=>Js(Le,wt.toStyles)),os.push(je),f.has(Le)&&i.push(je)}),os.forEach(Oe=>{const Le=s.get(Oe.element);if(Le&&Le.length){const je=Da(Le);Oe.setRealPlayer(je)}}),i.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<O.length;Oe++){const Le=O[Oe],je=Le[ns];if(zc(Le,zm),je&&je.hasAnimation)continue;let wt=[];if(a.size){let as=a.get(Le);as&&as.length&&wt.push(...as);let Sn=this.driver.query(Le,nw,!0);for(let on=0;on<Sn.length;on++){let an=a.get(Sn[on]);an&&an.length&&wt.push(...an)}}const Un=wt.filter(as=>!as.destroyed);Un.length?_W(this,Le,Un):this.processLeaveNode(Le)}return O.length=0,k.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const Le=this.players.indexOf(Oe);this.players.splice(Le,1)}),Oe.play()}),k}elementContainsData(e,t){let r=!1;const i=t[ns];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==gf;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const c=u.element,f=c!==s,m=Vi(r,c,[]);this._getPreviousPlayers(c,f,o,a,t.toState).forEach(b=>{const A=b.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),b.destroy(),m.push(b)})}Ju(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,c=[],f=new Set,m=new Set,y=t.timelines.map(A=>{const S=A.element;f.add(S);const O=S[ns];if(O&&O.removedBeforeQueried)return new df(A.duration,A.delay);const U=S!==u,z=function yW(n){const e=[];return kM(n,e),e}((r.get(S)||cW).map(B=>B.getRealPlayer())).filter(B=>!!B.element&&B.element===S),L=s.get(S),ne=o.get(S),Pe=aM(0,this._normalizer,0,A.keyframes,L,ne),be=this._buildPlayer(A,Pe,z);if(A.subTimeline&&i&&m.add(S),U){const B=new mw(e,a,S);B.setRealPlayer(be),c.push(B)}return be});c.forEach(A=>{Vi(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function pW(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,A.element,A))}),f.forEach(A=>rs(A,mM));const b=Da(y);return b.onDestroy(()=>{f.forEach(A=>zc(A,mM)),Js(u,t.toStyles)}),m.forEach(A=>{Vi(i,A,[]).push(b)}),b}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new df(e.duration,e.delay)}}class mw{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new df,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ZI(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Vi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function r_(n){return n&&1===n.nodeType}function NM(n,e){const t=n.style.display;return n.style.display=e??"none",t}function xM(n,e,t,r,i){const s=[];t.forEach(u=>s.push(NM(u)));const o=[];r.forEach((u,c)=>{const f=new Map;u.forEach(m=>{const y=e.computeStyle(c,m,i);f.set(m,y),(!y||0==y.length)&&(c[ns]=dW,o.push(c))}),n.set(c,f)});let a=0;return t.forEach(u=>NM(u,s[a++])),o}function OM(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=t.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function rs(n,e){n.classList?.add(e)}function zc(n,e){n.classList?.remove(e)}function _W(n,e,t){Da(t).onDone(()=>n.processLeaveNode(e))}function kM(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof sM?kM(r.players,e):e.push(r)}}function FM(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class i_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new fW(e,t,r),this._timelineEngine=new sW(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],f=ow(this._driver,s,u,[]);if(u.length)throw function rq(n,e){return new v(3404,!1)}();a=function tW(n,e,t){return new nW(n,e,t)}(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=uM(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=uM(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let IW=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Js(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Js(this._element,this._initialStyles),this._endStyles&&(Js(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ju(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ju(this._element,this._endStyles),this._endStyles=null),Js(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _w(n){let e=null;return n.forEach((t,r)=>{(function wW(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class VM{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:wM(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class bW{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return hM(e,t)}getParentElement(e){return XI(e)}query(e,t,r){return fM(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,f=o.filter(b=>b instanceof VM);(function Cq(n,e){return 0===n||0===e})(r,i)&&f.forEach(b=>{b.currentSnapshot.forEach((A,S)=>c.set(S,A))});let m=function bq(n){return n.length?n[0]instanceof Map?n:n.map(e=>_M(e)):[]}(t).map(b=>Aa(b));m=function Sq(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,wM(n,a)))}}return e}(e,m,c);const y=function EW(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=_w(e[0]),e.length>1&&(r=_w(e[e.length-1]))):e instanceof Map&&(t=_w(e)),t||r?new IW(n,t,r):null}(e,m);return new VM(e,m,u,y)}}let TW=(()=>{class n extends nM{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ri.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?rM(t):t;return LM(this._renderer,null,r,"register",[i]),new DW(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(_e(jh),_e(Ei))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class DW extends MG{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new AW(this._id,e,t||{},this._renderer)}}class AW{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return LM(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function LM(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const BM="@.disabled";let CW=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let f=this._rendererCache.get(s);return f||(f=new UM("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,f)),f}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=f=>{Array.isArray(f)?f.forEach(u):this.engine.registerTrigger(o,a,t,f.name,f)};return r.data.animation.forEach(u),new SW(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(_e(jh),_e(i_),_e(fn))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class UM{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==BM?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class SW extends UM{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==BM?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function PW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function RW(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let MW=(()=>{class n extends i_{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(_e(Ei),_e(ew),_e(dw),_e(Dm))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const jM=[{provide:nM,useClass:TW},{provide:dw,useFactory:function NW(){return new Yq}},{provide:i_,useClass:MW},{provide:jh,useFactory:function xW(n,e,t){return new CW(n,e,t)},deps:[Hm,i_,fn]}],yw=[{provide:ew,useFactory:()=>new bW},{provide:LP,useValue:"BrowserAnimations"},...jM],$M=[{provide:ew,useClass:pM},{provide:LP,useValue:"NoopAnimations"},...jM];let OW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?$M:yw}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=He({providers:yw,imports:[YR]}),n})();function HM(...n){let e=n[n.length-1];return ae(e)?(n.pop(),hi(n,e)):ds(n)}class VW{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new LW(e,this.predicate,this.thisArg))}}class LW extends Xe{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}class o_{}class vw{}class Oo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Oo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Oo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Oo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class BW{encodeKey(e){return zM(e)}encodeValue(e){return zM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const jW=/%(\d[a-f0-9])/gi,$W={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zM(n){return encodeURIComponent(n).replace(jW,(e,t)=>$W[t]??e)}function a_(n){return`${n}`}class Ca{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new BW,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function UW(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(a_):[a_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ca({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(a_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(a_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class HW{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qM(n){return typeof Blob<"u"&&n instanceof Blob}function WM(n){return typeof FormData<"u"&&n instanceof FormData}class mf{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zW(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Oo),this.context||(this.context=new HW),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ca,this.urlWithParams=t}serializeBody(){return null===this.body?null:GM(this.body)||qM(this.body)||WM(this.body)||function GW(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ca?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WM(this.body)?null:qM(this.body)?this.body.type||null:GM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ca?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const f=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),c)),new mf(t,r,s,{params:c,headers:u,context:f,reportProgress:a,responseType:i,withCredentials:o})}}var Wn=(()=>((Wn=Wn||{})[Wn.Sent=0]="Sent",Wn[Wn.UploadProgress=1]="UploadProgress",Wn[Wn.ResponseHeader=2]="ResponseHeader",Wn[Wn.DownloadProgress=3]="DownloadProgress",Wn[Wn.Response=4]="Response",Wn[Wn.User=5]="User",Wn))();class Ew{constructor(e,t=200,r="OK"){this.headers=e.headers||new Oo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Iw extends Ew{constructor(e={}){super(e),this.type=Wn.ResponseHeader}clone(e={}){return new Iw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class u_ extends Ew{constructor(e={}){super(e),this.type=Wn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new u_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class KM extends Ew{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ww(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZM=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof mf)s=t;else{let u,c;u=i.headers instanceof Oo?i.headers:new Oo(i.headers),i.params&&(c=i.params instanceof Ca?i.params:new Ca({fromObject:i.params})),s=new mf(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=HM(s).pipe(function kW(n,e){return ar(n,e,1)}(u=>this.handler.handle(u)));if(t instanceof mf||"events"===i.observe)return o;const a=o.pipe(function FW(n,e){return function(r){return r.lift(new VW(n,e))}}(u=>u instanceof u_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(de(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(de(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(de(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ca).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ww(i,r))}post(t,r,i={}){return this.request("POST",t,ww(i,r))}put(t,r,i={}){return this.request("PUT",t,ww(i,r))}}return n.\u0275fac=function(t){return new(t||n)(_e(o_))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function QM(n,e){return e(n)}function qW(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const KW=new Ce("HTTP_INTERCEPTORS"),_f=new Ce("HTTP_INTERCEPTOR_FNS");function ZW(){let n=null;return(e,t)=>(null===n&&(n=(fo(KW,{optional:!0})??[]).reduceRight(qW,QM)),n(e,t))}let YM=(()=>{class n extends o_{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(_f)));this.chain=r.reduceRight((i,s)=>function WW(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),QM)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(_e(vw),_e($u))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const XW=/^\)\]\}',?\n/;let XM=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ze(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((b,A)=>i.setRequestHeader(b,A.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const b=t.detectContentTypeHeader();null!==b&&i.setRequestHeader("Content-Type",b)}if(t.responseType){const b=t.responseType.toLowerCase();i.responseType="json"!==b?b:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const b=i.statusText||"OK",A=new Oo(i.getAllResponseHeaders()),S=function e3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new Iw({headers:A,status:i.status,statusText:b,url:S}),o},u=()=>{let{headers:b,status:A,statusText:S,url:O}=a(),U=null;204!==A&&(U=typeof i.response>"u"?i.responseText:i.response),0===A&&(A=U?200:0);let z=A>=200&&A<300;if("json"===t.responseType&&"string"==typeof U){const L=U;U=U.replace(XW,"");try{U=""!==U?JSON.parse(U):null}catch(ne){U=L,z&&(z=!1,U={error:ne,text:U})}}z?(r.next(new u_({body:U,headers:b,status:A,statusText:S,url:O||void 0})),r.complete()):r.error(new KM({error:U,headers:b,status:A,statusText:S,url:O||void 0}))},c=b=>{const{url:A}=a(),S=new KM({error:b,status:i.status||0,statusText:i.statusText||"Unknown Error",url:A||void 0});r.error(S)};let f=!1;const m=b=>{f||(r.next(a()),f=!0);let A={type:Wn.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(A.total=b.total),"text"===t.responseType&&!!i.responseText&&(A.partialText=i.responseText),r.next(A)},y=b=>{let A={type:Wn.UploadProgress,loaded:b.loaded};b.lengthComputable&&(A.total=b.total),r.next(A)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",m),null!==s&&i.upload&&i.upload.addEventListener("progress",y)),i.send(s),r.next({type:Wn.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",m),null!==s&&i.upload&&i.upload.removeEventListener("progress",y)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(_e(RR))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const bw=new Ce("XSRF_ENABLED"),eN="XSRF-TOKEN",tN=new Ce("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>eN}),nN="X-XSRF-TOKEN",rN=new Ce("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>nN});class iN{}let t3=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ER(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(_e(Ei),_e(Ku),_e(tN))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();function n3(n,e){const t=n.url.toLowerCase();if(!fo(bw)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=fo(iN).getToken(),i=fo(rN);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Fn=(()=>((Fn=Fn||{})[Fn.Interceptors=0]="Interceptors",Fn[Fn.LegacyInterceptors=1]="LegacyInterceptors",Fn[Fn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Fn[Fn.NoXsrfProtection=3]="NoXsrfProtection",Fn[Fn.JsonpSupport=4]="JsonpSupport",Fn[Fn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Fn))();function Gc(n,e){return{\u0275kind:n,\u0275providers:e}}function r3(...n){const e=[ZM,XM,YM,{provide:o_,useExisting:YM},{provide:vw,useExisting:XM},{provide:_f,useValue:n3,multi:!0},{provide:bw,useValue:!0},{provide:iN,useClass:t3}];for(const t of n)e.push(...t.\u0275providers);return function d2(n){return{\u0275providers:n}}(e)}const sN=new Ce("LEGACY_INTERCEPTOR_FN");function s3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:tN,useValue:n}),void 0!==e&&t.push({provide:rN,useValue:e}),Gc(Fn.CustomXsrfConfiguration,t)}let o3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=He({providers:[r3(Gc(Fn.LegacyInterceptors,[{provide:sN,useFactory:ZW},{provide:_f,useExisting:sN,multi:!0}]),s3({cookieName:eN,headerName:nN}))]}),n})();function l_(n,e){return new ze(t=>{const r=n.length;if(0===r)return void t.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=pi(n[a]);let c=!1;t.add(u.subscribe({next:f=>{c||(c=!0,o++),i[a]=f},error:f=>t.error(f),complete:()=>{s++,(s===r||!c)&&(o===r&&t.next(e?e.reduce((f,m,y)=>(f[m]=i[y],f),{}):i),t.complete())}}))}})}let oN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(me(Hu),me(Es))},n.\u0275dir=st({type:n}),n})(),el=(()=>{class n extends oN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function zn(n){return Fs(()=>{const e=n.prototype.constructor,t=e[Qn]||wh(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Qn]||wh(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=st({type:n,features:[jt]}),n})();const Xs=new Ce("NgValueAccessor"),l3={provide:Xs,useExisting:Rt(()=>c_),multi:!0},d3=new Ce("CompositionEventMode");let c_=(()=>{class n extends oN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function c3(){const n=Qu()?Qu().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(me(Hu),me(Es),me(d3,8))},n.\u0275dir=st({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Fi("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[hn([l3]),jt]}),n})();function Sa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function uN(n){return null!=n&&"number"==typeof n.length}const Ur=new Ce("NgValidators"),Pa=new Ce("NgAsyncValidators"),f3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class p3{static min(e){return function lN(n){return e=>{if(Sa(e.value)||Sa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function cN(n){return e=>{if(Sa(e.value)||Sa(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function dN(n){return Sa(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function hN(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function fN(n){return Sa(n.value)||f3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function pN(n){return e=>Sa(e.value)||!uN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function gN(n){return e=>uN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function mN(n){if(!n)return d_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Sa(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return wN(e)}static composeAsync(e){return bN(e)}}function d_(n){return null}function _N(n){return null!=n}function yN(n){return dm(n)?pi(n):n}function vN(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function EN(n,e){return e.map(t=>t(n))}function IN(n){return n.map(e=>function g3(n){return!n.validate}(e)?e:t=>e.validate(t))}function wN(n){if(!n)return null;const e=n.filter(_N);return 0==e.length?null:function(t){return vN(EN(t,e))}}function Tw(n){return null!=n?wN(IN(n)):null}function bN(n){if(!n)return null;const e=n.filter(_N);return 0==e.length?null:function(t){return function a3(...n){if(1===n.length){const e=n[0];if(Zt(e))return l_(e,null);if(cn(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l_(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return l_(n=1===n.length&&Zt(n[0])?n[0]:n,null).pipe(de(t=>e(...t)))}return l_(n,null)}(EN(t,e).map(yN)).pipe(de(vN))}}function Dw(n){return null!=n?bN(IN(n)):null}function TN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DN(n){return n._rawValidators}function AN(n){return n._rawAsyncValidators}function Aw(n){return n?Array.isArray(n)?n:[n]:[]}function h_(n,e){return Array.isArray(n)?n.includes(e):n===e}function CN(n,e){const t=Aw(e);return Aw(n).forEach(i=>{h_(t,i)||t.push(i)}),t}function SN(n,e){return Aw(e).filter(t=>!h_(n,t))}class PN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Dw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class si extends PN{get formDirective(){return null}get path(){return null}}class Ra extends PN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class RN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let MN=(()=>{class n extends RN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(me(Ra,2))},n.\u0275dir=st({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&fm("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[jt]}),n})(),NN=(()=>{class n extends RN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(me(si,10))},n.\u0275dir=st({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&fm("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[jt]}),n})();const yf="VALID",p_="INVALID",qc="PENDING",vf="DISABLED";function Rw(n){return(g_(n)?n.validators:n)||null}function Mw(n,e){return(g_(e)?e.asyncValidators:n)||null}function g_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class FN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yf}get invalid(){return this.status===p_}get pending(){return this.status==qc}get disabled(){return this.status===vf}get enabled(){return this.status!==vf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(CN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SN(e,this._rawAsyncValidators))}hasValidator(e){return h_(this._rawValidators,e)}hasAsyncValidator(e){return h_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yf||this.status===qc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vf:yf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qc,this._hasOwnPendingAsyncValidator=!0;const t=yN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Br,this.statusChanges=new Br}_calculateStatus(){return this._allControlsDisabled()?vf:this.errors?p_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qc)?qc:this._anyControlsHaveStatus(p_)?p_:yf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){g_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function w3(n){return Array.isArray(n)?Tw(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function b3(n){return Array.isArray(n)?Dw(n):n||null}(this._rawAsyncValidators)}}class m_ extends FN{constructor(e,t,r){super(Rw(t),Mw(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function kN(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new v(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function ON(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new v(1e3,"");if(!r[t])throw new v(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Wc=new Ce("CallSetDisabledState",{providedIn:"root",factory:()=>__}),__="always";function Ef(n,e,t=__){Nw(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function A3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&VN(n,e)})}(n,e),function S3(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function C3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&VN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function D3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function v_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),I_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function E_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Nw(n,e){const t=DN(n);null!==e.validator?n.setValidators(TN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=AN(n);null!==e.asyncValidator?n.setAsyncValidators(TN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();E_(e._rawValidators,i),E_(e._rawAsyncValidators,i)}function I_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=DN(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=AN(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return E_(e._rawValidators,r),E_(e._rawAsyncValidators,r),t}function VN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function UN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const w_=class extends FN{constructor(e=null,t,r){super(Rw(t),Mw(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),g_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let qN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),KN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=He({}),n})();const Vw=new Ce("NgModelWithFormControlWarning"),$3={provide:si,useExisting:Rt(()=>b_)};let b_=(()=>{class n extends si{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Br,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(I_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ef(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){v_(t.control||null,t,!1),function N3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function BN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(v_(r||null,t),(n=>n instanceof w_)(i)&&(Ef(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function LN(n,e){Nw(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function P3(n,e){return I_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nw(this.form,this),this._oldForm&&I_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(me(Ur,10),me(Pa,10),me(Wc,8))},n.\u0275dir=st({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Fi("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hn([$3]),jt,Qi]}),n})();const G3={provide:Ra,useExisting:Rt(()=>Uw)};let Uw=(()=>{class n extends Ra{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Br,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function kw(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===c_?t=s:function M3(n){return Object.getPrototypeOf(n.constructor)===el}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ow(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function y_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(me(si,13),me(Ur,10),me(Pa,10),me(Xs,10),me(Vw,8))},n.\u0275dir=st({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[hn([G3]),jt,Qi]}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=He({imports:[KN]}),n})(),o9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wc,useValue:t.callSetDisabledState??__}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=He({imports:[cx]}),n})(),a9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wc,useValue:t.callSetDisabledState??__}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xn({type:n}),n.\u0275inj=He({imports:[cx]}),n})();class l9 extends ie{constructor(e,t){super()}schedule(e,t=0){return this}}let dx=(()=>{class n{constructor(t,r=n.now){this.SchedulerAction=t,this.now=r}schedule(t,r=0,i){return new this.SchedulerAction(this,t).schedule(i,r)}}return n.now=()=>Date.now(),n})();class Ma extends dx{constructor(e,t=dx.now){super(e,()=>Ma.delegate&&Ma.delegate!==this?Ma.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,r){return Ma.delegate&&Ma.delegate!==this?Ma.delegate.schedule(e,t,r):super.schedule(e,t,r)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const hx=new Ma(class c9 extends l9{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=!!s&&s||new Error(s)}if(r)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,r=t.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}});function fx(n=0,e=hx){return(!function d9(n){return!Zt(n)&&n-parseFloat(n)+1>=0}(n)||n<0)&&(n=0),(!e||"function"!=typeof e.schedule)&&(e=hx),new ze(t=>(t.add(e.schedule(h9,n,{subscriber:t,counter:0,period:n})),t))}function h9(n){const{subscriber:e,counter:t,period:r}=n;e.next(t),this.schedule({subscriber:e,counter:t+1,period:r},r)}class f9 extends X{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new it;return this._value}next(e){super.next(this._value=e)}}const px=new ze(function p9(){});function gx(n,e){return"function"==typeof e?t=>t.pipe(gx((r,i)=>pi(n(r,i)).pipe(de((s,o)=>e(r,s,i,o))))):t=>t.lift(new g9(n))}class g9{constructor(e){this.project=e}call(e,t){return t.subscribe(new m9(e,this.project))}}class m9 extends ls{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new us(this),i=this.destination;i.add(r),this.innerSubscription=Dn(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const _9=new ze(n=>n.complete());function I9({error:n,subscriber:e}){e.error(n)}class is{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}}accept(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)}toObservable(){switch(this.kind){case"N":return HM(this.value);case"E":return function E9(n,e){return new ze(e?t=>e.schedule(I9,0,{error:n,subscriber:t}):t=>t.error(n))}(this.error);case"C":return function y9(n){return n?function v9(n){return new ze(e=>n.schedule(()=>e.complete()))}(n):_9}()}throw new Error("unexpected notification kind value")}static createNext(e){return typeof e<"u"?new is("N",e):is.undefinedValueNotification}static createError(e){return new is("E",void 0,e)}static createComplete(){return is.completeNotification}}is.completeNotification=new is("C"),is.undefinedValueNotification=new is("N",void 0);class b9{call(e,t){return t.subscribe(new T9(e))}}class T9 extends Xe{constructor(e){super(e)}_next(e){this.destination.next(is.createNext(e))}_error(e){const t=this.destination;t.next(is.createError(e)),t.complete()}_complete(){const e=this.destination;e.next(is.createComplete()),e.complete()}}class A9{call(e,t){return t.subscribe(new C9(e))}}class C9 extends Xe{constructor(e){super(e)}_next(e){e.observe(this.destination)}}var zw=function(n,e){return(zw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])})(n,e)},P9=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return function S9(n,e){function t(){this.constructor=n}zw(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,n),e.prototype.pause=function(){this.pauser.next(!0)},e.prototype.resume=function(){this.pauser.next(!1)},e}(ze);function R9(){return function(e){var t=P9.prototype,r=new f9(!1),i=r.pipe(gx(function(o){return o?px:e.pipe(function w9(){return function(e){return e.lift(new b9)}}())}),function D9(){return function(e){return e.lift(new A9)}}());return Object.create(i,{pause:{value:t.pause},resume:{value:t.resume},pauser:{value:r}})}}function at(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jr=$e(212);function Vn(n){return"function"==typeof n}function Gw(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const qw=Gw(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function T_(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class eo{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Vn(r))try{r()}catch(s){e=s instanceof qw?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{yx(s)}catch(o){e=e??[],o instanceof qw?e=[...e,...o.errors]:e.push(o)}}if(e)throw new qw(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yx(e);else{if(e instanceof eo){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&T_(t,e)}remove(e){const{_finalizers:t}=this;t&&T_(t,e),e instanceof eo&&e._removeParent(this)}}function _x(n){return n instanceof eo||n&&"closed"in n&&Vn(n.remove)&&Vn(n.add)&&Vn(n.unsubscribe)}function yx(n){Vn(n)?n():n.unsubscribe()}eo.EMPTY=(()=>{const n=new eo;return n.closed=!0,n})();class x9 extends eo{constructor(e,t){super()}schedule(e,t=0){return this}}const D_={setInterval(n,e,...t){const{delegate:r}=D_;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=D_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class vx extends x9{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return D_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&D_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,T_(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class O9 extends vx{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}const Ww={now:()=>(Ww.delegate||Date).now(),delegate:void 0};class wf{constructor(e,t=wf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}wf.now=Ww.now;class Ex extends wf{constructor(e,t=wf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}class k9 extends Ex{}const F9=new k9(O9),Ix=new Ex(vx),nl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},A_={setTimeout(n,e,...t){const{delegate:r}=A_;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=A_;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function wx(n){A_.setTimeout(()=>{const{onUnhandledError:e}=nl;if(!e)throw n;e(n)})}function bx(){}const V9=(()=>Kw("C",void 0,void 0))();function Kw(n,e,t){return{kind:n,value:e,error:t}}let rl=null;class Zw extends eo{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_x(e)&&e.add(this)):this.destination=z9}static create(e,t,r){return new bf(e,t,r)}next(e){this.isStopped?Yw(function B9(n){return Kw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Yw(function L9(n){return Kw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yw(V9,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j9=Function.prototype.bind;function Qw(n,e){return j9.call(n,e)}class $9{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){S_(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){S_(r)}else S_(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){S_(t)}}}class bf extends Zw{constructor(e,t,r){let i;if(super(),Vn(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&nl.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qw(e.next,s),error:e.error&&Qw(e.error,s),complete:e.complete&&Qw(e.complete,s)}):i=e}this.destination=new $9(i)}}function S_(n){nl.useDeprecatedSynchronousErrorHandling?function U9(n){nl.useDeprecatedSynchronousErrorHandling&&rl&&(rl.errorThrown=!0,rl.error=n)}(n):wx(n)}function Yw(n,e){const{onStoppedNotification:t}=nl;t&&A_.setTimeout(()=>t(n,e))}const z9={closed:!0,next:bx,error:function H9(n){throw n},complete:bx},Jw=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function Tf(n){return n}let Tr=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function q9(n){return n&&n instanceof Zw||function G9(n){return n&&Vn(n.next)&&Vn(n.error)&&Vn(n.complete)}(n)&&_x(n)}(t)?t:new bf(t,r,i);return function C_(n){if(nl.useDeprecatedSynchronousErrorHandling){const e=!rl;if(e&&(rl={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=rl;if(rl=null,t)throw r}}else n()}(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Dx(r))((i,s)=>{const o=new bf({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Jw](){return this}pipe(...t){return function Tx(n){return 0===n.length?Tf:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=Dx(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Dx(n){var e;return null!==(e=n??nl.Promise)&&void 0!==e?e:Promise}function oi(n){return e=>{if(function W9(n){return Vn(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wi(n,e,t,r,i){return new K9(n,e,t,r,i)}class K9 extends Zw{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function il(n,e=0){return oi((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Na(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function xa(n,e=0){return oi((t,r)=>{t.subscribe(wi(r,i=>Na(r,n,()=>r.next(i),e),()=>Na(r,n,()=>r.complete(),e),i=>Na(r,n,()=>r.error(i),e)))})}const Oa=new $h("ANGULARFIRE2_VERSION"),Xw=(n,e)=>{const t=e?[e]:(0,jr.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class eb{constructor(){return Xw(Q9)}}const Q9="app-check";function Kc(){}class Cx{constructor(e,t=F9){at(this,"zone",void 0),at(this,"delegate",void 0),this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Y9{constructor(e){at(this,"zone",void 0),at(this,"task",null),this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kc,{},Kc,Kc)),t.pipe(function Z9(n,e,t){const r=Vn(n)||e||t?{next:n,error:e,complete:t}:n;return r?oi((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(wi(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Tf}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ko{constructor(e){at(this,"ngZone",void 0),at(this,"outsideAngular",void 0),at(this,"insideAngular",void 0),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Cx(Zone.current)),this.insideAngular=e.run(()=>new Cx(Zone.current,Ix)),globalThis.\u0275AngularFireScheduler||=this}}function Zc(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function J9(n){return Zc().ngZone.runOutsideAngular(()=>n())}function sl(n){return Zc().ngZone.run(()=>n())}function Bi(n){return function X9(n){return function(t){return(t=t.lift(new Y9(n.ngZone))).pipe(il(n.outsideAngular),xa(n.insideAngular))}}(Zc())(n)}const e5=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),sl(()=>n.apply(void 0,r))},Sx=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=sl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kc,{},Kc,Kc))),r[s]=e5(r[s],t));const i=J9(()=>n.apply(this,r));if(!e){if(i instanceof Tr){const s=Zc();return i.pipe(il(s.outsideAngular),xa(s.insideAngular))}return sl(()=>i)}return i instanceof Tr?i.pipe(Bi):i instanceof Promise?sl(()=>new Promise((s,o)=>i.then(a=>sl(()=>s(a)),a=>sl(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:sl(()=>i)};var Fo=$e(101);class Px{constructor(e){return e}}const P_=new Ce("angularfire2.app.options"),R_=new Ce("angularfire2.app.name");const o5=(n,...e)=>{};class ka{static initializeApp(e,t){return{ngModule:ka,providers:[{provide:P_,useValue:e},{provide:R_,useValue:t}]}}constructor(e){Fo.Z.registerVersion("angularfire",Oa.full,"core"),Fo.Z.registerVersion("angularfire",Oa.full,"app-compat"),Fo.Z.registerVersion("angular",hE.full,e.toString())}}function Rx(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function u5(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(Mx("error",`${e} was already initialized on the ${t} Firebase App with different settings.${l5?" You may need to reload as Firebase is not HMR aware.":""}`),Mx("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const l5=typeof module<"u"&&!!module.hot,Mx=(n,...e)=>{};function N_(n){return function d5(n){return n&&Vn(n.schedule)}(function nb(n){return n[n.length-1]}(n))?n.pop():void 0}globalThis.\u0275AngularfireInstanceCache||=[],$e(54);var Qc=$e(655);const xx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ox(n){return Vn(n?.then)}function kx(n){return Vn(n[Jw])}function Fx(n){return Symbol.asyncIterator&&Vn(n?.[Symbol.asyncIterator])}function Vx(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function f5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const Lx=f5();function Bx(n){return Vn(n?.[Lx])}function Ux(n){return(0,Qc.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Qc.qq)(t.read());if(i)return yield(0,Qc.qq)(void 0);yield yield(0,Qc.qq)(r)}}finally{t.releaseLock()}})}function jx(n){return Vn(n?.getReader)}function Vo(n){if(n instanceof Tr)return n;if(null!=n){if(kx(n))return function p5(n){return new Tr(e=>{const t=n[Jw]();if(Vn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(xx(n))return function g5(n){return new Tr(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ox(n))return function m5(n){return new Tr(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,wx)})}(n);if(Fx(n))return $x(n);if(Bx(n))return function _5(n){return new Tr(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(jx(n))return function y5(n){return $x(Ux(n))}(n)}throw Vx(n)}function $x(n){return new Tr(e=>{(function v5(n,e){var t,r,i,s;return(0,Qc.mG)(this,void 0,void 0,function*(){try{for(t=(0,Qc.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Hx(n,e){if(!n)throw new Error("Iterable cannot be null");return new Tr(t=>{Na(t,e,()=>{const r=n[Symbol.asyncIterator]();Na(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Lo(n,e){return e?function D5(n,e){if(null!=n){if(kx(n))return function E5(n,e){return Vo(n).pipe(il(e),xa(e))}(n,e);if(xx(n))return function w5(n,e){return new Tr(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Ox(n))return function I5(n,e){return Vo(n).pipe(il(e),xa(e))}(n,e);if(Fx(n))return Hx(n,e);if(Bx(n))return function b5(n,e){return new Tr(t=>{let r;return Na(t,e,()=>{r=n[Lx](),Na(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Vn(r?.return)&&r.return()})}(n,e);if(jx(n))return function T5(n,e){return Hx(Ux(n),e)}(n,e)}throw Vx(n)}(n,e):Vo(n)}function Yc(...n){return Lo(n,N_(n))}function bi(n,e){return oi((t,r)=>{let i=0;t.subscribe(wi(r,s=>{r.next(n.call(e,s,i++))}))})}function zx(n,e,t=1/0){return Vn(e)?zx((r,i)=>bi((s,o)=>e(r,s,i,o))(Vo(n(r,i))),t):("number"==typeof e&&(t=e),oi((r,i)=>function A5(n,e,t,r,i,s,o,a){const u=[];let c=0,f=0,m=!1;const y=()=>{m&&!u.length&&!c&&e.complete()},b=S=>c<r?A(S):u.push(S),A=S=>{s&&e.next(S),c++;let O=!1;Vo(t(S,f++)).subscribe(wi(e,U=>{i?.(U),s?b(U):e.next(U)},()=>{O=!0},void 0,()=>{if(O)try{for(c--;u.length&&c<r;){const U=u.shift();o?Na(e,o,()=>A(U)):A(U)}y()}catch(U){e.error(U)}}))};return n.subscribe(wi(e,b,()=>{m=!0,y()})),()=>{a?.()}}(r,i,n,t)))}function Gx(n=1/0){return zx(Tf,n)}function x_(n,e){return oi((t,r)=>{let i=0;t.subscribe(wi(r,s=>n.call(e,s,i++)&&r.next(s)))})}function nO(...n){return function V5(){return Gx(1)}()(Lo(n,N_(n)))}function sb(...n){const e=N_(n);return oi((t,r)=>{(e?nO(n,t,e):nO(n,t)).subscribe(r)})}function ob(){return oi((n,e)=>{let t,r=!1;n.subscribe(wi(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function L5(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(wi(o,f=>{const m=c++;u=a?n(u,f,m):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ab(n,e){return oi(L5(n,e,arguments.length>=2,!0))}function U5(n,e){return n===e}var ol,Af,k_,re=$e(861),to=($e(617),$e(357)),kt=$e(578);typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self,typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;class hr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let Jc="10.14.0";const La=new to.Yd("@firebase/firestore");function Xc(){return La.logLevel}function he(n,...e){if(La.logLevel<=to.in.DEBUG){const t=e.map(lb);La.debug(`Firestore (${Jc}): ${n}`,...t)}}function Ln(n,...e){if(La.logLevel<=to.in.ERROR){const t=e.map(lb);La.error(`Firestore (${Jc}): ${n}`,...t)}}function Ui(n,...e){if(La.logLevel<=to.in.WARN){const t=e.map(lb);La.warn(`Firestore (${Jc}): ${n}`,...t)}}function lb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Se(n="Unexpected state"){const e=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: `+n;throw Ln(e),new Error(e)}function xe(n,e){n||Se()}function ye(n,e){return n}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends kt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hr.UNAUTHENTICATED))}shutdown(){}}class G5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class W5{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K5{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new W5(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function Q5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class gO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Q5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function rt(n,e){return n<e?-1:n>e?1:0}function ed(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new pn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new pn(0,0))}static max(){return new Ve(new pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cf{constructor(e,t,r){void 0===t?t=0:t>e.length&&Se(),void 0===r?r=e.length-t:r>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Cf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tt extends Cf{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const Y5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Cf{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return Y5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Tt.fromString(e))}static fromName(e){return new Ie(Tt.fromString(e).popFirst(5))}static empty(){return new Ie(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Tt(e.slice()))}}function yO(n){return new ji(n.readTime,n.key,-1)}class ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ji(Ve.min(),Ie.empty(),-1)}static max(){return new ji(Ve.max(),Ie.empty(),-1)}}function db(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ie.comparator(n.documentKey,e.documentKey),0!==t?t:rt(n.largestBatchId,e.largestBatchId))}const vO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ba(n){return hb.apply(this,arguments)}function hb(){return hb=(0,re.Z)(function*(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==vO)throw n;he("LocalStore","Unexpectedly lost primary lease")}),hb.apply(this,arguments)}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,r)=>{t(e)})}static reject(e){return new q((t,r)=>{r(e)})}static waitFor(e){return new q((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=q.resolve(!1);for(const r of e)t=t.next(i=>i?q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(f=>{o[c]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new q((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Ua(n){return"IndexedDbTransactionError"===n.name}let $i=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Pf(n){return null==n}function Rf(n){return 0===n&&1/n==-1/0}function RO(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ja(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class en{constructor(e,t){this.comparator=e,this.root=t||Dr.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new L_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new L_(this.root,e,this.comparator,!1)}getReverseIterator(){return new L_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new L_(this.root,e,this.comparator,!0)}}class L_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Dr.RED,this.left=i??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Dr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1,Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Dr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xO(this.data.getIterator())}getIteratorFrom(e){return new xO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class xO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ti{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ti([])}unionWith(e){let t=new Ht(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class OO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OO("Invalid base64 string: "+s):s}}(e);return new Cn(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const T6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(n){if(xe(!!n),"string"==typeof n){let e=0;const t=T6.exec(n);if(xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(n.seconds),nanos:gn(n.nanos)}}function gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jo(n){return"string"==typeof n?Cn.fromBase64String(n):Cn.fromUint8Array(n)}function B_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function U_(n){const e=n.mapValue.fields.__previous_value__;return B_(e)?U_(e):e}function Mf(n){const e=Uo(n.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}class D6{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}const Ha_mapValue={fields:{__type__:{stringValue:"__max__"}}};function za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?B_(n)?4:BO(n)?9007199254740991:z_(n)?10:11:Se()}function io(n,e){if(n===e)return!0;const t=za(n);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mf(n).isEqual(Mf(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Uo(i.timestampValue),a=Uo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,jo(n.bytesValue).isEqual(jo(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return gn(i.geoPointValue.latitude)===gn(s.geoPointValue.latitude)&&gn(i.geoPointValue.longitude)===gn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gn(i.integerValue)===gn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gn(i.doubleValue),a=gn(s.doubleValue);return o===a?Rf(o)===Rf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ed(n.arrayValue.values||[],e.arrayValue.values||[],io);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(RO(o)!==RO(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!io(o[u],a[u])))return!1;return!0}(n,e);default:return Se()}var s}function Nf(n,e){return void 0!==(n.values||[]).find(t=>io(t,e))}function Ga(n,e){if(n===e)return 0;const t=za(n),r=za(e);if(t!==r)return rt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return rt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gn(s.integerValue||s.doubleValue),u=gn(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return kO(n.timestampValue,e.timestampValue);case 4:return kO(Mf(n),Mf(e));case 5:return rt(n.stringValue,e.stringValue);case 6:return function(s,o){const a=jo(s),u=jo(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=rt(a[c],u[c]);if(0!==f)return f}return rt(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=rt(gn(s.latitude),gn(o.latitude));return 0!==a?a:rt(gn(s.longitude),gn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return FO(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,f;const b=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,A=null===(u=(o.fields||{}).value)||void 0===u?void 0:u.arrayValue,S=rt((null===(c=b?.values)||void 0===c?void 0:c.length)||0,(null===(f=A?.values)||void 0===f?void 0:f.length)||0);return 0!==S?S:FO(b,A)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ha_mapValue&&o===Ha_mapValue)return 0;if(s===Ha_mapValue)return 1;if(o===Ha_mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const y=rt(u[m],f[m]);if(0!==y)return y;const b=Ga(a[u[m]],c[f[m]]);if(0!==b)return b}return rt(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Se()}}function kO(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rt(n,e);const t=Uo(n),r=Uo(e),i=rt(t.seconds,r.seconds);return 0!==i?i:rt(t.nanos,r.nanos)}function FO(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Ga(t[i],r[i]);if(s)return s}return rt(t.length,r.length)}function id(n){return mb(n)}function mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Uo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jo(n.bytesValue).toBase64():"referenceValue"in n?Ie.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=mb(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${mb(t.fields[o])}`;return i+"}"}(n.mapValue):Se()}function cl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _b(n){return!!n&&"integerValue"in n}function xf(n){return!!n&&"arrayValue"in n}function VO(n){return!!n&&"nullValue"in n}function LO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function H_(n){return!!n&&"mapValue"in n}function z_(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Of(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ja(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Of(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Of(n.arrayValue.values[t]);return e}return Object.assign({},n)}function BO(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!H_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Of(t)}setAll(e){let t=nn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Of(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());H_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];H_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ja(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ar(Of(this.value))}}function HO(n){const e=[];return ja(n.fields,(t,r)=>{const i=new nn([t]);if(H_(r)){const s=HO(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ti(e)}class rn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rn(e,0,Ve.min(),Ve.min(),Ve.min(),Ar.empty(),0)}static newFoundDocument(e,t,r,i){return new rn(e,1,t,Ve.min(),r,i,0)}static newNoDocument(e,t){return new rn(e,2,t,Ve.min(),Ve.min(),Ar.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ve.min(),Ve.min(),Ar.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qa{constructor(e,t){this.position=e,this.inclusive=t}}function zO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Ie.comparator(Ie.fromName(o.referenceValue),t.key):Ga(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function GO(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!io(n.position[t],e.position[t]))return!1;return!0}class kf{constructor(e,t="asc"){this.field=e,this.dir=t}}function S6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qO{}class Dt extends qO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new P6(e,t,r):"array-contains"===t?new N6(e,r):"in"===t?new JO(e,r):"not-in"===t?new x6(e,r):"array-contains-any"===t?new O6(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new R6(e,r):new M6(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ga(t,this.value)):null!==t&&za(this.value)===za(t)&&this.matchesComparison(Ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends qO{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $t(e,t)}matches(e){return sd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sd(n){return"and"===n.op}function vb(n){return function WO(n){for(const e of n.filters)if(e instanceof $t)return!1;return!0}(n)&&sd(n)}function Eb(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+id(n.value);if(vb(n))return n.filters.map(e=>Eb(e)).join(",");{const e=n.filters.map(t=>Eb(t)).join(",");return`${n.op}(${e})`}}function KO(n,e){return n instanceof Dt?(r=n,(i=e)instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&io(r.value,i.value)):n instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&KO(o,i.filters[a]),!0)}(n,e):void Se();var r,i}function QO(n){return n instanceof Dt?`${(t=n).field.canonicalString()} ${t.op} ${id(t.value)}`:n instanceof $t?function(t){return t.op.toString()+" {"+t.getFilters().map(QO).join(" ,")+"}"}(n):"Filter";var t}class P6 extends Dt{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class R6 extends Dt{constructor(e,t){super(e,"in",t),this.keys=YO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class M6 extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=YO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class N6 extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xf(t)&&Nf(t.arrayValue,this.value)}}class JO extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Nf(this.value.arrayValue,t)}}class x6 extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Nf(this.value.arrayValue,t)}}class O6 extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Nf(this.value.arrayValue,r))}}class k6{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Ib(n,e=null,t=[],r=[],i=null,s=null,o=null){return new k6(n,e,t,r,i,s,o)}function dl(n){const e=ye(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Eb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>id(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>id(r)).join(",")),e.ue=t}return e.ue}function Ff(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!S6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!GO(n.startAt,e.startAt)&&GO(n.endAt,e.endAt)}function G_(n){return Ie.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class $o{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function od(n){return new $o(n)}function n1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wb(n){return null!==n.collectionGroup}function ad(n){const e=ye(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ht(nn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new kf(s,r))}),t.has(nn.keyField().canonicalString())||e.ce.push(new kf(nn.keyField(),r))}return e.ce}function Hr(n){const e=ye(n);return e.le||(e.le=function i1(n,e){if("F"===n.limitType)return Ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new kf(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new qa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qa(n.startAt.position,n.startAt.inclusive):null;return Ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,ad(n))),e.le}function bb(n,e){const t=n.filters.concat([e]);return new $o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function W_(n,e,t){return new $o(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vf(n,e){return Ff(Hr(n),Hr(e))&&n.limitType===e.limitType}function s1(n){return`${dl(Hr(n))}|lt:${n.limitType}`}function ud(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>QO(i)).join(", ")}]`),Pf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>id(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>id(i)).join(",")),`Target(${r})`}(Hr(n))}; limitType=${n.limitType})`}function Lf(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of ad(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const c=zO(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ad(r),i)||r.endAt&&!function(o,a,u){const c=zO(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ad(r),i)));var r,i}function a1(n){return(e,t)=>{let r=!1;for(const i of ad(n)){const s=F6(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function F6(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?Ga(u,c):Se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}class Ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NO(this.inner)}size(){return this.innerSize}}const V6=new en(Ie.comparator);function Di(){return V6}const u1=new en(Ie.comparator);function Bf(...n){let e=u1;for(const t of n)e=e.insert(t.key,t);return e}function l1(n){let e=u1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function so(){return Uf()}function c1(){return Uf()}function Uf(){return new Ho(n=>n.toString(),(n,e)=>n.isEqual(e))}const L6=new en(Ie.comparator),B6=new Ht(Ie.comparator);function ht(...n){let e=B6;for(const t of n)e=e.add(t);return e}const U6=new Ht(rt);function Db(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function d1(n){return{integerValue:""+n}}function h1(n,e){return function bO(n){return"number"==typeof n&&Number.isInteger(n)&&!Rf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?d1(e):Db(n,e)}class K_{constructor(){this._=void 0}}function j6(n,e,t){return n instanceof ld?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&B_(s)&&(s=U_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof hl?p1(n,e):n instanceof fl?g1(n,e):function(i,s){const o=f1(i,s),a=m1(o)+m1(i.Pe);return _b(o)&&_b(i.Pe)?d1(a):Db(i.serializer,a)}(n,e)}function $6(n,e,t){return n instanceof hl?p1(n,e):n instanceof fl?g1(n,e):t}function f1(n,e){return n instanceof cd?_b(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class ld extends K_{}class hl extends K_{constructor(e){super(),this.elements=e}}function p1(n,e){const t=_1(e);for(const r of n.elements)t.some(i=>io(i,r))||t.push(r);return{arrayValue:{values:t}}}class fl extends K_{constructor(e){super(),this.elements=e}}function g1(n,e){let t=_1(e);for(const r of n.elements)t=t.filter(i=>!io(i,r));return{arrayValue:{values:t}}}class cd extends K_{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function m1(n){return gn(n.integerValue||n.doubleValue)}function _1(n){return xf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class z6{constructor(e,t){this.version=e,this.transformResults=t}}class mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Z_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Q_{}function y1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new hd(n.key,mn.none()):new dd(n.key,n.data,mn.none());{const t=n.data,r=Ar.empty();let i=new Ht(nn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new zo(n.key,r,new Ti(i.toArray()),mn.none())}}function G6(n,e,t){n instanceof dd?function(i,s,o){const a=i.value.clone(),u=I1(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof zo?function(i,s,o){if(!Z_(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=I1(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(E1(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $f(n,e,t,r){return n instanceof dd?function(s,o,a,u){if(!Z_(s.precondition,o))return a;const c=s.value.clone(),f=w1(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof zo?function(s,o,a,u){if(!Z_(s.precondition,o))return a;const c=w1(s.fieldTransforms,u,o),f=o.data;return f.setAll(E1(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,Z_(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function q6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=f1(r.transform,i||null);null!=s&&(null===t&&(t=Ar.empty()),t.set(r.field,s))}return t||null}function v1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&ed(r,i,(s,o)=>function H6(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof hl&&i instanceof hl||r instanceof fl&&i instanceof fl?ed(r.elements,i.elements,io):r instanceof cd&&i instanceof cd?io(r.Pe,i.Pe):r instanceof ld&&i instanceof ld);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class dd extends Q_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zo extends Q_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function I1(n,e,t){const r=new Map;xe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$6(o,a,t[i]))}return r}function w1(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,j6(s,o,e))}return r}class hd extends Q_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ab extends Q_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&G6(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$f(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$f(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=c1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=y1(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ht())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(t,r)=>v1(t,r))&&ed(this.baseMutations,e.baseMutations,(t,r)=>v1(t,r))}}class Sb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xe(e.mutations.length===r.length);let i=L6;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Sb(e,t,r,i)}}class Pb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class W6{constructor(e,t){this.count=e,this.unchangedNames=t}}var Kn,Nt;function T1(n){switch(n){default:return Se();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function D1(n){if(void 0===n)return Ln("GRPC error has no .code"),Y.UNKNOWN;switch(n){case Kn.OK:return Y.OK;case Kn.CANCELLED:return Y.CANCELLED;case Kn.UNKNOWN:return Y.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return Y.INTERNAL;case Kn.UNAVAILABLE:return Y.UNAVAILABLE;case Kn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Kn.NOT_FOUND:return Y.NOT_FOUND;case Kn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Kn.ABORTED:return Y.ABORTED;case Kn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Kn.DATA_LOSS:return Y.DATA_LOSS;default:return Se()}}(Nt=Kn||(Kn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";const K6=new ol([4294967295,4294967295],0);function C1(n){const e=function A1(){return new TextEncoder}().encode(n),t=new(void 0);return t.update(e),new Uint8Array(t.digest())}function S1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ol([t,r],0),new ol([i,s],0)]}class Rb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hf(`Invalid padding: ${t}`);if(r<0)throw new Hf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Hf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Hf(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ol.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(ol.fromNumber(r)));return 1===i.compare(K6)&&(i=new ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=C1(e),[r,i]=S1(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Rb(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=C1(e),[r,i]=S1(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zf(Ve.min(),i,new en(rt),Di(),ht())}}class Gf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gf(r,t,ht(),ht(),ht())}}class J_{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class P1{constructor(e,t){this.targetId=e,this.me=t}}class R1{constructor(e,t,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class M1{constructor(){this.fe=0,this.ge=x1(),this.pe=Cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),t=ht(),r=ht();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Se()}}),new Gf(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=x1()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Z6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Di(),this.qe=N1(),this.Qe=new en(rt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(G_(s))if(0===r){const o=new Ie(s.path);this.Ue(t,o,rn.newNoDocument(o,Ve.min()))}else xe(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;0!==u&&(this.je(t),this.Qe=this.Qe.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=jo(r).toUint8Array()}catch(u){if(u instanceof OO)return Ui("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Rb(o,i,s)}catch(u){return Ui(u instanceof Hf?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&G_(a.target)){const u=new Ie(a.target.path);null!==this.ke.get(u)||this.it(o,u)||this.Ue(o,u,rn.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ht();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zf(e,t,this.Qe,this.ke,r);return this.ke=Di(),this.qe=N1(),this.Qe=new en(rt),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new M1,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ht(rt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||he("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M1),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function N1(){return new en(Ie.comparator)}function x1(){return new en(Ie.comparator)}const Q6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Y6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),J6=(()=>({and:"AND",or:"OR"}))();class X6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mb(n,e){return n.useProto3Json||Pf(e)?e:{value:e}}function fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function e8(n,e){return fd(n,e.toTimestamp())}function Bn(n){return xe(!!n),Ve.fromTimestamp(function(t){const r=Uo(t);return new pn(r.seconds,r.nanos)}(n))}function Nb(n,e){return xb(n,e).canonicalString()}function xb(n,e){const t=(i=n,new Tt(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function k1(n){const e=Tt.fromString(n);return xe(q1(e)),e}function qf(n,e){return Nb(n.databaseId,e.path)}function oo(n,e){const t=k1(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(L1(t))}function F1(n,e){return Nb(n.databaseId,e)}function Ob(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function L1(n){return xe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function B1(n,e,t){return{name:qf(n,e),fields:t.value.mapValue.fields}}function j1(n,e){return{documents:[F1(n,e.path)]}}function X_(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=F1(n,i);const s=function(c){if(0!==c.length)return G1($t.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(f=>{return{field:Wa((y=f).field),direction:s8(y.dir)};var y})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=Mb(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function H1(n){let e=function V1(n){const e=k1(n);return 4===e.length?Tt.emptyPath():L1(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xe(1===r);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(m){const y=z1(m);return y instanceof $t&&vb(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(y=>{return new kf(pd((A=y).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let a=null;t.limit&&(a=function(m){let y;return y="object"==typeof m?m.value:m,Pf(y)?null:y}(t.limit));let u=null;var m;t.startAt&&(u=new qa((m=t.startAt).values||[],!!m.before));let c=null;return t.endAt&&(c=function(m){return new qa(m.values||[],!m.before)}(t.endAt)),function t1(n,e,t,r,i,s,o,a){return new $o(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function z1(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=pd(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pd(t.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pd(t.unaryFilter.field);return Dt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pd(t.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):void 0!==n.fieldFilter?Dt.create(pd((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return $t.create(t.compositeFilter.filters.map(r=>z1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se();var t}function s8(n){return Q6[n]}function o8(n){return Y6[n]}function a8(n){return J6[n]}function Wa(n){return{fieldPath:n.canonicalString()}}function pd(n){return nn.fromServerFormat(n.fieldPath)}function G1(n){return n instanceof Dt?function(t){if("=="===t.op){if(LO(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NAN"}};if(VO(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(LO(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NAN"}};if(VO(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(t.field),op:o8(t.op),value:t.value}}}(n):n instanceof $t?function(t){const r=t.getFilters().map(i=>G1(i));return 1===r.length?r[0]:{compositeFilter:{op:a8(t.op),filters:r}}}(n):Se()}function u8(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function q1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Go{constructor(e,t,r,i,s=Ve.min(),o=Ve.min(),a=Cn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class W1{constructor(e){this.ct=e}}function Fb(n){const e=H1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?W_(e,e.limit,"L"):e}class _l{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gn(e.integerValue));else if("doubleValue"in e){const r=gn(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Rf(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=Uo(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(jo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?BO(e)?this.dt(t,Number.MAX_SAFE_INTEGER):z_(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Se()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const s=e.fields||{};this.dt(t,53);const o="value",a=(null===(i=null===(r=s[o].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(gn(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Ie.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}_l.vt=new _l;class _8{constructor(){this.un=new $b}addToCollectionParentIndex(e,t){return this.un.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(ji.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class $b{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ht(Tt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(Tt.comparator)).toArray()}}class zr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zr(e,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);class vl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vl(0)}static kn(){return new vl(-1)}}class mk{constructor(){this.changes=new Ho(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D8{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ik{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&$f(r.mutation,i,Ti.empty(),pn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ht()){const i=so();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Bf();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=so();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ht()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Di();const o=Uf(),a=Uf();return t.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(void 0===f||f.mutation instanceof zo)?s=s.insert(c.key,c):void 0!==f?(o.set(c.key,f.mutation.getFieldMask()),$f(f.mutation,c,f.mutation.getFieldMask(),pn.now())):o.set(c.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),t.forEach((c,f)=>{var m;return a.set(c,new D8(f,null!==(m=o.get(c))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Uf();let i=new en((o,a)=>o-a),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let f=r.get(u)||Ti.empty();f=a.applyToLocalView(c,f),r.set(u,f);const m=(i.get(a.batchId)||ht()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,m=c1();f.forEach(y=>{if(!s.has(y)){const b=y1(t.get(y),r.get(y));null!==b&&m.set(y,b),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Ie.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):q.resolve(so());let a=-1,u=s;return o.next(c=>q.forEach(c,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(f)?q.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ht())).next(f=>({batchId:a,changes:l1(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let i=Bf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Bf();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,u=>{const c=(m=t,y=u.child(s),new $o(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();null===o.get(f)&&(o=o.insert(f,rn.newInvalidDocument(f)))});let a=Bf();return o.forEach((u,c)=>{const f=s.get(u);void 0!==f&&$f(f.mutation,c,Ti.empty(),pn.now()),Lf(t,c)&&(a=a.insert(u,c))}),a})}}class A8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:Bn(i.createTime)}),q.resolve();var i}getNamedQuery(e,t){return q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:Fb(i.bundledQuery),readTime:Bn(i.readTime)}),q.resolve();var i}}class C8{constructor(){this.overlays=new en(Ie.comparator),this.Ir=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=so();return q.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){const i=so(),s=t.length+1,o=new Ie(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new en((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let f=s.get(c.largestBatchId);null===f&&(f=so(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=so(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return q.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pb(t,r));let s=this.Ir.get(t);void 0===s&&(s=ht(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}class S8{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}class Hb{constructor(){this.Tr=new Ht(pr.Er),this.dr=new Ht(pr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new pr(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new pr(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Ie(new Tt([])),r=new pr(t,e),i=new pr(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ie(new Tt([])),r=new pr(t,e),i=new pr(t,e+1);let s=ht();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new pr(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pr{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ie.comparator(e.key,t.key)||rt(e.wr,t.wr)}static Ar(e,t){return rt(e.wr,t.wr)||Ie.comparator(e.key,t.key)}}class P8{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ht(pr.Er)}checkEmpty(e){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++;const o=new Cb(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new pr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,t){return q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pr(t,0),i=new pr(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(rt);return t.forEach(i=>{const s=new pr(i,0),o=new pr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const o=new pr(new Ie(s),0);let a=new Ht(rt);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xe(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return q.forEach(t.mutations,i=>{const s=new pr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new pr(t,0),i=this.br.firstAfterOrEqual(r);return q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class R8{constructor(e){this.Mr=e,this.docs=new en(Ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=Di();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():rn.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Di();const o=t.path,a=new Ie(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||db(yO(f),r)<=0||(i.has(f.key)||Lf(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Se()}Or(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new M8(this)}getSize(e){return q.resolve(this.size)}}class M8 extends mk{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class N8{constructor(e){this.persistence=e,this.Nr=new Ho(t=>dl(t),Ff),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hb,this.targetCount=0,this.kr=vl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),q.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new vl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Kn(t),q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.Br.containsKey(t))}}class zb{constructor(e,t){this.qr={},this.overlays={},this.Qr=new $i(0),this.Kr=!1,this.Kr=!0,this.$r=new S8,this.referenceDelegate=e(this),this.Ur=new N8(this),this.indexManager=new _8,this.remoteDocumentCache=new R8(r=>this.referenceDelegate.Wr(r)),this.serializer=new W1(t),this.Gr=new A8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new C8,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new P8(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new x8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class x8 extends EO{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.Jr=new Hb,this.Yr=null}static Zr(e){return new ay(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const i=Ie.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Ve.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return q.or([()=>q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Kb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ht(),i=ht();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Kb(e,t.fromCache,r,i)}}class k8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,kt.G6)()?8:function IO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}((0,kt.z$)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new k8;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Xc()<=to.in.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ud(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Xc()<=to.in.DEBUG&&he("QueryEngine","Query:",ud(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Xc()<=to.in.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ud(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):q.resolve())}Yi(e,t){if(n1(t))return q.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=W_(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ht(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(t,a);return this.ns(t,c,o,u.readTime)?this.Yi(e,W_(t,null,"F")):this.rs(e,c,t,u)}))})))}Zi(e,t,r,i){return n1(t)||i.isEqual(Ve.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?q.resolve(null):(Xc()<=to.in.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ud(t)),this.rs(e,o,t,function _O(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(1e9===r?new pn(t+1,0):new pn(t,r));return new ji(i,Ie.empty(),e)}(i,-1)).next(a=>a))})}ts(e,t){let r=new Ht(a1(e));return t.forEach((i,s)=>{Lf(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Xc()<=to.in.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ud(t)),this.Ji.getDocumentsMatchingQuery(e,t,ji.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class F8{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new en(rt),this._s=new Ho(s=>dl(s),Ff),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ik(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Dk(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,re.Z)(function*(n,e){const t=ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ht();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}),Zb.apply(this,arguments)}function V8(n,e){const t=ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const m=c.batch,y=m.keys();let b=q.resolve();return y.forEach(A=>{b=b.next(()=>f.getEntry(u,A)).next(S=>{const O=c.docVersions.get(A);xe(null!==O),S.version.compareTo(O)<0&&(m.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),f.addEntry(S)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Ak(n){const e=ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function L8(n,e){const t=ye(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((f,m)=>{const y=i.get(m);if(!y)return;a.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(s,f.addedDocuments,m)));let b=y.withSequenceNumber(s.currentSequenceNumber);var S,O,U;null!==e.targetMismatches.get(m)?b=b.withResumeToken(Cn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),i=i.insert(m,b),O=b,U=f,(0===(S=y).resumeToken.approximateByteSize()||O.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(s,b))});let u=Di(),c=ht();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(function Ck(n,e,t){let r=ht(),i=ht();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Di();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Ve.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(Ve.min())){const f=t.Ur.getLastRemoteSnapshotVersion(s).next(m=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.os=i,s))}function B8(n,e){const t=ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vd(n,e){const t=ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Go(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Ed(n,e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,re.Z)(function*(n,e,t){const r=ye(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ua(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}),Qb.apply(this,arguments)}function cy(n,e,t){const r=ye(n);let i=Ve.min(),s=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const m=ye(u),y=m._s.get(f);return void 0!==y?q.resolve(m.os.get(y)):m.Ur.getTargetData(c,f)}(r,o,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Ve.min(),t?s:ht())).next(a=>(function Rk(n,e,t){let r=n.us.get(e)||Ve.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}(r,function o1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Ts:s})))}class tT{constructor(){this.activeTargetIds=function Tb(){return U6}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this.so=new tT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $8{_o(e){}shutdown(){}}class Ok{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fy=null;function rT(){return null===fy?fy=268435456+Math.round(2147483648*Math.random()):fy++,"0x"+fy.toString(16)}const H8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Gr="WebChannelConnection";class G8 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=rT(),u=this.xo(t,r.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,u,c,i).then(f=>(he("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw Ui("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Jc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){return`${this.Do}/v1/${r}:${H8[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=rT();return new Promise((o,a)=>{const u=new(void 0);u.setWithCredentials(!0),u.listenOnce((void 0).COMPLETE,()=>{try{switch(u.getLastErrorCode()){case k_.NO_ERROR:const f=u.getResponseJson();he(Gr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case k_.TIMEOUT:he(Gr,`RPC '${e}' ${s} timed out`),a(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case k_.HTTP_ERROR:const m=u.getStatus();if(he(Gr,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y?.error;if(b&&b.status&&b.message){const A=function(O){const U=O.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(U)>=0?U:Y.UNKNOWN}(b.status);a(new ue(A,b.message))}else a(new ue(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(Gr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);he(Gr,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=rT(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=(void 0)(),a=(void 0)(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const f=s.join("");he(Gr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=o.createWebChannel(f,u);let y=!1,b=!1;const A=new z8({Io:O=>{b?he(Gr,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(y||(he(Gr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),he(Gr,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},To:()=>m.close()}),S=(O,U,z)=>{O.listen(U,L=>{try{z(L)}catch(ne){setTimeout(()=>{throw ne},0)}})};return S(m,Af.EventType.OPEN,()=>{b||(he(Gr,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),S(m,Af.EventType.CLOSE,()=>{b||(b=!0,he(Gr,`RPC '${e}' stream ${i} transport closed`),A.So())}),S(m,Af.EventType.ERROR,O=>{b||(b=!0,Ui(Gr,`RPC '${e}' stream ${i} transport errored:`,O),A.So(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),S(m,Af.EventType.MESSAGE,O=>{var U;if(!b){const z=O.data[0];xe(!!z);const L=z,ne=L.error||(null===(U=L[0])||void 0===U?void 0:U.error);if(ne){he(Gr,`RPC '${e}' stream ${i} received error:`,ne);const Pe=ne.status;let be=function(F){const j=Kn[F];if(void 0!==j)return D1(j)}(Pe),B=ne.message;void 0===be&&(be=Y.INTERNAL,B="Unknown error status: "+Pe+" with message "+ne.message),b=!0,A.So(new ue(be,B)),m.close()}else he(Gr,`RPC '${e}' stream ${i} received:`,z),A.bo(z)}}),S(a,(void 0).STAT_EVENT,O=>{O.stat===(void 0).PROXY?he(Gr,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===(void 0).NOPROXY&&he(Gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function py(){return typeof document<"u"?document:null}function tp(n){return new X6(n,!0)}class iT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Fk{constructor(e,t,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iT(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,re.Z)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,re.Z)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,re.Z)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Ln(t.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new ue(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,re.Z)(function*(){e.state=0,e.start()}))}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q8 extends Fk{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function n8(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Se(),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(xe(void 0===f||"string"==typeof f),Cn.fromBase64String(f||"")):(xe(void 0===f||f instanceof Buffer||f instanceof Uint8Array),Cn.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=void 0===c.code?Y.UNKNOWN:D1(c.code);return new ue(f,c.message||"")}(o);t=new R1(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=oo(n,r.document.name),s=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):Ve.min(),a=new Ar({mapValue:{fields:r.document.fields}}),u=rn.newFoundDocument(i,s,o,a);t=new J_(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=oo(n,r.document),s=r.readTime?Bn(r.readTime):Ve.min(),o=rn.newNoDocument(i,s);t=new J_([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=oo(n,r.document);t=new J_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Se();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new W6(i,s);t=new P1(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ve.min():o.readTime?Bn(o.readTime):Ve.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=Ob(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=G_(u)?{documents:j1(s,u)}:{query:X_(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=O1(s,o.resumeToken);const c=Mb(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ve.min())>0){a.readTime=fd(s,o.snapshotVersion.toTimestamp());const c=Mb(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function i8(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=Ob(this.serializer),t.removeTarget=e,this.a_(t)}}class W8 extends Fk{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function r8(n,e){return n&&n.length>0?(xe(void 0!==e),n.map(t=>function(i,s){let o=Bn(i.updateTime?i.updateTime:s);return o.isEqual(Ve.min())&&(o=Bn(s)),new z6(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=Ob(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Wf(n,e){let t;if(e instanceof dd)t={update:B1(n,e.key,e.value)};else if(e instanceof hd)t={delete:qf(n,e.key)};else if(e instanceof zo)t={update:B1(n,e.key,e.data),updateMask:u8(e.fieldMask)};else{if(!(e instanceof Ab))return Se();t={verify:qf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ld)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Se()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:e8(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Se()),t;var s}(this.serializer,r))};this.a_(t)}}class K8 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,xb(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(Y.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,xb(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Z8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ln(t),this.D_=!1):he("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Q8{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget((0,re.Z)(function*(){var u;Ya(o)&&(he("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,re.Z)(function*(f){const m=ye(f);m.L_.add(4),yield Id(m),m.q_.set("Unknown"),m.L_.delete(4),yield np(m)}),function c(f){return u.apply(this,arguments)})(o))}))}),this.q_=new Z8(r,i)}}function np(n){return sT.apply(this,arguments)}function sT(){return sT=(0,re.Z)(function*(n){if(Ya(n))for(const e of n.B_)yield e(!0)}),sT.apply(this,arguments)}function Id(n){return oT.apply(this,arguments)}function oT(){return oT=(0,re.Z)(function*(n){for(const e of n.B_)yield e(!1)}),oT.apply(this,arguments)}function gy(n,e){const t=ye(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),lT(t)?uT(t):Td(t).r_()&&aT(t,e))}function wd(n,e){const t=ye(n),r=Td(t);t.N_.delete(e),r.r_()&&Vk(t,e),0===t.N_.size&&(r.r_()?r.o_():Ya(t)&&t.q_.set("Unknown"))}function aT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Td(n).A_(e)}function Vk(n,e){n.Q_.xe(e),Td(n).R_(e)}function uT(n){n.Q_=new Z6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Td(n).start(),n.q_.v_()}function lT(n){return Ya(n)&&!Td(n).n_()&&n.N_.size>0}function Ya(n){return 0===ye(n).L_.size}function Lk(n){n.Q_=void 0}function Y8(n){return cT.apply(this,arguments)}function cT(){return cT=(0,re.Z)(function*(n){n.q_.set("Online")}),cT.apply(this,arguments)}function J8(n){return dT.apply(this,arguments)}function dT(){return dT=(0,re.Z)(function*(n){n.N_.forEach((e,t)=>{aT(n,e)})}),dT.apply(this,arguments)}function X8(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,re.Z)(function*(n,e){Lk(n),lT(n)?(n.q_.M_(e),uT(n)):n.q_.set("Unknown")}),hT.apply(this,arguments)}function eK(n,e,t){return fT.apply(this,arguments)}function fT(){return fT=(0,re.Z)(function*(n,e,t){if(n.q_.set("Online"),e instanceof R1&&2===e.state&&e.cause)try{yield(r=(0,re.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.N_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.N_.delete(u),s.Q_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield my(n,r)}else if(e instanceof J_?n.Q_.Ke(e):e instanceof P1?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ve.min()))try{const r=yield Ak(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(Cn.EMPTY_BYTE_STRING,f.snapshotVersion)),Vk(s,u);const m=new Go(f.target,u,c,f.sequenceNumber);aT(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){he("RemoteStore","Failed to raise snapshot:",r),yield my(n,r)}var r}),fT.apply(this,arguments)}function my(n,e,t){return pT.apply(this,arguments)}function pT(){return pT=(0,re.Z)(function*(n,e,t){if(!Ua(e))throw e;n.L_.add(1),yield Id(n),n.q_.set("Offline"),t||(t=()=>Ak(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){he("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield np(n)}))}),pT.apply(this,arguments)}function Bk(n,e){return e().catch(t=>my(n,t,e))}function bd(n){return gT.apply(this,arguments)}function gT(){return gT=(0,re.Z)(function*(n){const e=ye(n),t=Ja(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tK(e);)try{const i=yield B8(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,nK(e,i)}catch(i){yield my(e,i)}Uk(e)&&jk(e)}),gT.apply(this,arguments)}function tK(n){return Ya(n)&&n.O_.length<10}function nK(n,e){n.O_.push(e);const t=Ja(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Uk(n){return Ya(n)&&!Ja(n).n_()&&n.O_.length>0}function jk(n){Ja(n).start()}function rK(n){return mT.apply(this,arguments)}function mT(){return mT=(0,re.Z)(function*(n){Ja(n).p_()}),mT.apply(this,arguments)}function iK(n){return _T.apply(this,arguments)}function _T(){return _T=(0,re.Z)(function*(n){const e=Ja(n);for(const t of n.O_)e.m_(t.mutations)}),_T.apply(this,arguments)}function sK(n,e,t){return yT.apply(this,arguments)}function yT(){return yT=(0,re.Z)(function*(n,e,t){const r=n.O_.shift(),i=Sb.from(r,e,t);yield Bk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield bd(n)}),yT.apply(this,arguments)}function oK(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,re.Z)(function*(n,e){var t;e&&Ja(n).V_&&(yield(t=(0,re.Z)(function*(i,s){if(T1(a=s.code)&&a!==Y.ABORTED){const o=i.O_.shift();Ja(i).s_(),yield Bk(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield bd(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),Uk(n)&&jk(n)}),vT.apply(this,arguments)}function $k(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,re.Z)(function*(n,e){const t=ye(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ya(t);t.L_.add(3),yield Id(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield np(t)}),ET.apply(this,arguments)}function wT(){return wT=(0,re.Z)(function*(n,e){const t=ye(n);e?(t.L_.delete(2),yield np(t)):e||(t.L_.add(2),yield Id(t),t.q_.set("Unknown"))}),wT.apply(this,arguments)}function Td(n){return n.K_||(n.K_=function(t,r,i){const s=ye(t);return s.w_(),new q8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Y8.bind(null,n),Ro:J8.bind(null,n),mo:X8.bind(null,n),d_:eK.bind(null,n)}),n.B_.push(function(){var e=(0,re.Z)(function*(t){t?(n.K_.s_(),lT(n)?uT(n):n.q_.set("Unknown")):(yield n.K_.stop(),Lk(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function Ja(n){return n.U_||(n.U_=function(t,r,i){const s=ye(t);return s.w_(),new W8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rK.bind(null,n),mo:oK.bind(null,n),f_:iK.bind(null,n),g_:sK.bind(null,n)}),n.B_.push(function(){var e=(0,re.Z)(function*(t){t?(n.U_.s_(),yield bd(n)):(yield n.U_.stop(),n.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class bT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new bT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(n,e){if(Ln("AsyncQueue",`${e}: ${n}`),Ua(n))return new ue(Y.UNAVAILABLE,`${e}: ${n}`);throw n}class Ad{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=Bf(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new Ad(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ad)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ad;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Hk{constructor(){this.W_=new en(Ie.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cd{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Cd(e,t,Ad.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class aK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class uK{constructor(){this.queries=zk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=ye(t),s=i.queries;i.queries=zk(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})}(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function zk(){return new Ho(n=>s1(n),Vf)}function TT(n,e){return DT.apply(this,arguments)}function DT(){return DT=(0,re.Z)(function*(n,e){const t=ye(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new aK,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=Dd(o,`Initialization of query '${ud(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&ST(t)}),DT.apply(this,arguments)}function AT(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,re.Z)(function*(n,e){const t=ye(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),CT.apply(this,arguments)}function lK(n,e){const t=ye(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&ST(t)}function cK(n,e,t){const r=ye(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function ST(n){n.Y_.forEach(e=>{e.next()})}var PT,Gk;(Gk=PT||(PT={})).ea="default",Gk.Cache="cache";class RT{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==PT.Cache}}class Kk{constructor(e){this.key=e}}class Zk{constructor(e){this.key=e}}class Qk{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=a1(e),this.Ra=new Ad(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new Hk,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const y=i.get(f),b=Lf(this.query,m)?m:null,A=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let O=!1;y&&b?y.data.isEqual(b.data)?A!==S&&(r.track({type:3,doc:b}),O=!0):this.ga(y,b)||(r.track({type:2,doc:b}),O=!0,(u&&this.Aa(b,u)>0||c&&this.Aa(b,c)<0)&&(a=!0)):!y&&b?(r.track({type:0,doc:b}),O=!0):y&&!b&&(r.track({type:1,doc:y}),O=!0,(u||c)&&(a=!0)),O&&(b?(o=o.add(b),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const f="F"===this.query.limitType?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(b,A){const S=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return S(b)-S(A)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],u=0===this.da.size&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,0!==o.length||c?{snapshot:new Cd(this.query,e.Ra,s,o,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Hk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Zk(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Kk(r))}),t}ba(e){this.Ta=e.Ts,this.da=ht();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Cd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class fK{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pK{constructor(e){this.key=e,this.va=!1}}class gK{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ho(a=>s1(a),Vf),this.Ma=new Map,this.xa=new Set,this.Oa=new en(Ie.comparator),this.Na=new Map,this.La=new Hb,this.Ba={},this.ka=new Map,this.qa=vl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function mK(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,re.Z)(function*(n,e,t=!0){const r=_y(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield Yk(r,e,t,!0),i}),MT.apply(this,arguments)}function _K(n,e){return NT.apply(this,arguments)}function NT(){return NT=(0,re.Z)(function*(n,e){const t=_y(n);yield Yk(t,e,!0,!1)}),NT.apply(this,arguments)}function Yk(n,e,t,r){return xT.apply(this,arguments)}function xT(){return xT=(0,re.Z)(function*(n,e,t,r){const i=yield vd(n.localStore,Hr(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=yield OT(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&gy(n.remoteStore,i),a}),xT.apply(this,arguments)}function OT(n,e,t,r,i){return kT.apply(this,arguments)}function kT(){return kT=(0,re.Z)(function*(n,e,t,r,i){n.Ka=(m,y,b)=>{return(A=(0,re.Z)(function*(O,U,z,L){let ne=U.view.ma(z);ne.ns&&(ne=yield cy(O.localStore,U.query,!1).then(({documents:N})=>U.view.ma(N,ne)));const Pe=L&&L.targetChanges.get(U.targetId),be=L&&null!=L.targetMismatches.get(U.targetId),B=U.view.applyChanges(ne,O.isPrimaryClient,Pe,be);return qT(O,U.targetId,B.wa),B.snapshot}),function S(O,U,z,L){return A.apply(this,arguments)})(n,m,y,b);var A};const s=yield cy(n.localStore,e,!0),o=new Qk(e,s.Ts),a=o.ma(s.documents),u=Gf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);qT(n,t,c.wa);const f=new fK(e,t,o);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}),kT.apply(this,arguments)}function yK(n,e,t){return FT.apply(this,arguments)}function FT(){return FT=(0,re.Z)(function*(n,e,t){const r=ye(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Vf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ed(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&wd(r.remoteStore,i.targetId),Sd(r,i.targetId)}).catch(Ba))):(Sd(r,i.targetId),yield Ed(r.localStore,i.targetId,!0))}),FT.apply(this,arguments)}function vK(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,re.Z)(function*(n,e){const t=ye(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wd(t.remoteStore,r.targetId))}),VT.apply(this,arguments)}function LT(){return LT=(0,re.Z)(function*(n,e,t){const r=r0(n);try{const i=yield function(o,a){const u=ye(o),c=pn.now(),f=a.reduce((b,A)=>b.add(A.key),ht());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=Di(),S=ht();return u.cs.getEntries(b,f).next(O=>{A=O,A.forEach((U,z)=>{z.isValidDocument()||(S=S.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,A)).next(O=>{m=O;const U=[];for(const z of a){const L=q6(z,m.get(z.key).overlayedDocument);null!=L&&U.push(new zo(z.key,L,HO(L.value.mapValue),mn.exists(!0)))}return u.mutationQueue.addMutationBatch(b,c,U,a)}).next(O=>{y=O;const U=O.applyToLocalDocumentSet(m,S);return u.documentOverlayCache.saveOverlays(b,O.batchId,U)})}).then(()=>({batchId:y.batchId,changes:l1(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new en(rt)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),yield qo(r,i.changes),yield bd(r.remoteStore)}catch(i){const s=Dd(i,"Failed to persist write");t.reject(s)}}),LT.apply(this,arguments)}function Jk(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,re.Z)(function*(n,e){const t=ye(n);try{const r=yield L8(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?xe(o.va):i.removedDocuments.size>0&&(xe(o.va),o.va=!1))}),yield qo(t,r,e)}catch(r){yield Ba(r)}}),BT.apply(this,arguments)}function Xk(n,e,t){const r=ye(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ye(o);u.onlineState=a;let c=!1;u.queries.forEach((f,m)=>{for(const y of m.j_)y.Z_(a)&&(c=!0)}),c&&ST(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function IK(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,re.Z)(function*(n,e,t){const r=ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new en(Ie.comparator);o=o.insert(s,rn.newNoDocument(s,Ve.min()));const a=ht().add(s),u=new zf(Ve.min(),new Map,new en(rt),o,a);yield Jk(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),WT(r)}else yield Ed(r.localStore,e,!1).then(()=>Sd(r,e,t)).catch(Ba)}),UT.apply(this,arguments)}function wK(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,re.Z)(function*(n,e){const t=ye(n),r=e.batch.batchId;try{const i=yield V8(t.localStore,e);GT(t,r,null),zT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qo(t,i)}catch(i){yield Ba(i)}}),jT.apply(this,arguments)}function bK(n,e,t){return $T.apply(this,arguments)}function $T(){return $T=(0,re.Z)(function*(n,e,t){const r=ye(n);try{const i=yield function(o,a){const u=ye(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(m=>(xe(null!==m),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);GT(r,e,t),zT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qo(r,i)}catch(i){yield Ba(i)}}),$T.apply(this,arguments)}function zT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function GT(n,e,t){const r=ye(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Sd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||eF(n,r)})}function eF(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(wd(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),WT(n))}function qT(n,e,t){for(const r of t)r instanceof Kk?(n.La.addReference(r.key,e),DK(n,r)):r instanceof Zk?(he("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||eF(n,r.key)):Se()}function DK(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(he("SyncEngine","New document in limbo: "+t),n.xa.add(r),WT(n))}function WT(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Ie(Tt.fromString(e)),r=n.qa.next();n.Na.set(r,new pK(t)),n.Oa=n.Oa.insert(t,r),gy(n.remoteStore,new Go(Hr(od(t.path)),r,"TargetPurposeLimboResolution",$i.oe))}}function qo(n,e,t){return KT.apply(this,arguments)}function KT(){return KT=(0,re.Z)(function*(n,e,t){const r=ye(n),i=[],s=[],o=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,t).then(c=>{var f;if((c||t)&&r.isPrimaryClient){const m=c?!c.fromCache:null===(f=t?.targetChanges.get(u.targetId))||void 0===f?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=Kb.Wi(u.targetId,c);s.push(m)}}))}),yield Promise.all(o),r.Ca.d_(i),yield(a=(0,re.Z)(function*(c,f){const m=ye(c);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>q.forEach(f,b=>q.forEach(b.$i,A=>m.persistence.referenceDelegate.addReference(y,b.targetId,A)).next(()=>q.forEach(b.Ui,A=>m.persistence.referenceDelegate.removeReference(y,b.targetId,A)))))}catch(y){if(!Ua(y))throw y;he("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const b=y.targetId;if(!y.fromCache){const A=m.os.get(b),O=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);m.os=m.os.insert(b,O)}}}),function u(c,f){return a.apply(this,arguments)})(r.localStore,s))}),KT.apply(this,arguments)}function AK(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,re.Z)(function*(n,e){const t=ye(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=yield Dk(t.localStore,e);t.currentUser=e,(s=t).ka.forEach(a=>{a.forEach(u=>{u.reject(new ue(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qo(t,r.hs)}var s}),ZT.apply(this,arguments)}function CK(n,e){const t=ye(n),r=t.Na.get(e);if(r&&r.va)return ht().add(r.key);{let i=ht();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function _y(n){const e=ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IK.bind(null,e),e.Ca.d_=lK.bind(null,e.eventManager),e.Ca.$a=cK.bind(null,e.eventManager),e}function r0(n){const e=ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bK.bind(null,e),e}let rp=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return(0,re.Z)(function*(){r.serializer=tp(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return function Tk(n,e,t,r){return new F8(n,e,t,r)}(this.persistence,new bk,t.initialUser,this.serializer)}Ga(t){return new zb(ay.Zr,this.serializer)}Wa(t){return new xk}terminate(){var t=this;return(0,re.Z)(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),Pd=(()=>{class n{initialize(t,r){var i=this;return(0,re.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>Xk(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=AK.bind(null,i.syncEngine),yield function IT(n,e){return wT.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new uK}createDatastore(t){const r=tp(t.databaseInfo.databaseId),i=new G8(t.databaseInfo);return new K8(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,s=this.datastore,o=t.asyncQueue,a=r=>Xk(this.syncEngine,r,0),u=Ok.D()?new Ok:new $8,new Q8(i,s,o,a,u);var i,s,o,a,u}createSyncEngine(t,r){return function(s,o,a,u,c,f,m){const y=new gK(s,o,a,u,c,f);return m&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return(0,re.Z)(function*(){var r,i,s;yield(s=(0,re.Z)(function*(a){const u=ye(a);he("RemoteStore","RemoteStore shutting down."),u.L_.add(5),yield Id(u),u.k_.shutdown(),u.q_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class UK{constructor(e,t,r,i,s){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=gO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,function(){var a=(0,re.Z)(function*(u){he("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(he("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Dd(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function o0(n,e){return a0.apply(this,arguments)}function a0(){return a0=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,re.Z)(function*(s){r.isEqual(s)||(yield Dk(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),a0.apply(this,arguments)}function sF(n,e){return u0.apply(this,arguments)}function u0(){return u0=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield l0(n);he("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$k(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$k(e.remoteStore,i)),n._onlineComponents=e}),u0.apply(this,arguments)}function l0(n){return c0.apply(this,arguments)}function c0(){return c0=(0,re.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{yield o0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!("FirebaseError"===(i=t).name?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw t;Ui("Error using user provided cache. Falling back to memory cache: "+t),yield o0(n,new rp)}}else he("FirestoreClient","Using default OfflineComponentProvider"),yield o0(n,new rp);var i;return n._offlineComponents}),c0.apply(this,arguments)}function vy(n){return d0.apply(this,arguments)}function d0(){return d0=(0,re.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),yield sF(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),yield sF(n,new Pd))),n._onlineComponents}),d0.apply(this,arguments)}function Rd(n){return l0(n).then(e=>e.localStore)}function Md(n){return f0.apply(this,arguments)}function f0(){return f0=(0,re.Z)(function*(n){const e=yield vy(n),t=e.eventManager;return t.onListen=mK.bind(null,e.syncEngine),t.onUnlisten=yK.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_K.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vK.bind(null,e.syncEngine),t}),f0.apply(this,arguments)}function lF(n,e,t={}){const r=new fr;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(s,o,a,u,c){const f=new yy({next:y=>{f.Za(),o.enqueueAndForget(()=>AT(s,m));const b=y.docs.has(a);!b&&y.fromCache?c.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&u&&"server"===u.source?c.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(y)},error:y=>c.reject(y)}),m=new RT(od(a.path),f,{includeMetadataChanges:!0,_a:!0});return TT(s,m)}(yield Md(n),n.asyncQueue,e,t,r)})),r.promise}function cF(n,e,t={}){const r=new fr;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(s,o,a,u,c){const f=new yy({next:y=>{f.Za(),o.enqueueAndForget(()=>AT(s,m)),y.fromCache&&"server"===u.source?c.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(y)},error:y=>c.reject(y)}),m=new RT(a,f,{includeMetadataChanges:!0,_a:!0});return TT(s,m)}(yield Md(n),n.asyncQueue,e,t,r)})),r.promise}function dF(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const hF=new Map;function p0(n,e,t){if(!t)throw new ue(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pF(n){if(!Ie.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gF(n){if(Ie.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ey(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Se()}function Et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ey(n);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mF(n,e){if(e<=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _F{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function fF(n,e,t,r){if(!0===e&&!0===r)throw new ue(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _F({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _F(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new z5;switch(r.type){case"firstParty":return new K5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,re.Z)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=hF.get(t);r&&(he("ComponentProvider","Removing Datastore"),hF.delete(t),r.terminate())}(this),Promise.resolve()}}class Cr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class sn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class ao extends Cr{constructor(e,t,r){super(e,t,od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ie(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function Iy(n,e,...t){if(n=(0,kt.m9)(n),1===arguments.length&&(e=gO.newId()),p0("doc","path",e),n instanceof ip){const r=Tt.fromString(e,...t);return pF(r),new sn(n,null,new Ie(r))}{if(!(n instanceof sn||n instanceof ao))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return pF(r),new sn(n.firestore,n instanceof ao?n.converter:null,new Ie(r))}}function EF(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),(n instanceof sn||n instanceof ao)&&(e instanceof sn||e instanceof ao)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function g0(n,e){return n=(0,kt.m9)(n),e=(0,kt.m9)(e),n instanceof Cr&&e instanceof Cr&&n.firestore===e.firestore&&Vf(n._query,e._query)&&n.converter===e.converter}class IF{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iT(this,"async_queue_retry"),this.Vu=()=>{const r=py();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=py();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=py();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new fr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,re.Z)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!Ua(t))throw t;he("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Ln("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=bT.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Se()}verifyOperationInProgress(){}wu(){var e=this;return(0,re.Z)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function m0(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class Wt extends ip{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new IF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,re.Z)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new IF(t),e._firestoreClient=void 0,yield t}})()}}function t7(n,e){const t="object"==typeof n?n:(0,jr.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,jr._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,kt.P0)("firestore");s&&function yF(n,e,t,r={}){var i;const s=(n=Et(n,ip))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=hr.MOCK_USER;else{a=(0,kt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new hr(c)}n._authCredentials=new G5(new fO(a,u))}}(i,...s)}return i}function _n(n){if(n._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function wF(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new D6(n._databaseId,u,n._persistenceKey,(f=i).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dF(f.experimentalLongPollingOptions),f.useFetchStreams));var u,f;n._componentsProvider||(null===(t=i.localCache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new UK(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}(n),n._firestoreClient}class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(Cn.fromBase64String(e))}catch(t){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uo(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wo{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Il{constructor(e){this._methodName=e}}class wy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}}class by{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const d7=/^__.*__$/;class h7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new dd(e,this.data,t,this.fieldTransforms)}}class TF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Ty{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cy(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(DF(this.Cu)&&d7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class f7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tp(e)}Qu(e,t,r,i=!1){return new Ty({Cu:e,methodName:t,qu:r,path:nn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wl(n){const e=n._freezeSettings(),t=tp(n._databaseId);return new f7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Dy(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);T0("Data must be an object, but it was:",o,r);const a=SF(r,o);let u,c;if(s.merge)u=new Ti(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const y=ap(e,m,t);if(!o.contains(y))throw new ue(Y.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);RF(f,y)||f.push(y)}u=new Ti(f),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new h7(new Ar(a),u,c)}class op extends Il{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof op}}function CF(n,e,t,r=!1){return bl(t,n.Qu(r?4:3,e))}function bl(n,e){if(PF(n=(0,kt.m9)(n)))return T0("Unsupported field value:",e,n),SF(n,e);if(n instanceof Il)return function(r,i){if(!DF(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=bl(a,i.Lu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,kt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return h1(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=pn.fromDate(r);return{timestampValue:fd(i.serializer,s)}}if(r instanceof pn){const s=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,s)}}if(r instanceof wy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uo)return{bytesValue:O1(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof by)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(u=>{if("number"!=typeof u)throw a.Bu("VectorValues must only contain numeric values.");return Db(a.serializer,u)})}}}}};var a;throw i.Bu(`Unsupported field value: ${Ey(r)}`)}(n,e)}function SF(n,e){const t={};return NO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(n,(r,i)=>{const s=bl(i,e.Mu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function PF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pn||n instanceof wy||n instanceof uo||n instanceof sn||n instanceof Il||n instanceof by)}function T0(n,e,t){if(!PF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Ey(t);throw e.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function ap(n,e,t){if((e=(0,kt.m9)(e))instanceof Wo)return e._internalPath;if("string"==typeof e)return Ay(n,e);throw Cy("Field path arguments must be of type string or ",n,!1,void 0,t)}const p7=new RegExp("[~\\*/\\[\\]]");function Ay(n,e,t){if(e.search(p7)>=0)throw Cy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wo(...e.split("."))._internalPath}catch{throw Cy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Cy(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ue(Y.INVALID_ARGUMENT,a+n+u)}function RF(n,e){return n.some(t=>t.isEqual(e))}class up{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new g7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class g7 extends up{data(){return super.data()}}function Sy(n,e){return"string"==typeof e?Ay(n,e):e instanceof Wo?e._internalPath:e._delegate._internalPath}function MF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}class lp extends D0{}function Xa(n,e,...t){let r=[];e instanceof D0&&r.push(e),r=r.concat(t),function(s){const o=s.filter(u=>u instanceof Nd).length,a=s.filter(u=>u instanceof cp).length;if(o>1||o>0&&a>0)throw new ue(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class cp extends lp{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cp(e,t,r)}_apply(e){const t=this._parse(e);return kF(e._query,t),new Cr(e.firestore,e.converter,bb(e._query,t))}_parse(e){const t=wl(e.firestore);return function(s,o,a,u,c,f,m){let y;if(c.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){OF(m,f);const b=[];for(const A of m)b.push(xF(u,s,A));y={arrayValue:{values:b}}}else y=xF(u,s,m)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||OF(m,f),y=CF(a,"where",m,"in"===f||"not-in"===f);return Dt.create(c,f,y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Nd extends D0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Nd(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:$t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)kF(o,u),o=bb(o,u)}(e._query,t),new Cr(e.firestore,e.converter,bb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class A0 extends lp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new A0(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new ue(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ue(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kf(s,o)}(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new $o(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Py extends lp{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Py(e,t,r)}_apply(e){return new Cr(e.firestore,e.converter,W_(e._query,this._limit,this._limitType))}}class Ry extends lp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ry(e,t,r)}_apply(e){const t=NF(e,this.type,this._docOrFields,this._inclusive);return new Cr(e.firestore,e.converter,(s=t,new $o((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class My extends lp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new My(e,t,r)}_apply(e){const t=NF(e,this.type,this._docOrFields,this._inclusive);return new Cr(e.firestore,e.converter,(s=t,new $o((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function NF(n,e,t,r){if(t[0]=(0,kt.m9)(t[0]),t[0]instanceof up)return function(s,o,a,u,c){if(!u)throw new ue(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const m of ad(s))if(m.field.isKeyField())f.push(cl(o,u.key));else{const y=u.data.field(m.field);if(B_(y))throw new ue(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===y){const b=m.field.canonicalString();throw new ue(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}f.push(y)}return new qa(f,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=wl(n.firestore);return function(o,a,u,c,f,m){const y=o.explicitOrderBy;if(f.length>y.length)throw new ue(Y.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let A=0;A<f.length;A++){const S=f[A];if(y[A].field.isKeyField()){if("string"!=typeof S)throw new ue(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof S}`);if(!wb(o)&&-1!==S.indexOf("/"))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${S}' contains a slash.`);const O=o.path.child(Tt.fromString(S));if(!Ie.isDocumentKey(O))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const U=new Ie(O);b.push(cl(a,U))}else{const O=CF(u,c,S);b.push(O)}}return new qa(b,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function xF(n,e,t){if("string"==typeof(t=(0,kt.m9)(t))){if(""===t)throw new ue(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wb(e)&&-1!==t.indexOf("/"))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tt.fromString(t));if(!Ie.isDocumentKey(r))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cl(n,new Ie(r))}if(t instanceof sn)return cl(n,t._key);throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ey(t)}.`)}function OF(n,e){if(!Array.isArray(n)||0===n.length)throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kF(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ue(Y.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class C0{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ja(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(o=>gn(o.doubleValue));return new by(s)}convertGeoPoint(e){return new wy(gn(e.latitude),gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=U_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mf(e));default:return null}}convertTimestamp(e){const t=Uo(e);return new pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);xe(q1(r));const i=new $a(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(t)||Ln(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Ny(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ko extends up{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dp extends Ko{data(e={}){return super.data(e)}}class eu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dp(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Tl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:A7(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function A7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}function VF(n,e){return n instanceof Ko&&e instanceof Ko?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof eu&&e instanceof eu&&n._firestore===e._firestore&&g0(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class tu extends C0{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function LF(n,e,t){n=Et(n,sn);const r=Et(n.firestore,Wt),i=Ny(n.converter,e,t);return xd(r,[Dy(wl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,mn.none())])}function BF(n,e,t,...r){n=Et(n,sn);const i=Et(n.firestore,Wt),s=wl(i);let o;return o="string"==typeof(e=(0,kt.m9)(e))||e instanceof Wo?function b0(n,e,t,r,i,s){const o=n.Qu(1,e,t),a=[ap(e,r,t)],u=[i];if(s.length%2!=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)a.push(ap(e,s[y])),u.push(s[y+1]);const c=[],f=Ar.empty();for(let y=a.length-1;y>=0;--y)if(!RF(c,a[y])){const b=a[y];let A=u[y];A=(0,kt.m9)(A);const S=o.Nu(b);if(A instanceof op)c.push(b);else{const O=bl(A,S);null!=O&&(c.push(b),f.set(b,O))}}const m=new Ti(c);return new TF(f,m,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function w0(n,e,t,r){const i=n.Qu(1,e,t);T0("Data must be an object, but it was:",i,r);const s=[],o=Ar.empty();ja(r,(u,c)=>{const f=Ay(e,u,t);c=(0,kt.m9)(c);const m=i.Nu(f);if(c instanceof op)s.push(f);else{const y=bl(c,m);null!=y&&(s.push(f),o.set(f,y))}});const a=new Ti(s);return new TF(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),xd(i,[o.toMutation(n._key,mn.exists(!0))])}function UF(n,...e){var t,r,i;n=(0,kt.m9)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||m0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(m0(e[o])){const m=e[o];e[o]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let u,c,f;if(n instanceof sn)c=Et(n.firestore,Wt),f=od(n._key.path),u={next:m=>{e[o]&&e[o](S0(c,n,m))},error:e[o+1],complete:e[o+2]};else{const m=Et(n,Cr);c=Et(m.firestore,Wt),f=m._query;const y=new tu(c);u={next:b=>{e[o]&&e[o](new eu(c,y,m,b))},error:e[o+1],complete:e[o+2]},MF(n._query)}return function(y,b,A,S){const O=new yy(S),U=new RT(b,O,A);return y.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return TT(yield Md(y),U)})),()=>{O.Za(),y.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return AT(yield Md(y),U)}))}}(_n(c),f,a,u)}function xd(n,e){return function(r,i){const s=new fr;return r.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function EK(n,e,t){return LT.apply(this,arguments)}(yield function h0(n){return vy(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(_n(n),e)}function S0(n,e,t){const r=t.docs.get(e._key),i=new tu(n);return new Ko(n,i,e._key,r,new Tl(t.hasPendingWrites,t.fromCache),e.converter)}function GF(){if(typeof Uint8Array>"u")throw new ue("unimplemented","Uint8Arrays are not available in this environment.")}function qF(){if(!function b6(){return typeof atob<"u"}())throw new ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}class hp{constructor(e){this._delegate=e}static fromBase64String(e){return qF(),new hp(uo.fromBase64String(e))}static fromUint8Array(e){return GF(),new hp(uo.fromUint8Array(e))}toBase64(){return qF(),this._delegate.toBase64()}toUint8Array(){return GF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function M0(n){return function tZ(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Oy extends C0{constructor(e){super(),this.firestore=e}convertBytes(e){return new hp(new uo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ss.forKey(t,this.firestore,null)}}class Dl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new dp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pp(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Dl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Dl(e,new Oy(e),t),i.set(t,s)),s}}Dl.INSTANCES=new WeakMap;class ss{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Oy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ss(t,new sn(t._delegate,r,new Ie(e)))}static forKey(e,t,r){return new ss(t,new sn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Od(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Od(this.firestore,function vF(n,e,...t){if(n=(0,kt.m9)(n),p0("collection","path",e),n instanceof ip){const r=Tt.fromString(e,...t);return gF(r),new ao(n,null,r)}{if(!(n instanceof sn||n instanceof ao))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return gF(r),new ao(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw ai(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,kt.m9)(e))instanceof sn&&EF(this._delegate,e)}set(e,t){t=function R0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?LF(this._delegate,e,t):LF(this._delegate,e)}catch(r){throw ai(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?BF(this._delegate,e):BF(this._delegate,e,t,...r)}catch(i){throw ai(i,"updateDoc()","DocumentReference.update()")}}delete(){return function x7(n){return xd(Et(n.firestore,Wt),[new hd(n._key,mn.none())])}(this._delegate)}onSnapshot(...e){const t=QF(e),r=YF(e,i=>new fp(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return UF(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function S7(n){n=Et(n,sn);const e=Et(n.firestore,Wt),t=_n(e),r=new tu(e);return function HK(n,e){const t=new fr;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(r=(0,re.Z)(function*(s,o,a){try{const u=yield function(f,m){const y=ye(f);return y.persistence.runTransaction("read document","readonly",b=>y.localDocuments.getDocument(b,m))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new ue(Y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const c=Dd(u,`Failed to get document '${o} from cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Rd(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ko(e,r,n._key,i,new Tl(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function P7(n){n=Et(n,sn);const e=Et(n.firestore,Wt);return lF(_n(e),n._key,{source:"server"}).then(t=>S0(e,n,t))}(this._delegate):function C7(n){n=Et(n,sn);const e=Et(n.firestore,Wt);return lF(_n(e),n._key).then(t=>S0(e,n,t))}(this._delegate),t.then(r=>new fp(this.firestore,new Ko(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ss(this.firestore,this._delegate.withConverter(e?Dl.getInstance(this.firestore,e):null))}}function ai(n,e,t){return n.message=n.message.replace(e,t),n}function QF(n){for(const e of n)if("object"==typeof e&&!M0(e))return e;return{}}function YF(n,e){var t,r;let i;return i=M0(n[0])?n[0]:M0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class fp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ss(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return VF(this._delegate,e._delegate)}}class pp extends fp{data(e){const t=this._delegate.data(e);return this._delegate._converter||function H5(n,e){n||Se()}(void 0!==t),t}}class ui{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Oy(e)}where(e,t,r){try{return new ui(this.firestore,Xa(this._delegate,function m7(n,e,t){const r=e,i=Sy("where",n);return cp._create(i,r,t)}(e,t,r)))}catch(i){throw ai(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ui(this.firestore,Xa(this._delegate,function _7(n,e="asc"){const t=e,r=Sy("orderBy",n);return A0._create(r,t)}(e,t)))}catch(r){throw ai(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ui(this.firestore,Xa(this._delegate,function y7(n){return mF("limit",n),Py._create("limit",n,"F")}(e)))}catch(t){throw ai(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ui(this.firestore,Xa(this._delegate,function v7(n){return mF("limitToLast",n),Py._create("limitToLast",n,"L")}(e)))}catch(t){throw ai(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ui(this.firestore,Xa(this._delegate,function E7(...n){return Ry._create("startAt",n,!0)}(...e)))}catch(t){throw ai(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ui(this.firestore,Xa(this._delegate,function I7(...n){return Ry._create("startAfter",n,!1)}(...e)))}catch(t){throw ai(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ui(this.firestore,Xa(this._delegate,function w7(...n){return My._create("endBefore",n,!1)}(...e)))}catch(t){throw ai(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ui(this.firestore,Xa(this._delegate,function b7(...n){return My._create("endAt",n,!0)}(...e)))}catch(t){throw ai(t,"endAt()","Query.endAt()")}}isEqual(e){return g0(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function M7(n){n=Et(n,Cr);const e=Et(n.firestore,Wt),t=_n(e),r=new tu(e);return function zK(n,e){const t=new fr;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(r=(0,re.Z)(function*(s,o,a){try{const u=yield cy(s,o,!0),c=new Qk(o,u.Ts),f=c.ma(u.documents),m=c.applyChanges(f,!1);a.resolve(m.snapshot)}catch(u){const c=Dd(u,`Failed to execute query '${o} against cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Rd(n),e,t);var r})),t.promise}(t,n._query).then(i=>new eu(e,r,n,i))}(this._delegate):"server"===e?.source?function N7(n){n=Et(n,Cr);const e=Et(n.firestore,Wt),t=_n(e),r=new tu(e);return cF(t,n._query,{source:"server"}).then(i=>new eu(e,r,n,i))}(this._delegate):function R7(n){n=Et(n,Cr);const e=Et(n.firestore,Wt),t=_n(e),r=new tu(e);return MF(n._query),cF(t,n._query).then(i=>new eu(e,r,n,i))}(this._delegate),t.then(r=>new N0(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=QF(e),r=YF(e,i=>new N0(this.firestore,new eu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return UF(this._delegate,t,r)}withConverter(e){return new ui(this.firestore,this._delegate.withConverter(e?Dl.getInstance(this.firestore,e):null))}}class iZ{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new pp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class N0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ui(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new pp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new iZ(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new pp(this._firestore,r))})}isEqual(e){return VF(this._delegate,e._delegate)}}class Od extends ui{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ss(this.firestore,e):null}doc(e){try{return new ss(this.firestore,void 0===e?Iy(this._delegate):Iy(this._delegate,e))}catch(t){throw ai(t,"doc()","CollectionReference.doc()")}}add(e){return function O7(n,e){const t=Et(n.firestore,Wt),r=Iy(n),i=Ny(n.converter,e);return xd(t,[Dy(wl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ss(this.firestore,t))}isEqual(e){return EF(this._delegate,e._delegate)}withConverter(e){return new Od(this.firestore,this._delegate.withConverter(e?Dl.getInstance(this.firestore,e):null))}}function JF(n,e){return function uZ(n,e=Ix){return new Tr(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function O0(n,e){return JF(n,e).pipe(bi(t=>({payload:t,type:"query"})))}class XF{constructor(e,t){at(this,"ref",void 0),at(this,"afs",void 0),this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=sV(r,t);return new nV(i,s,this.afs)}snapshotChanges(){return function lZ(n,e){return JF(n,e).pipe(sb(void 0),ob(),bi(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Bi)}valueChanges(e={}){return this.snapshotChanges().pipe(bi(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return Lo(this.ref.get(e)).pipe(Bi)}}function ky(n,e){return O0(n,e).pipe(sb(void 0),ob(),bi(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const c=s.find(m=>m.doc.ref.isEqual(a.ref)),f=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function eV(n,e,t){return ky(n,t).pipe(ab((r,i)=>function cZ(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function dZ(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return k0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return k0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return k0(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),function B5(n,e=Tf){return n=n??U5,oi((t,r)=>{let i,s=!0;t.subscribe(wi(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),bi(r=>r.map(i=>({type:i.type,payload:i}))))}function k0(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function tV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nV{constructor(e,t,r){at(this,"ref",void 0),at(this,"query",void 0),at(this,"afs",void 0),this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ky(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(bi(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(sb(void 0),ob(),x_(([r,i])=>i.length>0||!r),bi(([,r])=>r),Bi)}auditTrail(e){return this.stateChanges(e).pipe(ab((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tV(e);return eV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Bi)}valueChanges(e={}){return O0(this.query,this.afs.schedulers.outsideAngular).pipe(bi(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Bi)}get(e){return Lo(this.query.get(e)).pipe(Bi)}add(e){return this.ref.add(e)}doc(e){return new XF(this.ref.doc(e),this.afs)}}class hZ{constructor(e,t){at(this,"query",void 0),at(this,"afs",void 0),this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ky(this.query,this.afs.schedulers.outsideAngular).pipe(bi(t=>t.filter(r=>e.indexOf(r.type)>-1)),x_(t=>t.length>0),Bi):ky(this.query,this.afs.schedulers.outsideAngular).pipe(Bi)}auditTrail(e){return this.stateChanges(e).pipe(ab((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tV(e);return eV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Bi)}valueChanges(e={}){return O0(this.query,this.afs.schedulers.outsideAngular).pipe(bi(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Bi)}get(e){return Lo(this.query.get(e)).pipe(Bi)}}const rV=new Ce("angularfire2.enableFirestorePersistence"),iV=new Ce("angularfire2.firestore.persistenceSettings");function sV(n,e=(t=>t)){return{query:e(n),ref:n}}class Sl{constructor(e,t,r,i,s,o,a,u,c,f,m,y,b,A,S,O,U){at(this,"schedulers",void 0),at(this,"firestore",void 0),at(this,"persistenceEnabled$",void 0),this.schedulers=a;const z=function tb(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Fo.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Fo.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;o5("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Px(o)}(e,o,t),L=c;f&&((n,e,t,r,i,s,o,a)=>{Rx(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[c,f]of Object.entries(o))u.settings[c]=f;return a&&u.setPersistence(a),u},[t,r,i,s,o,a])})(z,o,m,b,A,S,y,O),[this.firestore,this.persistenceEnabled$]=Rx(`${z.name}.firestore`,"AngularFirestore",z.name,()=>{const ne=o.runOutsideAngular(()=>z.firestore());if(i&&ne.settings(i),L&&ne.useEmulator(...L),r&&!function SR(n){return"server"===n}(s)){const Pe=()=>{try{return Lo(ne.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(be){return typeof console<"u"&&console.warn(be),Yc(!1)}};return[ne,o.runOutsideAngular(Pe)]}return[ne,Yc(!1)]},[i,L,r])}collection(e,t){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:i,query:s}=sV(r,t),o=this.schedulers.ngZone.run(()=>i);return new nV(o,s,this)}collectionGroup(e,t){const r=t||(s=>s),i=this.firestore.collectionGroup(e);return new hZ(r(i),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>t);return new XF(r,this)}createId(){return this.firestore.collection("_").doc().id}}class ru{constructor(){Fo.Z.registerVersion("angularfire",Oa.full,"fst-compat")}static enablePersistence(e){return{ngModule:ru,providers:[{provide:rV,useValue:!0},{provide:iV,useValue:e}]}}}class gp{ngOnInit(){this.previousValue=this.value}}gp.\u0275fac=function(e){return new(e||gp)},gp.\u0275cmp=_r({type:gp,selectors:[["app-countdown-timer-card"]],inputs:{value:"value",label:"label"},decls:15,vars:6,consts:[[1,"card"],[1,"card-half","top"],[1,"content"],[1,"card-half","bottom"],[1,"card-half","top","flip"],[1,"card-half","bottom","flip"],[1,"label"]],template:function(e,t){1&e&&(Lr(0,"div",0),Fi("@flip.done",function(){return t.previousValue=t.value}),Lr(1,"div",1)(2,"div",2),Qs(3),ki()(),Lr(4,"div",3)(5,"div",2),Qs(6),ki()(),Lr(7,"div",4)(8,"div",2),Qs(9),ki()(),Lr(10,"div",5)(11,"div",2),Qs(12),ki()()(),Lr(13,"div",6),Qs(14),ki()),2&e&&(Ws("@flip",t.previousValue!=t.value),ws(3),Lc(t.value),ws(3),Lc(t.previousValue),ws(3),Lc(t.previousValue),ws(3),Lc(t.value),ws(2),gm(" ",t.label,"\n"))},styles:['[_nghost-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;gap:1.5rem}.card[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;background-color:#343650;font-size:6rem;border-radius:.5rem;perspective:500px;transform-style:preserve-3d;color:#fb6087;box-shadow:0 .7rem #191a24}@media screen and (max-width: 45rem){.card[_ngcontent-%COMP%]{font-size:2rem;perspective:100px}}.card[_ngcontent-%COMP%]:before{content:"";position:absolute;width:5%;aspect-ratio:1/1;background-color:#191a24;border-radius:0 100% 0 0;bottom:50%;left:0;z-index:2}.card[_ngcontent-%COMP%]:after{content:"";position:absolute;width:5%;aspect-ratio:1/1;background-color:#191a24;border-radius:100% 0 0;bottom:50%;right:0;z-index:2}.card[_ngcontent-%COMP%]   .card-half[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;height:50%;overflow:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden}.card[_ngcontent-%COMP%]   .card-half.bottom[_ngcontent-%COMP%]{bottom:0;background-color:#343650;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;transform-origin:top;z-index:2;box-shadow:0 -1px 2px #191a24}.card[_ngcontent-%COMP%]   .card-half.bottom.flip[_ngcontent-%COMP%]{rotate:x 180deg;z-index:2}.card[_ngcontent-%COMP%]   .card-half.bottom[_ngcontent-%COMP%]:before{content:"";position:absolute;width:5%;aspect-ratio:1/1;background-color:#191a24;border-radius:0 0 100%;top:0;left:0;z-index:2}.card[_ngcontent-%COMP%]   .card-half.bottom[_ngcontent-%COMP%]:after{content:"";position:absolute;width:5%;aspect-ratio:1/1;background-color:#191a24;border-radius:0 0 0 100%;top:0;right:0;z-index:2}.card[_ngcontent-%COMP%]   .card-half.bottom[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;inset:-100% 0 0;display:flex;align-items:center;justify-content:center;color:#fb517b}.card[_ngcontent-%COMP%]   .card-half.top[_ngcontent-%COMP%]{top:0;background-color:#343650;border-top-left-radius:inherit;border-top-right-radius:inherit;transform-origin:bottom;z-index:1}.card[_ngcontent-%COMP%]   .card-half.top[_ngcontent-%COMP%]:before{content:"";position:absolute;width:5%;aspect-ratio:1/1;background-color:#191a24;border-radius:0 100% 0 0;bottom:0;left:0;z-index:2}.card[_ngcontent-%COMP%]   .card-half.top[_ngcontent-%COMP%]:after{content:"";position:absolute;width:5%;aspect-ratio:1/1;background-color:#191a24;border-radius:100% 0 0;bottom:0;right:0;z-index:2}.card[_ngcontent-%COMP%]   .card-half.top[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;inset:0 0 -100%;display:flex;align-items:center;justify-content:center}.label[_ngcontent-%COMP%]{color:#8486a9;text-transform:uppercase;letter-spacing:.3rem}@media screen and (max-width: 45rem){.label[_ngcontent-%COMP%]{font-size:.3rem}}'],data:{animation:[function NG(n,e){return{type:7,name:n,definitions:e,options:{}}}("flip",[function OG(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}("* => 1",[function kG(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}(".flip",[function xG(n,e=null){return{type:4,styles:e,timings:n}}("300ms linear",qI({transform:"rotateX(-180deg)"}))])])])]}});class mp{constructor(){this.launchDate=new Date(2025,0,31,0,0,0),this.subscription=new ie}ngOnInit(){this.updateValues(),console.log(this.launchDate),this.subscription=fx(1e3).subscribe(e=>this.updateValues())}updateValues(){let e=new Date,t=(this.launchDate.getTime()-e.getTime())/1e3;t=Math.max(0,t),this.days=Math.floor(t/86400),t-=86400*this.days,this.hours=Math.floor(t/3600)%24,t-=3600*this.hours,this.minutes=Math.floor(t/60)%60,t-=60*this.minutes,this.seconds=Math.floor(t%60)}ngOnDestroy(){this.subscription.unsubscribe()}}mp.\u0275fac=function(e){return new(e||mp)},mp.\u0275cmp=_r({type:mp,selectors:[["app-countdown-timer"]],inputs:{launchDate:"launchDate"},decls:4,vars:4,consts:[["label","days",3,"value"],["label","hours",3,"value"],["label","minutes",3,"value"],["label","and seconds",3,"value"]],template:function(e,t){1&e&&Co(0,"app-countdown-timer-card",0)(1,"app-countdown-timer-card",1)(2,"app-countdown-timer-card",2)(3,"app-countdown-timer-card",3),2&e&&(Ws("value",t.days),ws(1),Ws("value",t.hours),ws(1),Ws("value",t.minutes),ws(1),Ws("value",t.seconds))},dependencies:[gp],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:1rem;min-width:50%}"]});class _p{constructor(e,t){this.http=e,this.sanitazer=t}ngOnChanges(e){this.src?this.http.get(this.src,{responseType:"text"}).subscribe(t=>{this.svg=this.sanitazer.bypassSecurityTrustHtml(t)}):this.svg=""}}_p.\u0275fac=function(e){return new(e||_p)(me(ZM),me(eM))},_p.\u0275cmp=_r({type:_p,selectors:[["app-svg-icon"]],inputs:{src:"src"},features:[Qi],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,t){1&e&&Co(0,"span",0),2&e&&Ws("innerHTML",t.svg,vA)}});class yp{constructor(e){this.fs=e,this.title="launch-countdown-timer-app",this.name="Angular",this.paused=!1,this.allowedsubmit=!1,this.messageForm=new m_({from:new w_(""),message:new w_("",p3.required)})}ngOnInit(){this.shoot(),this.pausable=fx(800).pipe(R9()),this.pausable.subscribe(()=>this.shoot()),this.messageForm.controls.message.valueChanges.pipe().subscribe(e=>{this.allowedsubmit=!!e})}toggle(){this.paused?this.pausable.resume():this.pausable.pause(),this.paused=!this.paused}shoot(){try{this.confetti({angle:this.random(60,120),spread:this.random(10,50),particleCount:this.random(40,50),origin:{y:.6}})}catch(e){console.warn("Confetti.js may not be loaded yet",e)}}random(e,t){return Math.random()*(t-e)+e}confetti(e){typeof window<"u"&&window.confetti&&window.confetti(e)}submitmessage(){this.messageForm.valid&&this.fs.collection("Marco Angelo Montenegro").add(this.messageForm.value).then(()=>{}).finally(()=>{this.messageForm.reset(),this.messageForm.updateValueAndValidity()})}}yp.\u0275fac=function(e){return new(e||yp)(me(Sl))},yp.\u0275cmp=_r({type:yp,selectors:[["app-root"]],decls:19,vars:2,consts:[[2,"margin-left","10px","margin-right","10px","margin-bottom","10px","padding","10px","background-color","white","opacity","0.5","color","black","border-radius","10px"],["src","../assets/images/2.png","alt","",2,"position","relative","padding","0","margin-bottom","2px"],[3,"formGroup","submit"],[1,"container"],["formControlName","from","placeholder","Type your name here.(Optional)","type","text",2,"font-weight","normal !important","font-family","Arial, Helvetica, sans-serif !important","padding","5px","width","100%","margin-bottom","10px"],["formControlName","message","placeholder","Write a message to him...",2,"font-weight","normal !important","font-family","Arial, Helvetica, sans-serif !important"],["type","submit",2,"padding-left","10px","padding-right","10px",3,"disabled"],["target","_blank","href","https://www.facebook.com/marco.a.montenegro.5"],["src","../assets/images/icon-facebook.svg"],["target","_blank","href","https://www.instagram.com/marcoangelomontenegro?igsh=NjA2MnM3NGE2N2kw"],["src","../assets/images/icon-instagram.svg"]],template:function(e,t){1&e&&(Lr(0,"header",0),Qs(1," FOR RESIGNATION "),Co(2,"br"),Qs(3," MARCO ANGELO V. MONTENEGRO\n"),ki(),Co(4,"img",1)(5,"app-countdown-timer"),Lr(6,"form",2),Fi("submit",function(){return t.submitmessage()}),Lr(7,"div",3),Co(8,"input",4)(9,"textarea",5),Lr(10,"button",6),Qs(11," Send "),ki()()(),Lr(12,"footer")(13,"h5"),Qs(14,"You can still find me at"),ki(),Lr(15,"a",7),Co(16,"app-svg-icon",8),ki(),Lr(17,"a",9),Co(18,"app-svg-icon",10),ki()()),2&e&&(ws(6),Ws("formGroup",t.messageForm),ws(4),Ws("disabled",!t.allowedsubmit))},dependencies:[qN,c_,MN,NN,b_,Uw,mp,_p],styles:["[_nghost-%COMP%]{display:flex;height:100%;flex-direction:column;align-items:center;padding:3rem .5rem .5rem;background:url(pattern-hills.1f36e895a09d14a9.svg) bottom no-repeat,url(bg-stars.9e613d73b4a0f12f.svg) no-repeat,hsl(180deg,4%,5%);background-size:contain}@media screen and (max-width: 45rem){[_nghost-%COMP%]{background-size:300%;background-position:bottom 0 right 5px}}header[_ngcontent-%COMP%]{font-size:1.5rem;letter-spacing:.5rem;color:#fb6087;text-align:center}@media screen and (min-width: 15rem){header[_ngcontent-%COMP%]{font-size:1rem}}footer[_ngcontent-%COMP%]{color:#fff;display:flex;align-items:center;gap:2rem}@media screen and (min-width: 15rem){footer[_ngcontent-%COMP%]{margin-top:2%}}app-svg-icon[_ngcontent-%COMP%]{fill:#8486a9}app-svg-icon[_ngcontent-%COMP%]:hover{cursor:pointer;fill:#fb6087}.container[_ngcontent-%COMP%]{position:relative;background-color:#f1f1f1;border-radius:4px;width:100%;margin-top:20px;padding:5px}textarea[_ngcontent-%COMP%]{background-color:transparent;width:100%;resize:vertical;border:none}textarea[_ngcontent-%COMP%]:focus{outline:none}.icon[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px}"]});const oV_firebaseConfig={apiKey:"AIzaSyDjMHZ0maSW3NFcd6-miuoNbOZI3rw3LFw",authDomain:"qrcode-event-system-7bf01.firebaseapp.com",projectId:"qrcode-event-system-7bf01",storageBucket:"qrcode-event-system-7bf01.firebasestorage.app",messagingSenderId:"532643568010",appId:"1:532643568010:web:be99c24059dd9821f85073",measurementId:"G-Q41YKGJSYX"};class vp{constructor(e){return e}}class aV{constructor(){return(0,jr.getApps)()}}const F0=new Ce("angularfire2._apps");function yZ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vp(r)}}class kd{constructor(e){(0,jr.registerVersion)("angularfire",Oa.full,"core"),(0,jr.registerVersion)("angularfire",Oa.full,"app"),(0,jr.registerVersion)("angular",hE.full,e.toString())}}const EZ=Sx(jr.initializeApp,!0);$e(247);class lV{constructor(){return Xw("auth")}}class B0{constructor(e){return e}}const U0=new Ce("angularfire2.firestore-instances");function CZ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new B0(r)}}class Vd{constructor(){(0,jr.registerVersion)("angularfire",Oa.full,"fst")}}const MZ=Sx(t7,!0);class Ld{}Ld.\u0275fac=function(e){return new(e||Ld)},Ld.\u0275mod=xn({type:Ld,bootstrap:[yp]}),Ld.\u0275inj=He({imports:[YR,OW,o3,ka.initializeApp(oV_firebaseConfig),ru,a9,o9,function vZ(n,...e){return{ngModule:kd,providers:[{provide:F0,useFactory:yZ(n),multi:!0,deps:[fn,bs,ko,...e]}]}}(()=>EZ(oV_firebaseConfig)),function RZ(n,...e){return{ngModule:Vd,providers:[{provide:U0,useFactory:CZ(n),multi:!0,deps:[fn,bs,ko,aV,[new ni,lV],[new ni,eb],...e]}]}}(()=>MZ())]}),IG().bootstrapModule(Ld).catch(n=>console.error(n))},655:(zi,Mn,$e)=>{function Me(X,te){var ae={};for(var de in X)Object.prototype.hasOwnProperty.call(X,de)&&te.indexOf(de)<0&&(ae[de]=X[de]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(de=Object.getOwnPropertySymbols(X);Ee<de.length;Ee++)te.indexOf(de[Ee])<0&&Object.prototype.propertyIsEnumerable.call(X,de[Ee])&&(ae[de[Ee]]=X[de[Ee]])}return ae}function zt(X,te,ae,de){return new(ae||(ae=Promise))(function(pe,Ze){function At(Tn){try{Ge(de.next(Tn))}catch(Rr){Ze(Rr)}}function $n(Tn){try{Ge(de.throw(Tn))}catch(Rr){Ze(Rr)}}function Ge(Tn){Tn.done?pe(Tn.value):function Ee(pe){return pe instanceof ae?pe:new ae(function(Ze){Ze(pe)})}(Tn.value).then(At,$n)}Ge((de=de.apply(X,te||[])).next())})}function et(X){return this instanceof et?(this.v=X,this):new et(X)}function Ke(X,te,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,de=ae.apply(X,te||[]),pe=[];return Ee={},Ze("next"),Ze("throw"),Ze("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee;function Ze(Qe){de[Qe]&&(Ee[Qe]=function(ft){return new Promise(function(vn,di){pe.push([Qe,ft,vn,di])>1||At(Qe,ft)})})}function At(Qe,ft){try{!function $n(Qe){Qe.value instanceof et?Promise.resolve(Qe.value.v).then(Ge,Tn):Rr(pe[0][2],Qe)}(de[Qe](ft))}catch(vn){Rr(pe[0][3],vn)}}function Ge(Qe){At("next",Qe)}function Tn(Qe){At("throw",Qe)}function Rr(Qe,ft){Qe(ft),pe.shift(),pe.length&&At(pe[0][0],pe[0][1])}}function bn(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,te=X[Symbol.asyncIterator];return te?te.call(X):(X=function Ne(X){var te="function"==typeof Symbol&&Symbol.iterator,ae=te&&X[te],de=0;if(ae)return ae.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&de>=X.length&&(X=void 0),{value:X&&X[de++],done:!X}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ae={},de("next"),de("throw"),de("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function de(pe){ae[pe]=X[pe]&&function(Ze){return new Promise(function(At,$n){!function Ee(pe,Ze,At,$n){Promise.resolve($n).then(function(Ge){pe({value:Ge,done:At})},Ze)}(At,$n,(Ze=X[pe](Ze)).done,Ze.value)})}}}$e.d(Mn,{FC:()=>Ke,KL:()=>bn,_T:()=>Me,mG:()=>zt,qq:()=>et})},101:(zi,Mn,$e)=>{$e.d(Mn,{Z:()=>Nn});var R=$e(578),ge=$e(617),M=$e(212);$e(357);class ln{constructor(et,Ke){this._delegate=et,this.firebase=Ke,(0,M._addComponent)(et,new ge.wA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(et,Ke=M._DEFAULT_ENTRY_NAME){var jn;this._delegate.checkDestroyed();const bn=this._delegate.container.getProvider(et);return!bn.isInitialized()&&"EXPLICIT"===(null===(jn=bn.getComponent())||void 0===jn?void 0:jn.instantiationMode)&&bn.initialize(),bn.getImmediate({identifier:Ke})}_removeServiceInstance(et,Ke=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(Ke)}_addComponent(et){(0,M._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,M._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const cn=new R.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function xt(){const St=function zt(St){const et={},Ke={__esModule:!0,initializeApp:function Pt(it,yn={}){const oe=M.initializeApp(it,yn);if((0,R.r3)(et,oe.name))return et[oe.name];const X=new St(oe,Ke);return et[oe.name]=X,X},app:bn,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function Pr(it){const yn=it.name,oe=yn.replace("-compat","");if(M._registerComponent(it)&&"PUBLIC"===it.type){const X=(te=bn())=>{if("function"!=typeof te[oe])throw cn.create("invalid-app-argument",{appName:yn});return te[oe]()};void 0!==it.serviceProps&&(0,R.ZB)(X,it.serviceProps),Ke[oe]=X,St.prototype[oe]=function(...te){return this._getService.bind(this,yn).apply(this,it.multipleInstances?te:[])}}return"PUBLIC"===it.type?Ke[oe]:null},removeApp:function jn(it){delete et[it]},useAsService:function Gt(it,yn){return"serverAuth"===yn?null:yn},modularAPIs:M}};function bn(it){if(!(0,R.r3)(et,it=it||M._DEFAULT_ENTRY_NAME))throw cn.create("no-app",{appName:it});return et[it]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function ze(){return Object.keys(et).map(it=>et[it])}}),bn.App=St,Ke}(ln);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:xt,extendNamespace:function et(Ke){(0,R.ZB)(St,Ke)},createSubscribe:R.ne,ErrorFactory:R.LL,deepExtend:R.ZB}),St}const ie=xt();try{}catch{}const Nn=ie},212:(zi,Mn,$e)=>{$e.r(Mn),$e.d(Mn,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>bt,_DEFAULT_ENTRY_NAME:()=>mr,_addComponent:()=>hs,_addOrOverwriteComponent:()=>fs,_apps:()=>ur,_clearComponents:()=>xs,_components:()=>Hn,_getProvider:()=>Wi,_isFirebaseApp:()=>Vt,_isFirebaseServerApp:()=>Zi,_registerComponent:()=>Mr,_removeServiceInstance:()=>Ki,_serverApps:()=>Zn,deleteApp:()=>_i,getApp:()=>Rt,getApps:()=>Be,initializeApp:()=>mi,initializeServerApp:()=>ps,onLog:()=>w,registerVersion:()=>D,setLogLevel:()=>v});var R=$e(861),ge=$e(617),M=$e(357),Me=$e(578);let Zt,cn;const ie=new WeakMap,fe=new WeakMap,Ne=new WeakMap,lt=new WeakMap,Xe=new WeakMap;let et={get(Q,H,ee){if(Q instanceof IDBTransaction){if("done"===H)return fe.get(Q);if("objectStoreNames"===H)return Q.objectStoreNames||Ne.get(Q);if("store"===H)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Pt(Q[H])},set:(Q,H,ee)=>(Q[H]=ee,!0),has:(Q,H)=>Q instanceof IDBTransaction&&("done"===H||"store"===H)||H in Q};function bn(Q){return"function"==typeof Q?function jn(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xt(){return cn||(cn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...H){return Q.apply(ze(this),H),Pt(ie.get(this))}:function(...H){return Pt(Q.apply(ze(this),H))}:function(H,...ee){const ce=Q.call(ze(this),H,...ee);return Ne.set(ce,H.sort?H.sort():[H]),Pt(ce)}}(Q):(Q instanceof IDBTransaction&&function St(Q){if(fe.has(Q))return;const H=new Promise((ee,ce)=>{const tt=()=>{Q.removeEventListener("complete",nt),Q.removeEventListener("error",mt),Q.removeEventListener("abort",mt)},nt=()=>{ee(),tt()},mt=()=>{ce(Q.error||new DOMException("AbortError","AbortError")),tt()};Q.addEventListener("complete",nt),Q.addEventListener("error",mt),Q.addEventListener("abort",mt)});fe.set(Q,H)}(Q),((Q,H)=>H.some(ee=>Q instanceof ee))(Q,function zt(){return Zt||(Zt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,et):Q)}function Pt(Q){if(Q instanceof IDBRequest)return function Nn(Q){const H=new Promise((ee,ce)=>{const tt=()=>{Q.removeEventListener("success",nt),Q.removeEventListener("error",mt)},nt=()=>{ee(Pt(Q.result)),tt()},mt=()=>{ce(Q.error),tt()};Q.addEventListener("success",nt),Q.addEventListener("error",mt)});return H.then(ee=>{ee instanceof IDBCursor&&ie.set(ee,Q)}).catch(()=>{}),Xe.set(H,Q),H}(Q);if(lt.has(Q))return lt.get(Q);const H=bn(Q);return H!==Q&&(lt.set(Q,H),Xe.set(H,Q)),H}const ze=Q=>Xe.get(Q),it=["get","getKey","getAll","getAllKeys","count"],yn=["put","add","delete","clear"],oe=new Map;function X(Q,H){if(!(Q instanceof IDBDatabase)||H in Q||"string"!=typeof H)return;if(oe.get(H))return oe.get(H);const ee=H.replace(/FromIndex$/,""),ce=H!==ee,tt=yn.includes(ee);if(!(ee in(ce?IDBIndex:IDBObjectStore).prototype)||!tt&&!it.includes(ee))return;const nt=function(){var mt=(0,R.Z)(function*(ke,...tn){const He=this.transaction(ke,tt?"readwrite":"readonly");let Pi=He.store;return ce&&(Pi=Pi.index(tn.shift())),(yield Promise.all([Pi[ee](...tn),tt&&He.done]))[0]});return function(tn){return mt.apply(this,arguments)}}();return oe.set(H,nt),nt}!function Ke(Q){et=Q(et)}(Q=>({...Q,get:(H,ee,ce)=>X(H,ee)||Q.get(H,ee,ce),has:(H,ee)=>!!X(H,ee)||Q.has(H,ee)}));const de="@firebase/app",pe=new M.Yd("@firebase/app"),mr="[DEFAULT]",ds={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ur=new Map,Zn=new Map,Hn=new Map;function hs(Q,H){try{Q.container.addComponent(H)}catch(ee){pe.debug(`Component ${H.name} failed to register with FirebaseApp ${Q.name}`,ee)}}function fs(Q,H){Q.container.addOrOverwriteComponent(H)}function Mr(Q){const H=Q.name;if(Hn.has(H))return pe.debug(`There were multiple attempts to register component ${H}.`),!1;Hn.set(H,Q);for(const ee of ur.values())hs(ee,Q);for(const ee of Zn.values())hs(ee,Q);return!0}function Wi(Q,H){const ee=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),Q.container.getProvider(H)}function Ki(Q,H,ee=mr){Wi(Q,H).clearInstance(ee)}function Vt(Q){return void 0!==Q.options}function Zi(Q){return void 0!==Q.settings}function xs(){Hn.clear()}const Bt=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class dt{constructor(H,ee,ce){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=ce,this.container.addComponent(new ge.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}class gi extends dt{constructor(H,ee,ce,tt){const nt=void 0!==ee.automaticDataCollectionEnabled&&ee.automaticDataCollectionEnabled,mt={name:ce,automaticDataCollectionEnabled:nt};super(void 0!==H.apiKey?H:H.options,mt,tt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:nt},ee),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,ee.releaseOnDeref=void 0,D(de,"0.10.13","serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(H){this.isDeleted||(this._refCount++,void 0!==H&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(H,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){_i(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Bt.create("server-app-deleted")}}const bt="10.14.1";function mi(Q,H={}){let ee=Q;"object"!=typeof H&&(H={name:H});const ce=Object.assign({name:mr,automaticDataCollectionEnabled:!1},H),tt=ce.name;if("string"!=typeof tt||!tt)throw Bt.create("bad-app-name",{appName:String(tt)});if(ee||(ee=(0,Me.aH)()),!ee)throw Bt.create("no-options");const nt=ur.get(tt);if(nt){if((0,Me.vZ)(ee,nt.options)&&(0,Me.vZ)(ce,nt.config))return nt;throw Bt.create("duplicate-app",{appName:tt})}const mt=new ge.H0(tt);for(const tn of Hn.values())mt.addComponent(tn);const ke=new dt(ee,ce,mt);return ur.set(tt,ke),ke}function ps(Q,H){if((0,Me.jU)()&&!(0,Me.n2)())throw Bt.create("invalid-server-app-environment");let ee;void 0===H.automaticDataCollectionEnabled&&(H.automaticDataCollectionEnabled=!1),ee=Vt(Q)?Q.options:Q;const ce=Object.assign(Object.assign({},H),ee);if(void 0!==ce.releaseOnDeref&&delete ce.releaseOnDeref,void 0!==H.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Bt.create("finalization-registry-not-supported",{});const nt=""+(He=JSON.stringify(ce),[...He].reduce((Pi,ea)=>Math.imul(31,Pi)+ea.charCodeAt(0)|0,0)),mt=Zn.get(nt);var He;if(mt)return mt.incRefCount(H.releaseOnDeref),mt;const ke=new ge.H0(nt);for(const He of Hn.values())ke.addComponent(He);const tn=new gi(ee,H,nt,ke);return Zn.set(nt,tn),tn}function Rt(Q=mr){const H=ur.get(Q);if(!H&&Q===mr&&(0,Me.aH)())return mi();if(!H)throw Bt.create("no-app",{appName:Q});return H}function Be(){return Array.from(ur.values())}function _i(Q){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,R.Z)(function*(Q){let H=!1;const ee=Q.name;ur.has(ee)?(H=!0,ur.delete(ee)):Zn.has(ee)&&Q.decRefCount()<=0&&(Zn.delete(ee),H=!0),H&&(yield Promise.all(Q.container.getProviders().map(ce=>ce.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function D(Q,H,ee){var ce;let tt=null!==(ce=ds[Q])&&void 0!==ce?ce:Q;ee&&(tt+=`-${ee}`);const nt=tt.match(/\s|\//),mt=H.match(/\s|\//);if(nt||mt){const ke=[`Unable to register library "${tt}" with version "${H}":`];return nt&&ke.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),nt&&mt&&ke.push("and"),mt&&ke.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void pe.warn(ke.join(" "))}Mr(new ge.wA(`${tt}-version`,()=>({library:tt,version:H}),"VERSION"))}function w(Q,H){if(null!==Q&&"function"!=typeof Q)throw Bt.create("invalid-log-argument");(0,M.Am)(Q,H)}function v(Q){(0,M.Ub)(Q)}},617:(zi,Mn,$e)=>{$e.d(Mn,{H0:()=>zt,wA:()=>M});var R=$e(861),ge=$e(578);class M{constructor(ie,fe,Ne){this.name=ie,this.instanceFactory=fe,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const Me="[DEFAULT]";class ln{constructor(ie,fe){this.name=ie,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const fe=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(fe)){const Ne=new ge.BH;if(this.instancesDeferred.set(fe,Ne),this.isInitialized(fe)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:fe});lt&&Ne.resolve(lt)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(ie){var fe;const Ne=this.normalizeInstanceIdentifier(ie?.identifier),lt=null!==(fe=ie?.optional)&&void 0!==fe&&fe;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(Xe){if(lt)return null;throw Xe}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function cn(xt){return"EAGER"===xt.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:Me})}catch{}for(const[fe,Ne]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(fe);try{const Xe=this.getOrInitializeService({instanceIdentifier:lt});Ne.resolve(Xe)}catch{}}}}clearInstance(ie=Me){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,R.Z)(function*(){const fe=Array.from(ie.instances.values());yield Promise.all([...fe.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...fe.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=Me){return this.instances.has(ie)}getOptions(ie=Me){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:fe={}}=ie,Ne=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:Ne,options:fe});for(const[Xe,Nn]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(Xe)&&Nn.resolve(lt);return lt}onInit(ie,fe){var Ne;const lt=this.normalizeInstanceIdentifier(fe),Xe=null!==(Ne=this.onInitCallbacks.get(lt))&&void 0!==Ne?Ne:new Set;Xe.add(ie),this.onInitCallbacks.set(lt,Xe);const Nn=this.instances.get(lt);return Nn&&ie(Nn,lt),()=>{Xe.delete(ie)}}invokeOnInitCallbacks(ie,fe){const Ne=this.onInitCallbacks.get(fe);if(Ne)for(const lt of Ne)try{lt(ie,fe)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:fe={}}){let Ne=this.instances.get(ie);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:(xt=ie,xt===Me?void 0:xt),options:fe}),this.instances.set(ie,Ne),this.instancesOptions.set(ie,fe),this.invokeOnInitCallbacks(Ne,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Ne)}catch{}var xt;return Ne||null}normalizeInstanceIdentifier(ie=Me){return this.component?this.component.multipleInstances?ie:Me:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zt{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const fe=this.getProvider(ie.name);if(fe.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);fe.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const fe=new ln(ie,this);return this.providers.set(ie,fe),fe}getProviders(){return Array.from(this.providers.values())}}},357:(zi,Mn,$e)=>{$e.d(Mn,{Am:()=>xt,Ub:()=>zt,Yd:()=>cn,in:()=>ge});const R=[];var ge=(()=>((ge=ge||{})[ge.DEBUG=0]="DEBUG",ge[ge.VERBOSE=1]="VERBOSE",ge[ge.INFO=2]="INFO",ge[ge.WARN=3]="WARN",ge[ge.ERROR=4]="ERROR",ge[ge.SILENT=5]="SILENT",ge))();const M={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Me=ge.INFO,ln={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},Zt=(ie,fe,...Ne)=>{if(fe<ie.logLevel)return;const lt=(new Date).toISOString(),Xe=ln[fe];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[Xe](`[${lt}]  ${ie.name}:`,...Ne)};class cn{constructor(fe){this.name=fe,this._logLevel=Me,this._logHandler=Zt,this._userLogHandler=null,R.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in ge))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?M[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...fe),this._logHandler(this,ge.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...fe),this._logHandler(this,ge.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...fe),this._logHandler(this,ge.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...fe),this._logHandler(this,ge.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...fe),this._logHandler(this,ge.ERROR,...fe)}}function zt(ie){R.forEach(fe=>{fe.setLogLevel(ie)})}function xt(ie,fe){for(const Ne of R){let lt=null;fe&&fe.level&&(lt=M[fe.level]),Ne.userLogHandler=null===ie?null:(Xe,Nn,...St)=>{const et=St.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");Nn>=(lt??Xe.logLevel)&&ie({level:ge[Nn].toLowerCase(),message:et,args:St,type:Xe.name})}}}},54:(zi,Mn,$e)=>{$e.r(Mn);var R=$e(861),ge=$e(101),M=$e(247),Me=$e(578);function zt(){return window}function fe(){return(fe=(0,R.Z)(function*(D,w,v){var x;const{BuildInfo:P}=zt();(0,M.au)(w.sessionId,"AuthEvent did not contain a session ID");const Z=yield Ke(w.sessionId),we={};return(0,M.av)()?we.ibi=P.packageName:(0,M.aw)()?we.apn=P.packageName:(0,M.ax)(D,"operation-not-supported-in-this-environment"),P.displayName&&(we.appDisplayName=P.displayName),we.sessionId=Z,(0,M.ay)(D,v,w.type,void 0,null!==(x=w.eventId)&&void 0!==x?x:void 0,we)})).apply(this,arguments)}function lt(){return(lt=(0,R.Z)(function*(D){const{BuildInfo:w}=zt(),v={};(0,M.av)()?v.iosBundleId=w.packageName:(0,M.aw)()?v.androidPackageName=w.packageName:(0,M.ax)(D,"operation-not-supported-in-this-environment"),yield(0,M.az)(D,v)})).apply(this,arguments)}function St(){return(St=(0,R.Z)(function*(D,w,v){const{cordova:x}=zt();let P=()=>{};try{yield new Promise((Z,we)=>{let Ue=null;function vt(){var Re;Z();const Qt=null===(Re=x.plugins.browsertab)||void 0===Re?void 0:Re.close;"function"==typeof Qt&&Qt(),"function"==typeof v?.close&&v.close()}function pt(){Ue||(Ue=window.setTimeout(()=>{we((0,M.aB)(D,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===document?.visibilityState&&pt()}w.addPassiveListener(vt),document.addEventListener("resume",pt,!1),(0,M.aw)()&&document.addEventListener("visibilitychange",_t,!1),P=()=>{w.removePassiveListener(vt),document.removeEventListener("resume",pt,!1),document.removeEventListener("visibilitychange",_t,!1),Ue&&window.clearTimeout(Ue)}})}finally{P()}})).apply(this,arguments)}function Ke(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,R.Z)(function*(D){const w=bn(D),v=yield crypto.subtle.digest("SHA-256",w);return Array.from(new Uint8Array(v)).map(P=>P.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bn(D){if((0,M.au)(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(D);const w=new ArrayBuffer(D.length),v=new Uint8Array(w);for(let x=0;x<D.length;x++)v[x]=D.charCodeAt(x);return v}$e(212),$e(357),$e(617);class ze extends M.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(w=>{this.resolveInitialized=w})}addPassiveListener(w){this.passiveListeners.add(w)}removePassiveListener(w){this.passiveListeners.delete(w)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(w){return this.resolveInitialized(),this.passiveListeners.forEach(v=>v(w)),super.onEvent(w)}initialized(){var w=this;return(0,R.Z)(function*(){yield w.initPromise})()}}function it(D){return yn.apply(this,arguments)}function yn(){return(yn=(0,R.Z)(function*(D){const w=yield te()._get(ae(D));return w&&(yield te()._remove(ae(D))),w})).apply(this,arguments)}function X(){const D=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const x=Math.floor(Math.random()*w.length);D.push(w.charAt(x))}return D.join("")}function te(){return(0,M.aE)(M.b)}function ae(D){return(0,M.aF)("authEvent",D.config.apiKey,D.name)}function pe(D){if(!D?.includes("?"))return{};const[w,...v]=D.split("?");return(0,Me.zd)(v.join("?"))}const $n=class At{constructor(){this._redirectPersistence=M.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=M.aG,this._overrideRedirectResult=M.aH}_initialize(w){var v=this;return(0,R.Z)(function*(){const x=w._key();let P=v.eventManagers.get(x);return P||(P=new ze(w),v.eventManagers.set(x,P),v.attachCallbackListeners(w,P)),P})()}_openPopup(w){(0,M.ax)(w,"operation-not-supported-in-this-environment")}_openRedirect(w,v,x,P){var Z=this;return(0,R.Z)(function*(){!function et(D){var w,v,x,P,Z,we,Ue,vt,pt,_t;const Re=zt();(0,M.aC)("function"==typeof(null===(w=Re?.universalLinks)||void 0===w?void 0:w.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,M.aC)(typeof(null===(v=Re?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,M.aC)("function"==typeof(null===(Z=null===(P=null===(x=Re?.cordova)||void 0===x?void 0:x.plugins)||void 0===P?void 0:P.browsertab)||void 0===Z?void 0:Z.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.aC)("function"==typeof(null===(vt=null===(Ue=null===(we=Re?.cordova)||void 0===we?void 0:we.plugins)||void 0===Ue?void 0:Ue.browsertab)||void 0===vt?void 0:vt.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,M.aC)("function"==typeof(null===(_t=null===(pt=Re?.cordova)||void 0===pt?void 0:pt.InAppBrowser)||void 0===_t?void 0:_t.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(w);const we=yield Z._initialize(w);yield we.initialized(),we.resetRedirect(),(0,M.aI)(),yield Z._originValidation(w);const Ue=function Pr(D,w,v=null){return{type:w,eventId:v,urlResponse:null,sessionId:X(),postBody:null,tenantId:D.tenantId,error:(0,M.aB)(D,"no-auth-event")}}(w,x,P);yield function Gt(D,w){return te()._set(ae(D),w)}(w,Ue);const vt=yield function ie(D,w,v){return fe.apply(this,arguments)}(w,Ue,v),pt=yield function Xe(D){const{cordova:w}=zt();return new Promise(v=>{w.plugins.browsertab.isAvailable(x=>{let P=null;x?w.plugins.browsertab.openUrl(D):P=w.InAppBrowser.open(D,(0,M.aA)()?"_blank":"_system","location=yes"),v(P)})})}(vt);return function Nn(D,w,v){return St.apply(this,arguments)}(w,we,pt)})()}_isIframeWebStorageSupported(w,v){throw new Error("Method not implemented.")}_originValidation(w){const v=w._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ne(D){return lt.apply(this,arguments)}(w)),this.originValidationPromises[v]}attachCallbackListeners(w,v){const{universalLinks:x,handleOpenURL:P,BuildInfo:Z}=zt(),we=setTimeout((0,R.Z)(function*(){yield it(w),v.onEvent(Ge())}),500),Ue=function(){var _t=(0,R.Z)(function*(Re){clearTimeout(we);const Qt=yield it(w);let Si=null;Qt&&Re?.url&&(Si=function oe(D,w){var v,x;const P=function Ee(D){const w=pe(D),v=w.link?decodeURIComponent(w.link):void 0,x=pe(v).link,P=w.deep_link_id?decodeURIComponent(w.deep_link_id):void 0;return pe(P).link||P||x||v||D}(w);if(P.includes("/__/auth/callback")){const Z=pe(P),we=Z.firebaseError?function de(D){try{return JSON.parse(D)}catch{return null}}(decodeURIComponent(Z.firebaseError)):null,Ue=null===(x=null===(v=we?.code)||void 0===v?void 0:v.split("auth/"))||void 0===x?void 0:x[1],vt=Ue?(0,M.aB)(Ue):null;return vt?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:P,postBody:null}}return null}(Qt,Re.url)),v.onEvent(Si||Ge())});return function(Qt){return _t.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,Ue);const vt=P,pt=`${Z.packageName.toLowerCase()}://`;zt().handleOpenURL=function(){var _t=(0,R.Z)(function*(Re){if(Re.toLowerCase().startsWith(pt)&&Ue({url:Re}),"function"==typeof vt)try{vt(Re)}catch(Qt){console.error(Qt)}});return function(Re){return _t.apply(this,arguments)}}()}};function Ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,M.aB)("no-auth-event")}}function vn(){var D;return(null===(D=self?.location)||void 0===D?void 0:D.protocol)||null}function us(){return function Gi(D=(0,Me.z$)()){return!("file:"!==vn()&&"ionic:"!==vn()&&"capacitor:"!==vn()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function ls(){return(ls=(0,R.Z)(function*(){return!!us()&&new Promise(D=>{const w=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(w),D(!0)})})})).apply(this,arguments)}const cs="persistence";function Ns(D){return mr.apply(this,arguments)}function mr(){return(mr=(0,R.Z)(function*(D){yield D._initializationPromise;const w=ur(),v=M.aF(cs,D.config.apiKey,D.name);w&&w.setItem(v,D._getPersistence())})).apply(this,arguments)}function ur(){var D;try{return(null===(D=function Rs(){return typeof window<"u"?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch{return null}}const Zn=M.aC;class Hn{constructor(){this.browserResolver=M.aE(M.k),this.cordovaResolver=M.aE($n),this.underlyingResolver=null,this._redirectPersistence=M.a,this._completeRedirectFn=M.aG,this._overrideRedirectResult=M.aH}_initialize(w){var v=this;return(0,R.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(w)})()}_openPopup(w,v,x,P){var Z=this;return(0,R.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openPopup(w,v,x,P)})()}_openRedirect(w,v,x,P){var Z=this;return(0,R.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._openRedirect(w,v,x,P)})()}_isIframeWebStorageSupported(w,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(w,v)}_originValidation(w){return this.assertedUnderlyingResolver._originValidation(w)}get _shouldInitProactively(){return us()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var w=this;return(0,R.Z)(function*(){if(w.underlyingResolver)return;const v=yield function ho(){return ls.apply(this,arguments)}();w.underlyingResolver=v?w.cordovaResolver:w.browserResolver})()}}function hs(D){return D.unwrap()}function Mr(D){return Ki(D)}function Ki(D){const{_tokenResponse:w}=D instanceof Me.ZR?D.customData:D;if(!w)return null;if(!(D instanceof Me.ZR)&&"temporaryProof"in w&&"phoneNumber"in w)return M.P.credentialFromResult(D);const v=w.providerId;if(!v||v===M.p.PASSWORD)return null;let x;switch(v){case M.p.GOOGLE:x=M.X;break;case M.p.FACEBOOK:x=M.W;break;case M.p.GITHUB:x=M.Y;break;case M.p.TWITTER:x=M.$;break;default:const{oauthIdToken:P,oauthAccessToken:Z,oauthTokenSecret:we,pendingToken:Ue,nonce:vt}=w;return Z||we||P||Ue?Ue?v.startsWith("saml.")?M.aQ._create(v,Ue):M.N._fromParams({providerId:v,signInMethod:v,pendingToken:Ue,idToken:P,accessToken:Z}):new M.Z(v).credential({idToken:P,accessToken:Z,rawNonce:vt}):null}return D instanceof Me.ZR?x.credentialFromError(D):x.credentialFromResult(D)}function Vt(D,w){return w.catch(v=>{throw v instanceof Me.ZR&&function Wi(D,w){var v;const x=null===(v=w.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===w?.code)w.resolver=new Xo(D,M.as(D,w));else if(x){const P=Ki(w),Z=w;P&&(Z.credential=P,Z.tenantId=x.tenantId||void 0,Z.email=x.email||void 0,Z.phoneNumber=x.phoneNumber||void 0)}}(D,v),v}).then(v=>{const P=v.user;return{operationType:v.operationType,credential:Mr(v),additionalUserInfo:M.aq(v),user:Bt.getOrCreate(P)}})}function Zi(D,w){return xs.apply(this,arguments)}function xs(){return(xs=(0,R.Z)(function*(D,w){const v=yield w;return{verificationId:v.verificationId,confirm:x=>Vt(D,v.confirm(x))}})).apply(this,arguments)}class Xo{constructor(w,v){this.resolver=v,this.auth=function fs(D){return D.wrapped()}(w)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(w){return Vt(hs(this.auth),this.resolver.resolveSignIn(w))}}class Bt{constructor(w){this._delegate=w,this.multiFactor=M.at(w)}static getOrCreate(w){return Bt.USER_MAP.has(w)||Bt.USER_MAP.set(w,new Bt(w)),Bt.USER_MAP.get(w)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(w){return this._delegate.getIdTokenResult(w)}getIdToken(w){return this._delegate.getIdToken(w)}linkAndRetrieveDataWithCredential(w){return this.linkWithCredential(w)}linkWithCredential(w){var v=this;return(0,R.Z)(function*(){return Vt(v.auth,M.a2(v._delegate,w))})()}linkWithPhoneNumber(w,v){var x=this;return(0,R.Z)(function*(){return Zi(x.auth,M.l(x._delegate,w,v))})()}linkWithPopup(w){var v=this;return(0,R.Z)(function*(){return Vt(v.auth,M.d(v._delegate,w,Hn))})()}linkWithRedirect(w){var v=this;return(0,R.Z)(function*(){return yield Ns(M.aJ(v.auth)),M.g(v._delegate,w,Hn)})()}reauthenticateAndRetrieveDataWithCredential(w){return this.reauthenticateWithCredential(w)}reauthenticateWithCredential(w){var v=this;return(0,R.Z)(function*(){return Vt(v.auth,M.a3(v._delegate,w))})()}reauthenticateWithPhoneNumber(w,v){return Zi(this.auth,M.r(this._delegate,w,v))}reauthenticateWithPopup(w){return Vt(this.auth,M.e(this._delegate,w,Hn))}reauthenticateWithRedirect(w){var v=this;return(0,R.Z)(function*(){return yield Ns(M.aJ(v.auth)),M.h(v._delegate,w,Hn)})()}sendEmailVerification(w){return M.ag(this._delegate,w)}unlink(w){var v=this;return(0,R.Z)(function*(){return yield M.ap(v._delegate,w),v})()}updateEmail(w){return M.al(this._delegate,w)}updatePassword(w){return M.am(this._delegate,w)}updatePhoneNumber(w){return M.u(this._delegate,w)}updateProfile(w){return M.ak(this._delegate,w)}verifyBeforeUpdateEmail(w,v){return M.ah(this._delegate,w,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bt.USER_MAP=new WeakMap;class ps{constructor(){this.providerId="phone",this._delegate=new M.P(hs(ge.Z.auth()))}static credential(w,v){return M.P.credential(w,v)}verifyPhoneNumber(w,v){return this._delegate.verifyPhoneNumber(w,v)}unwrap(){return this._delegate}}ps.PHONE_SIGN_IN_METHOD=M.P.PHONE_SIGN_IN_METHOD,ps.PROVIDER_ID=M.P.PROVIDER_ID},861:(zi,Mn,$e)=>{function R(M,Me,ln,Zt,cn,zt,xt){try{var ie=M[zt](xt),fe=ie.value}catch(Ne){return void ln(Ne)}ie.done?Me(fe):Promise.resolve(fe).then(Zt,cn)}function ge(M){return function(){var Me=this,ln=arguments;return new Promise(function(Zt,cn){var zt=M.apply(Me,ln);function xt(fe){R(zt,Zt,cn,xt,ie,"next",fe)}function ie(fe){R(zt,Zt,cn,xt,ie,"throw",fe)}xt(void 0)})}}$e.d(Mn,{Z:()=>ge})}},zi=>{zi(zi.s=18)}]);